{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://lionweb.io/delta.schema.json",
  "title": "LionWeb Delta Protocol",
  "description": "Version: 0",
  "type": "object",
  "anyOf": [
    {
      "$ref": "#/$defs/QueryRequests"
    },
    {
      "$ref": "#/$defs/QueryResponses"
    },
    {
      "$ref": "#/$defs/Commands"
    },
    {
      "$ref": "#/$defs/Events"
    }
  ],
  "$defs": {
    "id": {
      "type": "string",
      "minLength": 1,
      "pattern": "^[a-zA-Z0-9_-]+$"
    },
    "deltaProtocolVersion": {
      "enum": [
        "2025.1"
      ]
    },
    "key": {
      "$ref": "#/$defs/id"
    },
    "version": {
      "type": "string",
      "minLength": 1
    },
    "metaPointer": {
      "type": "object",
      "properties": {
        "language": {
          "$ref": "#/$defs/key"
        },
        "version": {
          "$ref": "#/$defs/version"
        },
        "key": {
          "$ref": "#/$defs/key"
        }
      },
      "required": [
        "language",
        "version",
        "key"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "DeltaSerializationChunk": {
      "type": "object",
      "properties": {
        "nodes": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedNode"
          },
          "uniqueItems": true
        }
      },
      "required": [
        "nodes"
      ],
      "additionalProperties": false,
      "minProperties": 1,
      "maxProperties": 1
    },
    "SerializedNode": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/$defs/targetNode"
        },
        "classifier": {
          "$ref": "#/$defs/metaPointer"
        },
        "properties": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedProperty"
          }
        },
        "containments": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedContainment"
          }
        },
        "references": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedReference"
          }
        },
        "annotations": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/id"
          },
          "uniqueItems": true
        },
        "parent": {
          "oneOf": [
            {
              "$ref": "#/$defs/id"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "id",
        "classifier",
        "properties",
        "containments",
        "references",
        "annotations",
        "parent"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "SerializedProperty": {
      "type": "object",
      "properties": {
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "value": {
          "oneOf": [
            {
              "$ref": "#/$defs/propertyValue"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "property",
        "value"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "SerializedContainment": {
      "type": "object",
      "properties": {
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "children": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/id"
          },
          "uniqueItems": true
        }
      },
      "required": [
        "containment",
        "children"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "SerializedReference": {
      "type": "object",
      "properties": {
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "targets": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedReferenceTarget"
          }
        }
      },
      "required": [
        "reference",
        "targets"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "SerializedReferenceTarget": {
      "type": "object",
      "properties": {
        "resolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "reference": {
          "$ref": "#/$defs/optionalTargetNode"
        }
      },
      "required": [
        "resolveInfo",
        "reference"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "queryId": {
      "$ref": "#/$defs/id"
    },
    "commandId": {
      "$ref": "#/$defs/id"
    },
    "commandSource": {
      "type": "object",
      "properties": {
        "participationId": {
          "$ref": "#/$defs/participationId"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        }
      },
      "required": [
        "participationId",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "commandSources": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/commandSource"
      },
      "uniqueItems": true
    },
    "participationId": {
      "$ref": "#/$defs/id"
    },
    "clientId": {
      "$ref": "#/$defs/id"
    },
    "targetNode": {
      "$ref": "#/$defs/id"
    },
    "optionalTargetNode": {
      "oneOf": [
        {
          "$ref": "#/$defs/targetNode"
        },
        {
          "type": "null"
        }
      ]
    },
    "targetNodes": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/targetNode"
      },
      "uniqueItems": true
    },
    "resolveInfo": {
      "type": "string"
    },
    "optionalResolveInfo": {
      "oneOf": [
        {
          "$ref": "#/$defs/resolveInfo"
        },
        {
          "type": "null"
        }
      ]
    },
    "eventSequenceNumber": {
      "type": "integer",
      "minimum": 0
    },
    "propertyValue": {
      "type": "string"
    },
    "index": {
      "type": "integer",
      "minimum": 0
    },
    "protocolMessageKind": {
      "$ref": "#/$defs/id"
    },
    "errorCode": {
      "$ref": "#/$defs/id"
    },
    "protocolMessageDataKey": {
      "$ref": "#/$defs/id"
    },
    "protocolMessages": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/ProtocolMessage"
      }
    },
    "ProtocolMessage": {
      "properties": {
        "kind": {
          "$ref": "#/$defs/protocolMessageKind"
        },
        "message": {
          "type": "string"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/ProtocolMessageData"
          }
        }
      },
      "required": [
        "kind",
        "message",
        "data"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "ProtocolMessageData": {
      "properties": {
        "key": {
          "$ref": "#/$defs/protocolMessageDataKey"
        },
        "value": {
          "type": "string"
        }
      },
      "required": [
        "key",
        "value"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "QueryRequests": {
      "anyOf": [
        {
          "$ref": "#/$defs/SubscribeToChangingPartitionsRequest"
        },
        {
          "$ref": "#/$defs/SubscribeToPartitionContentsRequest"
        },
        {
          "$ref": "#/$defs/UnsubscribeFromPartitionContentsRequest"
        },
        {
          "$ref": "#/$defs/SignOnRequest"
        },
        {
          "$ref": "#/$defs/SignOffRequest"
        },
        {
          "$ref": "#/$defs/ReconnectRequest"
        },
        {
          "$ref": "#/$defs/GetAvailableIdsRequest"
        },
        {
          "$ref": "#/$defs/ListPartitionsRequest"
        }
      ]
    },
    "QueryResponses": {
      "anyOf": [
        {
          "$ref": "#/$defs/SubscribeToChangingPartitionsResponse"
        },
        {
          "$ref": "#/$defs/SubscribeToPartitionContentsResponse"
        },
        {
          "$ref": "#/$defs/UnsubscribeFromPartitionContentsResponse"
        },
        {
          "$ref": "#/$defs/SignOnResponse"
        },
        {
          "$ref": "#/$defs/SignOffResponse"
        },
        {
          "$ref": "#/$defs/ReconnectResponse"
        },
        {
          "$ref": "#/$defs/GetAvailableIdsResponse"
        },
        {
          "$ref": "#/$defs/ListPartitionsResponse"
        }
      ]
    },
    "SubscribeToChangingPartitionsRequest": {
      "properties": {
        "messageKind": {
          "const": "SubscribeToChangingPartitionsRequest"
        },
        "creation": {
          "type": "boolean"
        },
        "deletion": {
          "type": "boolean"
        },
        "partitions": {
          "type": "boolean"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "creation",
        "deletion",
        "partitions",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "SubscribeToChangingPartitionsResponse": {
      "properties": {
        "messageKind": {
          "const": "SubscribeToChangingPartitionsResponse"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 3
    },
    "SubscribeToPartitionContentsRequest": {
      "properties": {
        "messageKind": {
          "const": "SubscribeToPartitionContentsRequest"
        },
        "partition": {
          "$ref": "#/$defs/targetNode"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "partition",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "SubscribeToPartitionContentsResponse": {
      "properties": {
        "messageKind": {
          "const": "SubscribeToPartitionContentsResponse"
        },
        "contents": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "contents",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "UnsubscribeFromPartitionContentsRequest": {
      "properties": {
        "messageKind": {
          "const": "UnsubscribeFromPartitionContentsRequest"
        },
        "partition": {
          "$ref": "#/$defs/targetNode"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "partition",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "UnsubscribeFromPartitionContentsResponse": {
      "properties": {
        "messageKind": {
          "const": "UnsubscribeFromPartitionContentsResponse"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 3
    },
    "SignOnRequest": {
      "properties": {
        "messageKind": {
          "const": "SignOnRequest"
        },
        "deltaProtocolVersion": {
          "$ref": "#/$defs/deltaProtocolVersion"
        },
        "clientId": {
          "$ref": "#/$defs/clientId"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "deltaProtocolVersion",
        "clientId",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "SignOnResponse": {
      "properties": {
        "messageKind": {
          "const": "SignOnResponse"
        },
        "participationId": {
          "$ref": "#/$defs/participationId"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "participationId",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "SignOffRequest": {
      "properties": {
        "messageKind": {
          "const": "SignOffRequest"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 3
    },
    "SignOffResponse": {
      "properties": {
        "messageKind": {
          "const": "SignOffResponse"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 3
    },
    "ReconnectRequest": {
      "properties": {
        "messageKind": {
          "const": "ReconnectRequest"
        },
        "participationId": {
          "$ref": "#/$defs/participationId"
        },
        "lastReceivedSequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "participationId",
        "lastReceivedSequenceNumber",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "ReconnectResponse": {
      "properties": {
        "messageKind": {
          "const": "ReconnectResponse"
        },
        "lastSentSequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "lastSentSequenceNumber",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "GetAvailableIdsRequest": {
      "properties": {
        "messageKind": {
          "const": "GetAvailableIdsRequest"
        },
        "count": {
          "type": "integer",
          "minimum": 0
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "count",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "GetAvailableIdsResponse": {
      "properties": {
        "messageKind": {
          "const": "GetAvailableIdsResponse"
        },
        "ids": {
          "$ref": "#/$defs/targetNodes"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "ids",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "ListPartitionsRequest": {
      "properties": {
        "messageKind": {
          "const": "ListPartitionsRequest"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 3
    },
    "ListPartitionsResponse": {
      "properties": {
        "messageKind": {
          "const": "ListPartitionsResponse"
        },
        "partitions": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "partitions",
        "queryId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "Commands": {
      "anyOf": [
        {
          "$ref": "#/$defs/AddPartitionCommand"
        },
        {
          "$ref": "#/$defs/DeletePartitionCommand"
        },
        {
          "$ref": "#/$defs/ChangeClassifierCommand"
        },
        {
          "$ref": "#/$defs/AddPropertyCommand"
        },
        {
          "$ref": "#/$defs/DeletePropertyCommand"
        },
        {
          "$ref": "#/$defs/ChangePropertyCommand"
        },
        {
          "$ref": "#/$defs/AddChildCommand"
        },
        {
          "$ref": "#/$defs/DeleteChildCommand"
        },
        {
          "$ref": "#/$defs/ReplaceChildCommand"
        },
        {
          "$ref": "#/$defs/MoveChildFromOtherContainmentCommand"
        },
        {
          "$ref": "#/$defs/MoveChildFromOtherContainmentInSameParentCommand"
        },
        {
          "$ref": "#/$defs/MoveChildInSameContainmentCommand"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceChildFromOtherContainmentCommand"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceChildFromOtherContainmentInSameParentCommand"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceChildInSameContainmentCommand"
        },
        {
          "$ref": "#/$defs/AddAnnotationCommand"
        },
        {
          "$ref": "#/$defs/DeleteAnnotationCommand"
        },
        {
          "$ref": "#/$defs/ReplaceAnnotationCommand"
        },
        {
          "$ref": "#/$defs/MoveAnnotationFromOtherParentCommand"
        },
        {
          "$ref": "#/$defs/MoveAnnotationInSameParentCommand"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceAnnotationFromOtherParentCommand"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceAnnotationInSameParentCommand"
        },
        {
          "$ref": "#/$defs/AddReferenceCommand"
        },
        {
          "$ref": "#/$defs/DeleteReferenceCommand"
        },
        {
          "$ref": "#/$defs/ChangeReferenceCommand"
        },
        {
          "$ref": "#/$defs/MoveEntryFromOtherReferenceCommand"
        },
        {
          "$ref": "#/$defs/MoveEntryFromOtherReferenceInSameParentCommand"
        },
        {
          "$ref": "#/$defs/MoveEntryInSameReferenceCommand"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceEntryFromOtherReferenceCommand"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceEntryFromOtherReferenceInSameParentCommand"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceEntryInSameReferenceCommand"
        },
        {
          "$ref": "#/$defs/AddReferenceResolveInfoCommand"
        },
        {
          "$ref": "#/$defs/DeleteReferenceResolveInfoCommand"
        },
        {
          "$ref": "#/$defs/ChangeReferenceResolveInfoCommand"
        },
        {
          "$ref": "#/$defs/AddReferenceTargetCommand"
        },
        {
          "$ref": "#/$defs/DeleteReferenceTargetCommand"
        },
        {
          "$ref": "#/$defs/ChangeReferenceTargetCommand"
        },
        {
          "$ref": "#/$defs/CompositeCommand"
        }
      ]
    },
    "AddPartitionCommand": {
      "properties": {
        "messageKind": {
          "const": "AddPartitionCommand"
        },
        "newPartition": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newPartition",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "DeletePartitionCommand": {
      "properties": {
        "messageKind": {
          "const": "DeletePartitionCommand"
        },
        "deletedPartition": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "deletedPartition",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "ChangeClassifierCommand": {
      "properties": {
        "messageKind": {
          "const": "ChangeClassifierCommand"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "newClassifier": {
          "$ref": "#/$defs/metaPointer"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "node",
        "newClassifier",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "AddPropertyCommand": {
      "properties": {
        "messageKind": {
          "const": "AddPropertyCommand"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "newValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "newValue",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "DeletePropertyCommand": {
      "properties": {
        "messageKind": {
          "const": "DeletePropertyCommand"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "ChangePropertyCommand": {
      "properties": {
        "messageKind": {
          "const": "ChangePropertyCommand"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "newValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "newValue",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "AddChildCommand": {
      "properties": {
        "messageKind": {
          "const": "AddChildCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newChild": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newChild",
        "containment",
        "index",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "DeleteChildCommand": {
      "properties": {
        "messageKind": {
          "const": "DeleteChildCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "containment",
        "index",
        "deletedChild",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "ReplaceChildCommand": {
      "properties": {
        "messageKind": {
          "const": "ReplaceChildCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newChild": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newChild",
        "containment",
        "index",
        "replacedChild",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "MoveChildFromOtherContainmentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveChildFromOtherContainmentCommand"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newContainment",
        "newIndex",
        "movedChild",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "MoveChildFromOtherContainmentInSameParentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveChildFromOtherContainmentInSameParentCommand"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newContainment",
        "newIndex",
        "movedChild",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "MoveChildInSameContainmentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveChildInSameContainmentCommand"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedChild",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "MoveAndReplaceChildFromOtherContainmentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceChildFromOtherContainmentCommand"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newContainment",
        "newIndex",
        "replacedChild",
        "movedChild",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "MoveAndReplaceChildFromOtherContainmentInSameParentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceChildFromOtherContainmentInSameParentCommand"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newContainment",
        "newIndex",
        "replacedChild",
        "movedChild",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "MoveAndReplaceChildInSameContainmentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceChildInSameContainmentCommand"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "replacedChild",
        "movedChild",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "AddAnnotationCommand": {
      "properties": {
        "messageKind": {
          "const": "AddAnnotationCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newAnnotation": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newAnnotation",
        "index",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "DeleteAnnotationCommand": {
      "properties": {
        "messageKind": {
          "const": "DeleteAnnotationCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "index",
        "deletedAnnotation",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "ReplaceAnnotationCommand": {
      "properties": {
        "messageKind": {
          "const": "ReplaceAnnotationCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newAnnotation": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newAnnotation",
        "index",
        "replacedAnnotation",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "MoveAnnotationFromOtherParentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAnnotationFromOtherParentCommand"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newIndex",
        "movedAnnotation",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "MoveAnnotationInSameParentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAnnotationInSameParentCommand"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedAnnotation",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "MoveAndReplaceAnnotationFromOtherParentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceAnnotationFromOtherParentCommand"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newIndex",
        "replacedAnnotation",
        "movedAnnotation",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "MoveAndReplaceAnnotationInSameParentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceAnnotationInSameParentCommand"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "replacedAnnotation",
        "movedAnnotation",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "AddReferenceCommand": {
      "properties": {
        "messageKind": {
          "const": "AddReferenceCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newTarget",
        "newResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "DeleteReferenceCommand": {
      "properties": {
        "messageKind": {
          "const": "DeleteReferenceCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "deletedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "deletedTarget",
        "deletedResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "ChangeReferenceCommand": {
      "properties": {
        "messageKind": {
          "const": "ChangeReferenceCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "oldTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "oldResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "newTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "oldTarget",
        "oldResolveInfo",
        "newTarget",
        "newResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "MoveEntryFromOtherReferenceCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveEntryFromOtherReferenceCommand"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newReference",
        "newIndex",
        "oldParent",
        "oldReference",
        "oldIndex",
        "movedTarget",
        "movedResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 11
    },
    "MoveEntryFromOtherReferenceInSameParentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveEntryFromOtherReferenceInSameParentCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "oldReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newReference",
        "newIndex",
        "oldReference",
        "oldIndex",
        "movedTarget",
        "movedResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "MoveEntryInSameReferenceCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveEntryInSameReferenceCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "newIndex",
        "oldIndex",
        "movedTarget",
        "movedResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "MoveAndReplaceEntryFromOtherReferenceCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceEntryFromOtherReferenceCommand"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "replacedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newReference",
        "newIndex",
        "replacedTarget",
        "replacedResolveInfo",
        "oldParent",
        "oldReference",
        "oldIndex",
        "movedTarget",
        "movedResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 12,
      "maxProperties": 13
    },
    "MoveAndReplaceEntryFromOtherReferenceInSameParentCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceEntryFromOtherReferenceInSameParentCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "replacedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "oldReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newReference",
        "newIndex",
        "replacedTarget",
        "replacedResolveInfo",
        "oldReference",
        "oldIndex",
        "movedTarget",
        "movedResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 11,
      "maxProperties": 12
    },
    "MoveAndReplaceEntryInSameReferenceCommand": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceEntryInSameReferenceCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "replacedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "newIndex",
        "replacedTarget",
        "replacedResolveInfo",
        "oldIndex",
        "movedTarget",
        "movedResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 11
    },
    "AddReferenceResolveInfoCommand": {
      "properties": {
        "messageKind": {
          "const": "AddReferenceResolveInfoCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "DeleteReferenceResolveInfoCommand": {
      "properties": {
        "messageKind": {
          "const": "DeleteReferenceResolveInfoCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "deletedResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "ChangeReferenceResolveInfoCommand": {
      "properties": {
        "messageKind": {
          "const": "ChangeReferenceResolveInfoCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "oldResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "oldResolveInfo",
        "newResolveInfo",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "AddReferenceTargetCommand": {
      "properties": {
        "messageKind": {
          "const": "AddReferenceTargetCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newTarget",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "DeleteReferenceTargetCommand": {
      "properties": {
        "messageKind": {
          "const": "DeleteReferenceTargetCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "deletedTarget",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "ChangeReferenceTargetCommand": {
      "properties": {
        "messageKind": {
          "const": "ChangeReferenceTargetCommand"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "oldTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "newTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "oldTarget",
        "newTarget",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "CompositeCommand": {
      "properties": {
        "messageKind": {
          "const": "CompositeCommand"
        },
        "parts": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Commands"
          }
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parts",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "Events": {
      "anyOf": [
        {
          "$ref": "#/$defs/PartitionAddedEvent"
        },
        {
          "$ref": "#/$defs/PartitionDeletedEvent"
        },
        {
          "$ref": "#/$defs/ClassifierChangedEvent"
        },
        {
          "$ref": "#/$defs/PropertyAddedEvent"
        },
        {
          "$ref": "#/$defs/PropertyDeletedEvent"
        },
        {
          "$ref": "#/$defs/PropertyChangedEvent"
        },
        {
          "$ref": "#/$defs/ChildAddedEvent"
        },
        {
          "$ref": "#/$defs/ChildDeletedEvent"
        },
        {
          "$ref": "#/$defs/ChildReplacedEvent"
        },
        {
          "$ref": "#/$defs/ChildMovedFromOtherContainmentEvent"
        },
        {
          "$ref": "#/$defs/ChildMovedFromOtherContainmentInSameParentEvent"
        },
        {
          "$ref": "#/$defs/ChildMovedInSameContainmentEvent"
        },
        {
          "$ref": "#/$defs/ChildMovedAndReplacedFromOtherContainmentEvent"
        },
        {
          "$ref": "#/$defs/ChildMovedAndReplacedFromOtherContainmentInSameParentEvent"
        },
        {
          "$ref": "#/$defs/ChildMovedAndReplacedInSameContainmentEvent"
        },
        {
          "$ref": "#/$defs/AnnotationAddedEvent"
        },
        {
          "$ref": "#/$defs/AnnotationDeletedEvent"
        },
        {
          "$ref": "#/$defs/AnnotationReplacedEvent"
        },
        {
          "$ref": "#/$defs/AnnotationMovedFromOtherParentEvent"
        },
        {
          "$ref": "#/$defs/AnnotationMovedInSameParentEvent"
        },
        {
          "$ref": "#/$defs/AnnotationMovedAndReplacedFromOtherParentEvent"
        },
        {
          "$ref": "#/$defs/AnnotationMovedAndReplacedInSameParentEvent"
        },
        {
          "$ref": "#/$defs/ReferenceAddedEvent"
        },
        {
          "$ref": "#/$defs/ReferenceDeletedEvent"
        },
        {
          "$ref": "#/$defs/ReferenceChangedEvent"
        },
        {
          "$ref": "#/$defs/EntryMovedFromOtherReferenceEvent"
        },
        {
          "$ref": "#/$defs/EntryMovedFromOtherReferenceInSameParentEvent"
        },
        {
          "$ref": "#/$defs/EntryMovedInSameReferenceEvent"
        },
        {
          "$ref": "#/$defs/EntryMovedAndReplacedFromOtherReferenceEvent"
        },
        {
          "$ref": "#/$defs/EntryMovedAndReplacedFromOtherReferenceInSameParentEvent"
        },
        {
          "$ref": "#/$defs/EntryMovedAndReplacedInSameReferenceEvent"
        },
        {
          "$ref": "#/$defs/ReferenceResolveInfoAddedEvent"
        },
        {
          "$ref": "#/$defs/ReferenceResolveInfoDeletedEvent"
        },
        {
          "$ref": "#/$defs/ReferenceResolveInfoChangedEvent"
        },
        {
          "$ref": "#/$defs/ReferenceTargetAddedEvent"
        },
        {
          "$ref": "#/$defs/ReferenceTargetDeletedEvent"
        },
        {
          "$ref": "#/$defs/ReferenceTargetChangedEvent"
        },
        {
          "$ref": "#/$defs/NoOpEvent"
        },
        {
          "$ref": "#/$defs/CompositeEvent"
        },
        {
          "$ref": "#/$defs/ErrorEvent"
        }
      ]
    },
    "PartitionAddedEvent": {
      "properties": {
        "messageKind": {
          "const": "PartitionAddedEvent"
        },
        "newPartition": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newPartition",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "PartitionDeletedEvent": {
      "properties": {
        "messageKind": {
          "const": "PartitionDeletedEvent"
        },
        "deletedPartition": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "deletedPartition",
        "deletedDescendants",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "ClassifierChangedEvent": {
      "properties": {
        "messageKind": {
          "const": "ClassifierChangedEvent"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "newClassifier": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldClassifier": {
          "$ref": "#/$defs/metaPointer"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "node",
        "newClassifier",
        "oldClassifier",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "PropertyAddedEvent": {
      "properties": {
        "messageKind": {
          "const": "PropertyAddedEvent"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "newValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "newValue",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "PropertyDeletedEvent": {
      "properties": {
        "messageKind": {
          "const": "PropertyDeletedEvent"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "oldValue",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "PropertyChangedEvent": {
      "properties": {
        "messageKind": {
          "const": "PropertyChangedEvent"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "newValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "oldValue",
        "newValue",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "ChildAddedEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildAddedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newChild": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newChild",
        "containment",
        "index",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "ChildDeletedEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildDeletedEvent"
        },
        "deletedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "deletedChild",
        "deletedDescendants",
        "parent",
        "containment",
        "index",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ChildReplacedEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildReplacedEvent"
        },
        "newChild": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newChild",
        "replacedChild",
        "replacedDescendants",
        "parent",
        "containment",
        "index",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "ChildMovedFromOtherContainmentEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedFromOtherContainmentEvent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newContainment",
        "newIndex",
        "movedChild",
        "oldParent",
        "oldContainment",
        "oldIndex",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 11
    },
    "ChildMovedFromOtherContainmentInSameParentEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedFromOtherContainmentInSameParentEvent"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newContainment",
        "newIndex",
        "movedChild",
        "parent",
        "oldContainment",
        "oldIndex",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "ChildMovedInSameContainmentEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedInSameContainmentEvent"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedChild",
        "parent",
        "containment",
        "oldIndex",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ChildMovedAndReplacedFromOtherContainmentEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedAndReplacedFromOtherContainmentEvent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newContainment",
        "newIndex",
        "movedChild",
        "oldParent",
        "oldContainment",
        "oldIndex",
        "replacedChild",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 12,
      "maxProperties": 13
    },
    "ChildMovedAndReplacedFromOtherContainmentInSameParentEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedAndReplacedFromOtherContainmentInSameParentEvent"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newContainment",
        "newIndex",
        "movedChild",
        "parent",
        "oldContainment",
        "oldIndex",
        "replacedChild",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 11,
      "maxProperties": 12
    },
    "ChildMovedAndReplacedInSameContainmentEvent": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedAndReplacedInSameContainmentEvent"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedChild",
        "parent",
        "containment",
        "oldIndex",
        "replacedChild",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 11
    },
    "AnnotationAddedEvent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationAddedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newAnnotation": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newAnnotation",
        "index",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "AnnotationDeletedEvent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationDeletedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "deletedAnnotation",
        "deletedDescendants",
        "index",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "AnnotationReplacedEvent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationReplacedEvent"
        },
        "newAnnotation": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newAnnotation",
        "replacedAnnotation",
        "replacedDescendants",
        "parent",
        "index",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "AnnotationMovedFromOtherParentEvent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationMovedFromOtherParentEvent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newIndex",
        "movedAnnotation",
        "oldParent",
        "oldIndex",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "AnnotationMovedInSameParentEvent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationMovedInSameParentEvent"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedAnnotation",
        "parent",
        "oldIndex",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "AnnotationMovedAndReplacedFromOtherParentEvent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationMovedAndReplacedFromOtherParentEvent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newIndex",
        "movedAnnotation",
        "oldParent",
        "oldIndex",
        "replacedAnnotation",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 11
    },
    "AnnotationMovedAndReplacedInSameParentEvent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationMovedAndReplacedInSameParentEvent"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedAnnotation",
        "parent",
        "oldIndex",
        "replacedAnnotation",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "ReferenceAddedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceAddedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newTarget",
        "newResolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ReferenceDeletedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceDeletedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "deletedResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "deletedTarget",
        "deletedResolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ReferenceChangedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceChangedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "oldTarget": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "oldResolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newTarget",
        "newResolveInfo",
        "oldTarget",
        "oldResolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 11
    },
    "EntryMovedFromOtherReferenceEvent": {
      "properties": {
        "messageKind": {
          "const": "EntryMovedFromOtherReferenceEvent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "target": {
          "$ref": "#/$defs/targetNode"
        },
        "resolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newReference",
        "newIndex",
        "oldParent",
        "oldReference",
        "oldIndex",
        "target",
        "resolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 11,
      "maxProperties": 12
    },
    "EntryMovedFromOtherReferenceInSameParentEvent": {
      "properties": {
        "messageKind": {
          "const": "EntryMovedFromOtherReferenceInSameParentEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "oldReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "target": {
          "$ref": "#/$defs/targetNode"
        },
        "resolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newReference",
        "newIndex",
        "oldReference",
        "oldIndex",
        "target",
        "resolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 11
    },
    "EntryMovedInSameReferenceEvent": {
      "properties": {
        "messageKind": {
          "const": "EntryMovedInSameReferenceEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "target": {
          "$ref": "#/$defs/targetNode"
        },
        "resolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "newIndex",
        "oldIndex",
        "target",
        "resolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "EntryMovedAndReplacedFromOtherReferenceEvent": {
      "properties": {
        "messageKind": {
          "const": "EntryMovedAndReplacedFromOtherReferenceEvent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newReference",
        "newIndex",
        "movedTarget",
        "movedResolveInfo",
        "oldParent",
        "oldReference",
        "oldIndex",
        "replacedTarget",
        "replacedResolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 13,
      "maxProperties": 14
    },
    "EntryMovedAndReplacedFromOtherReferenceInSameParentEvent": {
      "properties": {
        "messageKind": {
          "const": "EntryMovedAndReplacedFromOtherReferenceInSameParentEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "oldReference": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newReference",
        "newIndex",
        "movedTarget",
        "movedResolveInfo",
        "oldReference",
        "oldIndex",
        "replacedTarget",
        "replacedResolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 12,
      "maxProperties": 13
    },
    "EntryMovedAndReplacedInSameReferenceEvent": {
      "properties": {
        "messageKind": {
          "const": "EntryMovedAndReplacedInSameReferenceEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "movedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "newIndex",
        "movedTarget",
        "movedResolveInfo",
        "oldIndex",
        "replacedTarget",
        "replacedResolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 11,
      "maxProperties": 12
    },
    "ReferenceResolveInfoAddedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceResolveInfoAddedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "target": {
          "$ref": "#/$defs/targetNode"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newResolveInfo",
        "target",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ReferenceResolveInfoDeletedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceResolveInfoDeletedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "target": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "target",
        "deletedResolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ReferenceResolveInfoChangedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceResolveInfoChangedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "target": {
          "$ref": "#/$defs/optionalTargetNode"
        },
        "replacedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newResolveInfo",
        "target",
        "replacedResolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "ReferenceTargetAddedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceTargetAddedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "resolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newTarget",
        "resolveInfo",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ReferenceTargetDeletedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceTargetDeletedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "resolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "deletedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "resolveInfo",
        "deletedTarget",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ReferenceTargetChangedEvent": {
      "properties": {
        "messageKind": {
          "const": "ReferenceTargetChangedEvent"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "resolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "replacedTarget": {
          "$ref": "#/$defs/targetNode"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "newTarget",
        "resolveInfo",
        "replacedTarget",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "CompositeEvent": {
      "properties": {
        "messageKind": {
          "const": "CompositeEvent"
        },
        "parts": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Events"
          }
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "parts"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 3
    },
    "NoOpEvent": {
      "properties": {
        "messageKind": {
          "const": "NoOpEvent"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "ErrorEvent": {
      "properties": {
        "messageKind": {
          "const": "ErrorEvent"
        },
        "errorCode": {
          "$ref": "#/$defs/errorCode"
        },
        "message": {
          "type": "string"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "protocolMessages": {
          "$ref": "#/$defs/protocolMessages"
        }
      },
      "required": [
        "messageKind",
        "errorCode",
        "message",
        "originCommands",
        "sequenceNumber"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    }
  }
}