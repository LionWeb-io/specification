[[cmd-MoveAndReplaceChildFromOtherContainmentInSameParent]]
===== Move child from other containment in same parent and replace existing child
Move existing node <<MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild>> (currently inside one of <<MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild>>'s parent's containments other than <<MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment>>)
inside <<MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild>>'s parent's <<MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment>> at <<MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex>>.
Delete current child <<MoveAndReplaceChildFromOtherContainmentInSameParent.replacedChild>>{fn-org371} inside <<MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild>>'s parent's <<MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment>> at <<MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex>>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.{fn-org285}

[cols="a,a"]
|===
|Before |After

include::MoveAndReplaceChildFromOtherContainmentInSameParent-diagram.adoc[]
|===

.Technical name
`MoveAndReplaceChildFromOtherContainmentInSameParent`

[horizontal]
.Parameters
[[MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment, `newContainment`]]newContainment:: <<metaPointerType>>

[[MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex, `newIndex`]]newIndex:: <<indexType>>

[[MoveAndReplaceChildFromOtherContainmentInSameParent.replacedChild, `replacedChild`]]replacedChild:: <<targetNodeType>>

[[MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild, `movedChild`]]movedChild:: <<targetNodeType>>

[[MoveAndReplaceChildFromOtherContainmentInSameParent.commandId]]commandId:: <<commandIdType>>

[[MoveAndReplaceChildFromOtherContainmentInSameParent.additionalInfos]]additionalInfos:: <<additionalInfosType>>

.Errors
* <<err-unknownIndex>> for <<MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex>> (is beyond the number of <<MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment>> entries in <<MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild>>'s parent)
* <<err-unknownNode>> for <<MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild>>
* <<err-moveWithoutParent>> for <<MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild>>
* <<err-invalidMove>> as <<MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild>> is already a child inside <<MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment>>
* <<err-indexEntryMismatch>> for <<MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment>>/<<MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex>> and <<MoveAndReplaceChildFromOtherContainmentInSameParent.replacedChild>>
* <<err-invalidParticipation>>

.Related event
<<evnt-ChildMovedAndReplacedFromOtherContainmentInSameParent>>
