<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<title>Delta Repository Access API</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock pre>code{display:block}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body id="delta" class="article toc2 toc-right">
<div id="header">
<h1>Delta Repository Access API</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_conventions_used_in_this_document">1. Conventions used in this document</a></li>
<li><a href="#introduction">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="#out-of-scope">2.1. Out of scope</a></li>
<li><a href="#command-overview">2.2. Command overview</a></li>
</ul>
</li>
<li><a href="#description">3. Description</a>
<ul class="sectlevel2">
<li><a href="#repository">3.1. Repository characteristics</a></li>
<li><a href="#client">3.2. Client characteristics</a></li>
<li><a href="#channel">3.3. Channel characteristics</a></li>
<li><a href="#participation">3.4. Participation characteristics</a></li>
<li><a href="#event-sequence-number">3.5. Event sequence numbers</a></li>
<li><a href="#subscription">3.6. Subscription characteristics</a></li>
<li><a href="#message">3.7. Message characteristics</a>
<ul class="sectlevel3">
<li><a href="#splittableMessage">3.7.1. Splittable messages</a></li>
<li><a href="#additionalInfo">3.7.2. Additional Info</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#scenarios">4. Scenarios</a>
<ul class="sectlevel2">
<li><a href="#_virgin_repository_first_time_client_connects">4.1. Virgin repository, first time client connects</a></li>
<li><a href="#_client_reconnects_to_known_partition">4.2. Client reconnects to known partition</a></li>
<li><a href="#_client_changes_known_node_with_remote_update">4.3. Client changes known node with remote update</a></li>
<li><a href="#_client_changes_known_node_with_local_update">4.4. Client changes known node with local update</a></li>
<li><a href="#_client_tries_to_change_invalid_node_id">4.5. Client tries to change invalid node id</a></li>
<li><a href="#_client_tries_to_change_unknown_node_with_failed_event">4.6. Client tries to change unknown node with failed event</a></li>
<li><a href="#_client_with_remote_update_changes_property_to_same_value_as_it_already_has">4.7. Client with remote update changes property to same value as it already has</a></li>
<li><a href="#_repository_has_bug_needs_to_tell_client_it_couldnt_apply_its_commands">4.8. Repository has bug, needs to tell client it couldn&#8217;t apply its commands</a></li>
<li><a href="#_concurrent_changes_to_known_node_with_local_update">4.9. Concurrent changes to known node with local update</a></li>
<li><a href="#_concurrent_changes_to_known_node_with_remote_update">4.10. Concurrent changes to known node with remote update</a></li>
<li><a href="#_split_query_response">4.11. Split query response</a></li>
</ul>
</li>
<li><a href="#messages">5. Messages</a>
<ul class="sectlevel2">
<li><a href="#parameter-syntax">5.1. Parameter syntax</a></li>
<li><a href="#_parameter_types">5.2. Parameter types</a>
<ul class="sectlevel3">
<li><a href="#new-nodes">5.2.1. New nodes</a></li>
<li><a href="#existing-nodes">5.2.2. Existing nodes</a></li>
<li><a href="#reused-nodes">5.2.3. Reused nodes</a></li>
<li><a href="#_how_to_address_references">5.2.4. How to address references</a></li>
</ul>
</li>
<li><a href="#errors">5.3. Errors</a>
<ul class="sectlevel3">
<li><a href="#err-invalidParticipation">5.3.1. Invalid participation</a></li>
<li><a href="#err-nodeAlreadyExists">5.3.2. Node already exists</a></li>
<li><a href="#err-unknownNode">5.3.3. Unknown node</a></li>
<li><a href="#err-unknownIndex">5.3.4. Unknown index</a></li>
<li><a href="#err-indexEntryMismatch">5.3.5. Entry at index is not the given entry</a></li>
<li><a href="#err-moveWithoutParent">5.3.6. Move without parent</a></li>
<li><a href="#err-invalidMove">5.3.7. Invalid move</a></li>
<li><a href="#err-undefinedReferenceTarget">5.3.8. Undefined reference target</a></li>
</ul>
</li>
<li><a href="#queries">5.4. Queries</a>
<ul class="sectlevel3">
<li><a href="#_special_responses">5.4.1. Special responses</a>
<ul class="sectlevel4">
<li><a href="#qry-ErrorResponse">5.4.1.1. Error response</a></li>
<li><a href="#qry-ChunkedQueryResponse">5.4.1.2. Chunked query response</a></li>
</ul>
</li>
<li><a href="#cmd-subscription">5.4.2. Subscription</a>
<ul class="sectlevel4">
<li><a href="#qry-SubscribeToChangingPartitions">5.4.2.1. Subscribe to partition changes</a></li>
<li><a href="#qry-InformAboutChangingPartitions">5.4.2.2. Inform about partition changes</a></li>
<li><a href="#qry-SubscribeToPartitionContents">5.4.2.3. Subscribe to partition contents</a></li>
<li><a href="#qry-UnsubscribeFromPartitionContents">5.4.2.4. Unsubscribe from partition contents</a></li>
</ul>
</li>
<li><a href="#qry-participation">5.4.3. Participation</a>
<ul class="sectlevel4">
<li><a href="#qry-SignOn">5.4.3.1. Sign On (start a participation)</a></li>
<li><a href="#qry-SignOff">5.4.3.2. Sign Off (end a participation)</a></li>
<li><a href="#qry-Reconnect">5.4.3.3. Reconnect (resume an existing participation)</a></li>
</ul>
</li>
<li><a href="#qry-misc">5.4.4. Miscellaneous</a>
<ul class="sectlevel4">
<li><a href="#qry-GetAvailableIds">5.4.4.1. Get available ids</a></li>
<li><a href="#qry-ListPartitions">5.4.4.2. List partitions</a></li>
<li><a href="#qry-ListAndSubscribePartitions">5.4.4.3. List and subscribe partitions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#command-event-overview">5.5. Command&#8201;&#8212;&#8201;event pairs overview</a>
<ul class="sectlevel3">
<li><a href="#_partitions">5.5.1. Partitions</a></li>
<li><a href="#_nodes">5.5.2. Nodes</a></li>
<li><a href="#_properties">5.5.3. Properties</a></li>
<li><a href="#_children">5.5.4. Children</a></li>
<li><a href="#_annotations">5.5.5. Annotations</a></li>
<li><a href="#_references">5.5.6. References</a></li>
</ul>
</li>
<li><a href="#commands">5.6. Commands</a>
<ul class="sectlevel3">
<li><a href="#cmd-ChunkedCommand">5.6.1. Chunked Command</a></li>
<li><a href="#cmd-partitions">5.6.2. Partitions</a>
<ul class="sectlevel4">
<li><a href="#cmd-AddPartition">5.6.2.1. Add partition</a></li>
<li><a href="#cmd-DeletePartition">5.6.2.2. Delete partition</a></li>
</ul>
</li>
<li><a href="#cmd-nodes">5.6.3. Nodes</a>
<ul class="sectlevel4">
<li><a href="#cmd-ChangeClassifier">5.6.3.1. Change classifier</a></li>
</ul>
</li>
<li><a href="#cmd-properties">5.6.4. Properties</a>
<ul class="sectlevel4">
<li><a href="#cmd-AddProperty">5.6.4.1. Add property</a></li>
<li><a href="#cmd-DeleteProperty">5.6.4.2. Delete property</a></li>
<li><a href="#cmd-ChangeProperty">5.6.4.3. Change property</a></li>
</ul>
</li>
<li><a href="#cmd-children">5.6.5. Children</a>
<ul class="sectlevel4">
<li><a href="#cmd-AddChild">5.6.5.1. Add child</a></li>
<li><a href="#cmd-DeleteChild">5.6.5.2. Delete child</a></li>
<li><a href="#cmd-ReplaceChild">5.6.5.3. Replace child</a></li>
<li><a href="#cmd-MoveChildFromOtherContainment">5.6.5.4. Move child from other containment</a></li>
<li><a href="#cmd-MoveChildFromOtherContainmentInSameParent">5.6.5.5. Move child from other containment in same parent</a></li>
<li><a href="#cmd-MoveChildInSameContainment">5.6.5.6. Move child in same containment</a></li>
<li><a href="#cmd-MoveAndReplaceChildFromOtherContainment">5.6.5.7. Move child from other containment and replace existing child</a></li>
<li><a href="#cmd-MoveAndReplaceChildFromOtherContainmentInSameParent">5.6.5.8. Move child from other containment in same parent and replace existing child</a></li>
<li><a href="#cmd-MoveAndReplaceChildInSameContainment">5.6.5.9. Move child in same containment and replace existing child</a></li>
</ul>
</li>
<li><a href="#cmd-annotations">5.6.6. Annotations</a>
<ul class="sectlevel4">
<li><a href="#cmd-AddAnnotation">5.6.6.1. Add annotation</a></li>
<li><a href="#cmd-DeleteAnnotation">5.6.6.2. Delete annotation</a></li>
<li><a href="#cmd-ReplaceAnnotation">5.6.6.3. Replace annotation</a></li>
<li><a href="#cmd-MoveAnnotationFromOtherParent">5.6.6.4. Move annotation from other parent</a></li>
<li><a href="#cmd-MoveAnnotationInSameParent">5.6.6.5. Move annotation in same parent</a></li>
<li><a href="#cmd-MoveAndReplaceAnnotationFromOtherParent">5.6.6.6. Move annotation from other parent and replace existing annotation</a></li>
<li><a href="#cmd-MoveAndReplaceAnnotationInSameParent">5.6.6.7. Move annotation in same parent and replace existing annotation</a></li>
</ul>
</li>
<li><a href="#cmd-references">5.6.7. References</a>
<ul class="sectlevel4">
<li><a href="#cmd-AddReference">5.6.7.1. Add reference</a></li>
<li><a href="#cmd-DeleteReference">5.6.7.2. Delete reference</a></li>
<li><a href="#cmd-ChangeReference">5.6.7.3. Change reference</a></li>
</ul>
</li>
<li><a href="#cmd-composite-section">5.6.8. Composite</a>
<ul class="sectlevel4">
<li><a href="#cmd-CompositeCommand">5.6.8.1. Composite</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#events">5.7. Events</a>
<ul class="sectlevel3">
<li><a href="#evnt-ChunkedEvent">5.7.1. Chunked Event</a></li>
<li><a href="#evnt-partitions">5.7.2. Partitions</a>
<ul class="sectlevel4">
<li><a href="#evnt-PartitionAdded">5.7.2.1. Partition added</a></li>
<li><a href="#evnt-PartitionDeleted">5.7.2.2. Partition deleted</a></li>
</ul>
</li>
<li><a href="#evnt-nodes">5.7.3. Nodes</a>
<ul class="sectlevel4">
<li><a href="#evnt-ClassifierChanged">5.7.3.1. Classifier changed</a></li>
</ul>
</li>
<li><a href="#evnt-properties">5.7.4. Properties</a>
<ul class="sectlevel4">
<li><a href="#evnt-PropertyAdded">5.7.4.1. Property added</a></li>
<li><a href="#evnt-PropertyDeleted">5.7.4.2. Property deleted</a></li>
<li><a href="#evnt-PropertyChanged">5.7.4.3. Property changed</a></li>
</ul>
</li>
<li><a href="#evnt-children">5.7.5. Children</a>
<ul class="sectlevel4">
<li><a href="#evnt-ChildAdded">5.7.5.1. Child added</a></li>
<li><a href="#evnt-ChildDeleted">5.7.5.2. Child deleted</a></li>
<li><a href="#evnt-ChildReplaced">5.7.5.3. Child replaced</a></li>
<li><a href="#evnt-ChildMovedFromOtherContainment">5.7.5.4. Child moved from other containment</a></li>
<li><a href="#evnt-ChildMovedFromOtherContainmentInSameParent">5.7.5.5. Child moved from other containment in same parent</a></li>
<li><a href="#evnt-ChildMovedInSameContainment">5.7.5.6. Child moved in same containment</a></li>
<li><a href="#evnt-ChildMovedAndReplacedFromOtherContainment">5.7.5.7. Child moved from other containment and replaced existing child</a></li>
<li><a href="#evnt-ChildMovedAndReplacedFromOtherContainmentInSameParent">5.7.5.8. Child moved from other containment in same parent and replaced existing child</a></li>
<li><a href="#evnt-ChildMovedAndReplacedInSameContainment">5.7.5.9. Child moved in same containment and replaced existing child</a></li>
</ul>
</li>
<li><a href="#evnt-annotations">5.7.6. Annotations</a>
<ul class="sectlevel4">
<li><a href="#evnt-AnnotationAdded">5.7.6.1. Annotation added</a></li>
<li><a href="#evnt-AnnotationDeleted">5.7.6.2. Annotation deleted</a></li>
<li><a href="#evnt-AnnotationReplaced">5.7.6.3. Annotation replaced</a></li>
<li><a href="#evnt-AnnotationMovedFromOtherParent">5.7.6.4. Annotation moved from other parent</a></li>
<li><a href="#evnt-AnnotationMovedInSameParent">5.7.6.5. Annotation moved in same parent</a></li>
<li><a href="#evnt-AnnotationMovedAndReplacedFromOtherParent">5.7.6.6. Annotation moved from other parent and replaced existing annotation</a></li>
<li><a href="#evnt-AnnotationMovedAndReplacedInSameParent">5.7.6.7. Annotation moved in same parent and replaced existing annotation</a></li>
</ul>
</li>
<li><a href="#evnt-references">5.7.7. References</a>
<ul class="sectlevel4">
<li><a href="#evnt-ReferenceAdded">5.7.7.1. Reference added</a></li>
<li><a href="#evnt-ReferenceDeleted">5.7.7.2. Reference deleted</a></li>
<li><a href="#evnt-ReferenceChanged">5.7.7.3. Reference changed</a></li>
</ul>
</li>
<li><a href="#evnt-miscellaneous">5.7.8. Miscellaneous</a>
<ul class="sectlevel4">
<li><a href="#evnt-CompositeEvent">5.7.8.1. Composite</a></li>
<li><a href="#evnt-NoOp">5.7.8.2. No-op</a></li>
<li><a href="#evnt-ErrorEvent">5.7.8.3. ErrorEvent</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#deltaJsonSchema">Appendix A: Delta JSON Schema</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The delta API <strong>version 2026.1</strong> is used to store and retrieve changes to nodes.
It is intended for fine-grained changes to single values.
it is <strong>not</strong> intended as a bulk API that updates large chunks of the model at once.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions_used_in_this_document">1. Conventions used in this document</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>ALL-CAPS key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP14</a> (<a href="https://datatracker.ietf.org/doc/html/rfc2119">RFC2119</a>, <a href="https://datatracker.ietf.org/doc/html/rfc8174">RFC8174</a>) when, and only when, they appear in all capitals, as shown here.</p>
</li>
<li>
<p>Footnotes refer to more discussions and rationale, but are non-normative.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">2. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delta API assumes a bidirectional communication channel between a <a href="#client">client</a> and a <a href="#repository">repository</a>.
The client initiates the channel with the repository to open a <a href="#participation">participation</a><sup class="footnote" id="_footnote_org337">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.
Both parties communicate through the established channel via <em>messages</em>.</p>
</div>
<div class="paragraph">
<p>Delta API supports these message <a id="category"></a>categories, loosely following CQRS pattern<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup><sup class="footnote" id="_footnote_org291">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#queries">Queries</a> initiated/requested by the client, with synchronous response by the repository.
A query requests some information from the repository without changing the repository&#8217;s contents.
The repository gathers all information needed to answer the query, and sends the information back.
The repository might reply to invalid queries with a failure message.
We also use queries for managing <a href="#participation">participations</a>.<sup class="footnote" id="_footnote_org350">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup></p>
</li>
<li>
<p><a href="#commands">Commands</a> initiated/requested by the client, with synchronous response by the repository.
A command requests some change to the repository.
The repository quickly confirms having <em>received</em> the command, or rejects a <em>failed</em> command.<sup class="footnote" id="_footnote_org298">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup>
However, the repository processes the command asynchronously, and eventually broadcasts the effect(s) as <em>event(s)</em>.</p>
</li>
<li>
<p><a href="#events">Events</a> initiated/broadcast by the repository, without response by the client.
An event describes some change that has been applied to the repository&#8217;s contents.
Events correlate to their originating command(s)<sup class="footnote" id="_footnote_org306">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup>; this command might have been sent by this client or another client.<sup class="footnote" id="_footnote_org299">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup>
All clients receive the same events (given the same subscription scope and disregarding <a href="#event-sequence-number">event sequence numbers</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A client describes the interesting part of the repository&#8217;s contents by specifying its <a href="#subscription">subscription scope</a>.
The client receives only events on nodes within that scope.</p>
</div>
<div class="paragraph">
<p>A typical workflow for a client would be:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Client <a href="#qry-SignOn">connects</a> to repository and starts a participation.</p>
</li>
<li>
<p>Client <a href="#qry-SubscribeToPartitionContents">subscribes</a> to some partitions with subscription queries.
The response contains a <a href="../serialization/serialization.html#SerializationChunk">serialization chunk</a> with the current contents of these partitions.</p>
</li>
<li>
<p>Client initiates its editor or processing with the chunk.</p>
</li>
<li>
<p>Client <a href="#commands">sends commands</a> to request changes to some nodes in the subscribed partitions.</p>
</li>
<li>
<p>Client <a href="#events">receives events</a> with the actual changes that have been applied to the subscribed nodes.</p>
</li>
<li>
<p>Client updates its editor or processing with the event&#8217;s contents.</p>
</li>
<li>
<p>Client receives events originating from other clients' commands.</p>
</li>
<li>
<p>Client updates its editor or processing with the event&#8217;s contents.</p>
</li>
<li>
<p>Client <a href="#qry-SignOff">ends</a> the participation.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The repository is always the ultimate arbiter of its contents.<sup class="footnote" id="_footnote_org339">[<a id="_footnoteref_8" class="footnote" href="#_footnotedef_8" title="View footnote.">8</a>]</sup>
It can decide to apply each command verbatim, with some tweaks (e.g. because of concurrent changes), or not at all (e.g. because the command would introduce containment loops).</p>
</div>
<div class="paragraph">
<p>Each repository might introduce its own strategy how to handle commands.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>
For example, assume client 1 sends a <code>deleteChild</code> command to delete node <code>X</code>, and then client 2 sends a <code>setProperty</code> command on node <code>X</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Repository A applies all commands in order, thus deletes node <code>X</code> and ignores the second command.
It emits one <code>childDeleted</code> event, correlated to both commands.</p>
</li>
<li>
<p>Repository B keeps an internal "trash can" of all deleted nodes.
It deletes node <code>X</code> on the first command, but resurrects node <code>X</code> on the second command and changes the property as requested.
It first emits a <code>childDeleted</code> event (correlated to the first command), but later <code>childAdded</code> and <code>propertyChanged</code> events (both correlated to the second command).</p>
</li>
<li>
<p>Repository C batches command processing.
It looks at both messages together, and decides it&#8217;s more important to keep the new property value around.
It emits one <code>propertyChanged</code> event, correlated with both commands.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A client stays up-to-date with the repository&#8217;s contents if it applies all events in order.<sup class="footnote" id="_footnote_org297">[<a id="_footnoteref_9" class="footnote" href="#_footnotedef_9" title="View footnote.">9</a>]</sup>
The order is defined by the event&#8217;s sequence number.<sup class="footnote" id="_footnote_org341">[<a id="_footnoteref_10" class="footnote" href="#_footnotedef_10" title="View footnote.">10</a>]</sup>
A client can either decide to apply its own change immediately and filter out events based on that command, or wait for the correlated event to arrive and apply the change only then.</p>
</div>
<div class="sect2">
<h3 id="out-of-scope">2.1. Out of scope</h3>
<div class="paragraph">
<p>This specification precisely describes the semantic content of each message.
We don&#8217;t describe the binding to any specific protocol (e.g. JSON over WebSockets, Protobuf over HTTP, message queues).</p>
</div>
</div>
<div class="sect2">
<h3 id="command-overview">2.2. Command overview</h3>
<div class="paragraph">
<p>We specified the semantics of each command and event precisely, leading to lots of similar, but different commands/events.<sup class="footnote" id="_footnote_org317">[<a id="_footnoteref_11" class="footnote" href="#_footnotedef_11" title="View footnote.">11</a>]</sup></p>
</div>
<div class="paragraph">
<p>This table provides an overview of actions (rows) and element they apply to (columns).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15.3846%;">
<col style="width: 23.0769%;">
<col style="width: 23.0769%;">
<col style="width: 23.0769%;">
<col style="width: 7.6923%;">
<col style="width: 7.6924%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Child</th>
<th class="tableblock halign-left valign-top">Annotation</th>
<th class="tableblock halign-left valign-top">Reference</th>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Partition / Classifier</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-AddChild">Add child</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-AddAnnotation">Add annotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-AddReference">Add reference</a><sup class="footnote" id="_footnote_org329">[<a id="_footnoteref_12" class="footnote" href="#_footnotedef_12" title="View footnote.">12</a>]</sup><sup class="footnote" id="_footnote_org431">[<a id="_footnoteref_13" class="footnote" href="#_footnotedef_13" title="View footnote.">13</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-AddProperty">Add property</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-AddPartition">Add partition</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-DeleteChild">Delete child</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-DeleteAnnotation">Delete annotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-DeleteReference">Delete reference</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-DeleteProperty">Delete property</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-DeletePartition">Delete partition</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-ReplaceChild">Replace child</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-ReplaceAnnotation">Replace annotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-ChangeReference">Change reference</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-ChangeProperty">Change property</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-ChangeClassifier">Change classifier</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move from other node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveChildFromOtherContainment">Move child from other containment</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveAnnotationFromOtherParent">Move annotation from other parent</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move from other feature in same node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveChildFromOtherContainmentInSameParent">Move child from other containment in same parent</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move in same feature in same node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveChildInSameContainment">Move child in same containment</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveAnnotationInSameParent">Move annotation in same parent</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move from other node and replace existing<sup class="footnote" id="_footnote_org321">[<a id="_footnoteref_14" class="footnote" href="#_footnotedef_14" title="View footnote.">14</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveAndReplaceChildFromOtherContainment">Move child from other containment and replace existing child</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveAndReplaceAnnotationFromOtherParent">Move annotation from other parent and replace existing annotation</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move from other feature in same node and replace existing<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_14" title="View footnote.">14</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveAndReplaceChildFromOtherContainmentInSameParent">Move child from other containment in same parent and replace existing child</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move in same feature in same node and replace existing<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_14" title="View footnote.">14</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveAndReplaceChildInSameContainment">Move child in same containment and replace existing child</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cmd-MoveAndReplaceAnnotationInSameParent">Move annotation in same parent and replace existing annotation</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Composite</p></td>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock"><a href="#cmd-CompositeCommand">Composite</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description">3. Description</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="repository">3.1. Repository characteristics</h3>
<div class="paragraph">
<p>A repository is a set of partitions, and a set of APIs, amongst them this delta API.
The repository has an ID that must be unique for all repositories in the same context.
LionWeb doesn&#8217;t specify the scope of the context.<sup class="footnote" id="_footnote_org401">[<a id="_footnoteref_15" class="footnote" href="#_footnotedef_15" title="View footnote.">15</a>]</sup></p>
</div>
<div class="paragraph">
<p>A repository is its own universe: nodes within it can&#8217;t reference nodes, or be referenced from nodes from other repositories.
All nodes within the same repository MUST have unique IDs.
Nodes can refer to nodes from the LionCore and built-in languages.</p>
</div>
</div>
<div class="sect2">
<h3 id="client">3.2. Client characteristics</h3>
<div class="paragraph">
<p>A client is a program connecting to a <a href="#repository">repository</a>.
Each client has exactly one <a href="#participation">participation</a> with one repository at one point in time.
The same client can have several consecutive participations with the same repository, but never at the same time.
A client might interact with several repositories, but they are completely independent (i.e. same as two clients connecting to two repositories).<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="paragraph">
<p>The client has the responsibility to guarantee uniqueness of <a href="#queryIdType">query ids</a> and <a href="#commandIdType">command ids</a> within the same participation.</p>
</div>
<div class="paragraph">
<p>Authentication and authorization are out of scope of this API.</p>
</div>
</div>
<div class="sect2">
<h3 id="channel">3.3. Channel characteristics</h3>
<div class="paragraph">
<p>Logically, the channel has independent parts for each <a href="#category">category</a> of message;
in practice, we might transmit some or all of them through a shared channel.</p>
</div>
<div class="paragraph">
<p>This protocol is agnostic of its underlying transport or technical implementation.
By default, this protocol uses JSON encoding over a text-based, single channel, stateful, bi-directional, asynchronous, reliable, and trustworthy transport.<sup class="footnote" id="_footnote_org429">[<a id="_footnoteref_16" class="footnote" href="#_footnotedef_16" title="View footnote.">16</a>]</sup>
Any transport that fits these criteria (e.g. WebSocket<sup class="footnote">[<a id="_footnoteref_17" class="footnote" href="#_footnotedef_17" title="View footnote.">17</a>]</sup>) MUST use the same encoding and MUST adhere to the <a href="#deltaJsonSchema">Delta JSON Schema</a>.<sup class="footnote" id="_footnote_org428">[<a id="_footnoteref_18" class="footnote" href="#_footnotedef_18" title="View footnote.">18</a>]</sup></p>
</div>
<div class="paragraph">
<p>We assume the underlying protocol handles quality of service concerns (i.e. guaranteed one-time complete delivery of messages), they are out of scope of this API.</p>
</div>
</div>
<div class="sect2">
<h3 id="participation">3.4. Participation characteristics</h3>
<div class="paragraph">
<p>Each participation has a <em><a id="participation-id"></a>participation id</em>, unique for all concurrent participations.
The repository assigns the participation id upon starting a new participation.
The participation id MUST follow the same format as <a href="../metametamodel/metametamodel.html#identifiers">identifier</a>.
It serves as a technical identifier.</p>
</div>
<div class="paragraph">
<p>A participation is transparent for reconnecting network connections,i.e. one participation can survive potential technical reconnects.
A participation spans over time: if we would e.g. used REST, a participation spans over several REST requests/responses.</p>
</div>
<div class="paragraph">
<p>A participation <a href="#qry-SignOn">starts</a> by the client connecting to the repository via delta protocol.
A participation ends either by the <a href="#qry-SignOff">client ending</a> it, or if the client disconnects involuntarily (e.g. by crashing or a connection failure).</p>
</div>
<div class="paragraph">
<p>A client can try to <a href="#qry-Reconnect">reconnect</a> a participation if the client still knows a previously valid participation id, and the last <a href="#event-sequence-number">event sequence number</a> the client received.<sup class="footnote" id="_footnote_org349">[<a id="_footnoteref_19" class="footnote" href="#_footnotedef_19" title="View footnote.">19</a>]</sup></p>
</div>
</div>
<div class="sect2">
<h3 id="event-sequence-number">3.5. Event sequence numbers</h3>
<div class="paragraph">
<p>Each event contains a sequence number.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_10" title="View footnote.">10</a>]</sup>
This number is a positive integer that increments by one for each consecutive event.
It is unique per participation.<sup class="footnote" id="_footnote_org343">[<a id="_footnoteref_20" class="footnote" href="#_footnotedef_20" title="View footnote.">20</a>]</sup></p>
</div>
<div class="paragraph">
<p>A <a href="#client">client</a> SHOULD use this number to order incoming events, and check whether the client missed any event.</p>
</div>
</div>
<div class="sect2">
<h3 id="subscription">3.6. Subscription characteristics</h3>
<div class="paragraph">
<p>The subscription, or subscription scope, is the set of partitions a <a href="#participation">participation</a> gets events for.
A subscription does not have an identity on its own; it is bound to one participation.</p>
</div>
<div class="paragraph">
<p>Scope is defined by the node id of a <a href="../metametamodel/metametamodel.html#partition">partition</a>; it includes all changes to the partition and all its descendants (including annotation instances).<sup class="footnote" id="_footnote_org269">[<a id="_footnoteref_21" class="footnote" href="#_footnotedef_21" title="View footnote.">21</a>]</sup></p>
</div>
<div class="paragraph">
<p>At the start of a participation, the subscription scope is empty.
A client can change its subscription scope by</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#qry-ListAndSubscribePartitions">requesting and subscribing to all existing partitions</a>,</p>
</li>
<li>
<p><a href="#qry-InformAboutChangingPartitions">being informed about newly created partitions</a>,</p>
</li>
<li>
<p><a href="#qry-SubscribeToChangingPartitions">subscribing to newly created partitions</a>,</p>
</li>
<li>
<p><a href="#qry-SubscribeToPartitionContents">subscribe</a> / <a href="#qry-UnsubscribeFromPartitionContents">unsubscribe</a> to a specific partition, or</p>
</li>
<li>
<p><a href="#cmd-AddPartition">adding a new partition</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A client can change the subscription scope at any time during a participation.</p>
</div>
<div class="paragraph">
<p>A client can send commands for any node id, independent of the client&#8217;s subscription.
Assume a client sends a command for a node that&#8217;s part of a partition that client is not subscribed to.
The repository treats that command the same as from a client that was subscribed to the containing partition, i.e. applies it in accordance with the repository&#8217;s policy.
The repository also sends out the same events to subscribed clients, thus <em>not</em> to the sending client.<sup class="footnote" id="_footnote_org352">[<a id="_footnoteref_22" class="footnote" href="#_footnotedef_22" title="View footnote.">22</a>]</sup></p>
</div>
</div>
<div class="sect2">
<h3 id="message">3.7. Message characteristics</h3>
<div id="messageAtomicity" class="paragraph">
<div class="title">Atomicity</div>
<p>Most messages are atomic; they cannot be split.
The exceptions are <a href="#splittableMessage">splittable messages</a>.</p>
</div>
<div id="messageIdentity" class="paragraph">
<div class="title">Message identity</div>
<p>Each message has some id unique to the <a href="#participation">participation</a> and <a href="#category">category</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Queries have a <a href="#queryIdType">QueryId</a> (for <a href="#qry-ChunkedQueryResponse">Chunked query response</a> together with its <a href="#continuedChunkSequenceNumberType">ContinuedChunkSequenceNumber</a>).</p>
</li>
<li>
<p>Commands have a <a href="#commandIdType">CommandId</a> (for <a href="#cmd-ChunkedCommand">Chunked Command</a> together with its <a href="#continuedChunkSequenceNumberType">ContinuedChunkSequenceNumber</a>).<sup class="footnote" id="_footnote_org305">[<a id="_footnoteref_23" class="footnote" href="#_footnotedef_23" title="View footnote.">23</a>]</sup></p>
</li>
<li>
<p>Events have <a href="#eventSequenceType">EventSequenceNumber</a>.<sup class="footnote" id="_footnote_org423">[<a id="_footnoteref_24" class="footnote" href="#_footnotedef_24" title="View footnote.">24</a>]</sup></p>
</li>
</ul>
</div>
<div id="technicalName" class="paragraph">
<div class="title">Technical name</div>
<p>Every defined message has a unique <em>technical name</em>.
The technical name is a valid programming language identifier as described for <a href="../metametamodel/metametamodel.html#IKeyed">IKeyed</a>.
Each binding to a specific protocol might use the technical name in a different way.
For example, a JSON binding might have a member containing the technical name of the message, or a Protobuf binding might use the technical name as type name.</p>
</div>
<div class="sect3">
<h4 id="splittableMessage">3.7.1. Splittable messages</h4>
<div class="paragraph">
<p>All messages containing a <a href="#unconstrainedChunkType">SerializationChunk</a>.</p>
</div>
<div class="paragraph">
<p>A client or repository CAN decide to split up a <em>splittable message</em> if that message would exceed the acceptable message size.
LionWeb does not define the acceptable message size, it SHOULD be a parameter for each implementation.</p>
</div>
<div class="paragraph">
<p>All <em>splittable messages</em> MAY contain a <a href="#splitFlagType">SplitFlag</a>.
If the flag is unset or <code>false</code>, the splittable message is self-contained.
If the flag is <code>true</code>, one or more <a href="#continuedChunk">continued chunk</a> messages will follow.<sup class="footnote" id="_footnote_org425">[<a id="_footnoteref_25" class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup></p>
</div>
<div class="paragraph">
<p><em>Splittable messages</em> include:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Queries</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#qry-SubscribeToPartitionContents">Subscribe to partition contents</a> response <a href="#SubscribeToPartitionContents.contents"><code>contents</code></a></p>
</li>
<li>
<p><a href="#qry-ListPartitions">List partitions</a> response <a href="#ListPartitions.partitions"><code>partitions</code></a></p>
</li>
<li>
<p><a href="#qry-ListAndSubscribePartitions">List and subscribe partitions</a> response <a href="#ListAndSubscribePartitions.partitions"><code>partitions</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Commands</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#cmd-AddPartition">Add partition</a> <a href="#AddPartition.newPartition"><code>newPartition</code></a></p>
</li>
<li>
<p><a href="#cmd-AddChild">Add child</a> <a href="#AddChild.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#cmd-ReplaceChild">Replace child</a> <a href="#ReplaceChild.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#cmd-AddAnnotation">Add annotation</a> <a href="#AddAnnotation.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#cmd-ReplaceAnnotation">Replace annotation</a> <a href="#ReplaceAnnotation.newAnnotation"><code>newAnnotation</code></a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Events</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#evnt-ChildAdded">Child added</a> <a href="#ChildAdded.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#evnt-ChildReplaced">Child replaced</a> <a href="#ChildReplaced.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#evnt-AnnotationAdded">Annotation added</a> <a href="#AnnotationAdded.newAnnotation"><code>newAnnotation</code></a></p>
</li>
<li>
<p><a href="#evnt-AnnotationReplaced">Annotation replaced</a> <a href="#AnnotationReplaced.newAnnotation"><code>newAnnotation</code></a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div id="continuedChunk" class="paragraph">
<div class="title">Continued chunks</div>
<p><em>Continued chunks</em> continue the chunk from the related <a href="#splittableMessage">splittable message</a>.
Each <em>continued chunk</em> refers to the <a href="#splittableMessage">splittable message</a> it belongs to.
The <em>continued chunk</em> contains a chunk, a consecutive sequence number, and a <a href="#continuedChunkCompletedFlagType">ContinuedChunkCompletedFlag</a> to signal whether it is the last <em>continued chunk</em>, or more will follow.
If the flag is <code>true</code>, this is the last <em>continued chunk</em>.
If the flag is <code>false</code>, one or more <em>continued chunk</em> messages will follow.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup></p>
</div>
<div class="paragraph">
<p>There MUST NOT be any message in the same <a href="#channel">channel</a> between the <em>chunked message</em> and all related <em>continued chunks</em>.</p>
</div>
<div class="paragraph">
<p><em>Continued chunks</em> include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#qry-ChunkedQueryResponse">Chunked query response</a></p>
</li>
<li>
<p><a href="#cmd-ChunkedCommand">Chunked Command</a></p>
</li>
<li>
<p><a href="#evnt-ChunkedEvent">Chunked Event</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="additionalInfo">3.7.2. Additional Info</h4>
<div class="paragraph">
<p>Each message optionally can have one or more <em>additional infos</em> consisting of:<sup class="footnote" id="_footnote_org331">[<a id="_footnoteref_26" class="footnote" href="#_footnotedef_26" title="View footnote.">26</a>]</sup><sup class="footnote" id="_footnote_org332">[<a id="_footnoteref_27" class="footnote" href="#_footnotedef_27" title="View footnote.">27</a>]</sup><sup class="footnote" id="_footnote_org430">[<a id="_footnoteref_28" class="footnote" href="#_footnotedef_28" title="View footnote.">28</a>]</sup></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="additionalInfo.kind"></a><code>kind</code> is an <a href="../metametamodel/metametamodel.html#identifiers">identifier</a>-compatible string identifying the additional info type.
Some kinds are pre-defined in this specification.
A repository MAY reply with other, additional kinds.</p>
</li>
<li>
<p><a id="additionalInfo.distribute"></a><code>distribute</code>? is an optional <a href="#booleanType">boolean</a> flag with default value <code>false</code>.
It is only valid in <a href="#commands">Commands</a>, i.e. MUST NOT be used for <a href="#events">Events</a> or <a href="#queries">Queries</a>.
If present and set to <code>true</code>, the repository MUST copy the additional info to all events that result from the command, and distribute the additional info to all participants receiving the event.</p>
</li>
<li>
<p><a id="additionalInfo.message"></a><code>message</code> is a human-readable string describing the additional info.</p>
</li>
<li>
<p><a id="additionalInfo.data"></a><code>data</code> is a flat map with 0 or more arbitrary keys and values.
All keys MUST be <a href="../metametamodel/metametamodel.html#identifiers">identifier</a>-compatible and MUST be unique within the same additional info.
All values MUST be strings.
A <em>kind</em> might imply presence of specific keys in <code>data</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This additional info is symmetric to <a href="../bulk/repo-access-api.html#additionalInfo">additional infos in bulk API</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scenarios">4. Scenarios</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_virgin_repository_first_time_client_connects">4.1. Virgin repository, first time client connects</h3>
<div class="imageblock">
<div class="content">
<img src="virginRepo.svg" alt="virginRepo" width="1021" height="473">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Client <a href="#qry-SignOn">signs on</a> to repository <code>repo-alpha</code>, with protocol version <code>2026.1</code>, and client id <code>myClient</code>.</p>
</li>
<li>
<p>Repository confirms participation with participation id <code>participation-a</code>.</p>
</li>
<li>
<p>Client initiates new partition.</p>
</li>
<li>
<p>Client sends <a href="#cmd-AddPartition">Add partition</a> command with <code>nodeA</code> payload (details omitted) and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository registers command for processing.</p>
</li>
<li>
<p>Repository updates internal representation.</p>
</li>
<li>
<p>Repository creates event for update.</p>
</li>
<li>
<p>Repository emits event <a href="#evnt-PartitionAdded">Partition added</a> with <code>nodeA</code> payload and sequence number <code>1</code>.
It includes one <a href="#commandSourceType">CommandSource</a> with value <code>(participation-a, cmd-1)</code></p>
</li>
<li>
<p>Client receives event and forwards information to editor.</p>
</li>
<li>
<p>Client draws <code>nodeA</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_client_reconnects_to_known_partition">4.2. Client reconnects to known partition</h3>
<div class="imageblock">
<div class="content">
<img src="reconnectKnownPartition.svg" alt="reconnectKnownPartition" width="953" height="358">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Client knows the relevant partition, wants to subscribe.</p>
</li>
<li>
<p>Client sends <a href="#qry-SubscribeToPartitionContents">Subscribe to partition contents</a> query with partition node id <code>partition-id</code>.</p>
</li>
<li>
<p>Repository retrieves all contents of partition with node id <code>partition-id</code>.</p>
</li>
<li>
<p>Repository found contents.</p>
</li>
<li>
<p>Repository responds to query with id <code>qry-1</code> with contents of 3 nodes: <code>partitionNode</code>, <code>childNodeA</code>, <code>childNodeB</code> (details omitted).</p>
</li>
<li>
<p>Client receives query result and forwards information to editor.</p>
</li>
<li>
<p>Client draws <code>childNodeA</code> and <code>childNodeB</code>.
<code>partitionNode</code> is not drawn, it represents the canvas.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_client_changes_known_node_with_remote_update">4.3. Client changes known node with remote update</h3>
<div class="imageblock">
<div class="content">
<img src="changeKnownNodeRemoteUpdate.svg" alt="changeKnownNodeRemoteUpdate" width="923" height="504">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters new property value.</p>
</li>
<li>
<p>Client editor forwards user action into command.</p>
</li>
<li>
<p>Client sends <a href="#cmd-AddProperty">Add property</a> command with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository registers command for processing.</p>
</li>
<li>
<p>Client informs editor of command submission.</p>
</li>
<li>
<p>Repository updates internal representation.</p>
</li>
<li>
<p>Repository creates event for update.</p>
</li>
<li>
<p>Repository emits event <a href="#evnt-PropertyAdded">Property added</a> with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and sequence number <code>1</code>.
It includes one <a href="#commandSourceType">CommandSource</a> with value <code>(participation-a, cmd-1)</code></p>
</li>
<li>
<p>Client receives event and forwards information to editor.</p>
</li>
<li>
<p>Client updates <code>nodeA</code> with new property value.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_client_changes_known_node_with_local_update">4.4. Client changes known node with local update</h3>
<div class="imageblock">
<div class="content">
<img src="changeKnownNodeLocalUpdate.svg" alt="changeKnownNodeLocalUpdate" width="1203" height="832">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters new property value.</p>
</li>
<li>
<p>Client updates <code>nodeA</code> with new property value.</p>
</li>
<li>
<p>Client editor forwards user action into command.</p>
</li>
<li>
<p>Client sends <a href="#cmd-AddProperty">Add property</a> command with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository registers command for processing.</p>
</li>
<li>
<p>Client registers processed command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository updates internal representation.</p>
</li>
<li>
<p>Repository creates event for update.</p>
</li>
<li>
<p>Repository emits event <a href="#evnt-PropertyAdded">Property added</a> with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and sequence number <code>1</code>.
It includes one <a href="#commandSourceType">CommandSource</a> with value <code>(participation-a, cmd-1)</code></p>
</li>
<li>
<p>Client found a matching registered processed command id.</p>
</li>
<li>
<p>Client unregisters processed command id <code>cmd-1</code>, and does NOT forward information to editor&#8201;&#8212;&#8201;the event originates from this client, thus has already been processed.</p>
</li>
<li>
<p>Another client sends <a href="#cmd-AddProperty">Add property</a> command with command id <code>cmd-x</code> (other parameters omitted).</p>
</li>
<li>
<p>Repository updates internal representation.</p>
</li>
<li>
<p>Repository creates event for update.</p>
</li>
<li>
<p>Repository emits event <a href="#evnt-PropertyAdded">Property added</a> with sequence number <code>2</code> (other parameters omitted).
It includes one <a href="#commandSourceType">CommandSource</a> with value <code>(other-client, cmd-x)</code></p>
</li>
<li>
<p>Client did not find any matching registered processed command id.</p>
</li>
<li>
<p>Client forwards information to editor.</p>
</li>
<li>
<p>Client updates with new property value.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_client_tries_to_change_invalid_node_id">4.5. Client tries to change invalid node id</h3>
<div class="imageblock">
<div class="content">
<img src="changeUnknownNodeFailedCommand.svg" alt="changeUnknownNodeFailedCommand" width="1145" height="550">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters new property value on node <code>node with spaces</code> that&#8217;s known to the editor.</p>
</li>
<li>
<p>Client editor forwards user action into command.</p>
</li>
<li>
<p>Client sends <a href="#cmd-AddProperty">Add property</a> command with <code>node with spaces</code> node id, <code>age</code> property (details omitted), <code>23</code> value and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository checks whether node id <code>node with spaces</code> is valid.</p>
</li>
<li>
<p>Client registers processed command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Client informs editor of command submission.</p>
</li>
<li>
<p>Repository rejects invalid node id.</p>
</li>
<li>
<p>Repository sends <a href="#evnt-ErrorEvent">ErrorEvent</a> only to this participation with <code>invalidNodeId</code> error code, <code>invalid node id 'node with spaces'</code> message and sequence number <code>1</code>.
It includes one <a href="#commandSourceType">CommandSource</a> with value <code>(participation-a, cmd-1)</code>.</p>
</li>
<li>
<p>Client removes <code>cmd-1</code> from open commands list.</p>
</li>
<li>
<p>Client informs editor of failed command.</p>
</li>
<li>
<p>Client informs user.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_client_tries_to_change_unknown_node_with_failed_event">4.6. Client tries to change unknown node with failed event</h3>
<div class="imageblock">
<div class="content">
<img src="changeUnknownNodeFailedEvent.svg" alt="changeUnknownNodeFailedEvent" width="1068" height="534">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters new property value on node <code>nodeA</code> that&#8217;s known to the editor.</p>
</li>
<li>
<p>Client editor forwards user action into command.</p>
</li>
<li>
<p>Client sends <a href="#cmd-AddProperty">Add property</a> command with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository registers command for processing.</p>
</li>
<li>
<p>Client registers processed command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Client informs editor of command submission.</p>
</li>
<li>
<p>Repository realizes it does not know a node with id <code>nodeA</code></p>
</li>
<li>
<p>Repository creates event for notification.</p>
</li>
<li>
<p>Repository emits <a href="#evnt-ErrorEvent">ErrorEvent</a> with <code>unknownNode</code> error code, <code>cannot add property to unknown node</code> message and sequence number <code>1</code>.
It includes one <a href="#commandSourceType">CommandSource</a> with value <code>(participation-a, cmd-1)</code>.</p>
</li>
<li>
<p>Client removes <code>cmd-1</code> from open commands list.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_client_with_remote_update_changes_property_to_same_value_as_it_already_has">4.7. Client with remote update changes property to same value as it already has</h3>
<div class="imageblock">
<div class="content">
<img src="changeSameValueRemoteUpdate.svg" alt="changeSameValueRemoteUpdate" width="1032" height="534">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters changed property value that&#8217;s the same value as the old value.</p>
</li>
<li>
<p>Client editor forwards user action into command.</p>
</li>
<li>
<p>Client sends <a href="#cmd-ChangeProperty">Change property</a> command with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> old value, <code>23</code> new value and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository registers command for processing.</p>
</li>
<li>
<p>Client registers processed command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Client informs editor of command submission.</p>
</li>
<li>
<p>Repository determines no change to internal representation.</p>
</li>
<li>
<p>Repository creates event for notification.</p>
</li>
<li>
<p>Repository emits <a href="#evnt-NoOp">No-op</a> event with <a href="#commandSourceType">CommandSource</a> with value <code>(participation-a, cmd-1)</code> and sequence number <code>1</code>.</p>
</li>
<li>
<p>Client removes <code>cmd-1</code> from open commands list.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_repository_has_bug_needs_to_tell_client_it_couldnt_apply_its_commands">4.8. Repository has bug, needs to tell client it couldn&#8217;t apply its commands</h3>
<div class="imageblock">
<div class="content">
<img src="repositoryBug.svg" alt="repositoryBug" width="982" height="576">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters new property value on node <code>nodeA</code> that&#8217;s known to the editor.</p>
</li>
<li>
<p>Client editor forwards user action into command.</p>
</li>
<li>
<p>Client sends <a href="#cmd-AddProperty">Add property</a> command with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository registers command for processing.</p>
</li>
<li>
<p>Client registers processed command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Client informs editor of command submission.</p>
</li>
<li>
<p>Repository tries to update internal representation.
Some error occurs (e.g. database unavailable).</p>
</li>
<li>
<p>Repository handles the error.</p>
</li>
<li>
<p>Repository creates event for notification.</p>
</li>
<li>
<p>Repository emits <a href="#evnt-ErrorEvent">ErrorEvent</a> with <code>internalError</code> error code, <code>internal error occurred</code> message and sequence number <code>1</code>.
It includes one <a href="#commandSourceType">CommandSource</a> with value <code>(participation-a, cmd-1)</code>.</p>
</li>
<li>
<p>Client removes <code>cmd-1</code> from open commands list.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_concurrent_changes_to_known_node_with_local_update">4.9. Concurrent changes to known node with local update</h3>
<div class="imageblock">
<div class="content">
<img src="concurrentChangeLocalUpdate.svg" alt="concurrentChangeLocalUpdate" width="1221" height="719">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters new property value.</p>
</li>
<li>
<p>Client updates <code>nodeA</code> with new property value.</p>
</li>
<li>
<p>Client editor forwards user action into command.</p>
</li>
<li>
<p>Client sends <a href="#cmd-AddProperty">Add property</a> command with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository registers command for processing.</p>
</li>
<li>
<p>Client registers processed command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Another client sends <a href="#cmd-AddProperty">Add property</a> command <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>42</code> value and command id <code>cmd-x</code>.</p>
</li>
<li>
<p>Repository resolves concurrent updates t <code>nodeA</code>, <code>age</code> property with "last write wins" strategy.
Repository updates internal representation with value <code>42</code>.</p>
</li>
<li>
<p>Repository creates event for update.</p>
</li>
<li>
<p>Repository emits event <a href="#evnt-PropertyAdded">Property added</a> with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and sequence number <code>1</code>.
It includes one <a href="#commandSourceType">CommandSource</a> with values <code>(participation-a, cmd-1)</code> and <code>(other-client, cmd-x)</code>.</p>
</li>
<li>
<p>Client found a matching registered processed command id.</p>
</li>
<li>
<p>Client unregisters processed command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Not all command sources could be matched against registered processed command ids.
Client forwards information to editor.</p>
</li>
<li>
<p>Client updates with new property value.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_concurrent_changes_to_known_node_with_remote_update">4.10. Concurrent changes to known node with remote update</h3>
<div class="imageblock">
<div class="content">
<img src="concurrentChangeRemoteUpdate.svg" alt="concurrentChangeRemoteUpdate" width="1148" height="548">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters new property value.</p>
</li>
<li>
<p>Client editor forwards user action into command.</p>
</li>
<li>
<p>Client sends <a href="#cmd-AddProperty">Add property</a> command with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and command id <code>cmd-1</code>.</p>
</li>
<li>
<p>Repository registers command for processing.</p>
</li>
<li>
<p>Client informs editor of command submission.</p>
</li>
<li>
<p>Another client sends <a href="#cmd-AddProperty">Add property</a> command <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>42</code> value and command id <code>cmd-x</code>.</p>
</li>
<li>
<p>Repository resolves concurrent updates t <code>nodeA</code>, <code>age</code> property with "last write wins" strategy.
Repository updates internal representation with value <code>42</code>.</p>
</li>
<li>
<p>Repository creates event for update.</p>
</li>
<li>
<p>Repository emits event <a href="#evnt-PropertyAdded">Property added</a> with <code>nodeA</code> node id, <code>age</code> property (details omitted), <code>23</code> value and sequence number <code>1</code>.
It includes one <a href="#commandSourceType">CommandSource</a> with values <code>(participation-a, cmd-1)</code> and <code>(other-client, cmd-x)</code>.</p>
</li>
<li>
<p>Client receives event and forwards information to editor.</p>
</li>
<li>
<p>Client updates <code>nodeA</code> with new property value.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_split_query_response">4.11. Split query response</h3>
<div class="imageblock">
<div class="content">
<img src="splitQueryResponse.svg" alt="splitQueryResponse" width="886" height="679">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Client knows the relevant partition, wants to subscribe.</p>
</li>
<li>
<p>Client sends <a href="#qry-SubscribeToPartitionContents">Subscribe to partition contents</a> query with partition node id <code>partition-id</code>.</p>
</li>
<li>
<p>Repository retrieves all contents of partition with node id <code>partition-id</code>.</p>
</li>
<li>
<p>Repository found contents.</p>
</li>
<li>
<p>Repository responds to query with id <code>qry-1</code> with contents of 2 nodes: <code>partitionNode</code>, <code>nodeA</code> (details omitted).
Repository decided the response is too big, and splits it up (<code>split: true</code>).</p>
</li>
<li>
<p>Client receives split query result and buffers partial response.</p>
</li>
<li>
<p>Repository continues its response to query with id <code>qry-1</code> with another <a href="#qry-ChunkedQueryResponse">Chunked query response</a> with chunk of 1 node: <code>nodeB</code> (details omitted).
This is the first in the sequence of chunked responses (<code>continuedChunkSequenceNumber: 0</code>) and there will be another response (<code>continuedChunkCompleted: false</code>).</p>
</li>
<li>
<p>Client receives the next split query result and buffers partial response.</p>
</li>
<li>
<p>Repository continues its response to query with id <code>qry-1</code> with another <a href="#qry-ChunkedQueryResponse">Chunked query response</a> with chunk of 2 nodes: <code>nodeC</code>, <code>annotationD</code> (details omitted).
This is the second in the sequence of chunked responses (<code>continuedChunkSequenceNumber: 1</code>) and there will <em>not</em> be another response (<code>continuedChunkCompleted: true</code>).</p>
</li>
<li>
<p>Client receives the final next split query result and composes the response.</p>
</li>
<li>
<p>Client forwards information to editor.</p>
</li>
<li>
<p>Client draws <code>nodeA</code> and <code>nodeB</code>.
<code>partitionNode</code> is not drawn, it represents the canvas.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="messages">5. Messages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="parameter-syntax">5.1. Parameter syntax</h3>
<div class="ulist">
<ul>
<li>
<p>Parameters suffixed with <code>?</code> CAN be omitted, or CAN have a value of <code>null</code>.
Both representations express the parameter to be unset.<sup class="footnote" id="_footnote_org427">[<a id="_footnoteref_29" class="footnote" href="#_footnotedef_29" title="View footnote.">29</a>]</sup></p>
</li>
<li>
<p>Parameters suffixed with <code>[]</code> are ordered lists with zero or more elements.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_parameter_types">5.2. Parameter types</h3>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a id="additionalInfosType"></a>additionalInfos
</td>
<td class="hdlist2">
<p>Optionally empty<sup class="footnote" id="_footnote_org402">[<a id="_footnoteref_30" class="footnote" href="#_footnotedef_30" title="View footnote.">30</a>]</sup> list of <a href="#additionalInfo">additional info</a>s.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="targetNodeType"></a>TargetNode
</td>
<td class="hdlist2">
<p>Target&#8217;s node as <a href="../metametamodel/metametamodel.html#node-id">id</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="metaPointerType"></a>MetaPointer
</td>
<td class="hdlist2">
<p>MetaPointer-tuple to describe an M2 element (classifier, feature, etc.).
Encoded as <a href="../serialization/serialization.html#meta-pointer">meta-pointer</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="propertyValueType"></a>PropertyValue
</td>
<td class="hdlist2">
<p>Property value encoded as <a href="../serialization/serialization.html#property-values">property value</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="resolveInfoType"></a>ResolveInfo
</td>
<td class="hdlist2">
<p>ResolveInfo of a reference as string.
Can be <code>null</code>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="indexType"></a>Index
</td>
<td class="hdlist2">
<p>Position inside a multiple link or annotations as integer &gt;= 0.
Cannot be <code>null</code>.
Use value <code>0</code> for <a href="../metametamodel/metametamodel.html#multiplicity">single links</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="commandType"></a>Command
</td>
<td class="hdlist2">
<p>Any <a href="#commands">command</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="commandIdType"></a>CommandId
</td>
<td class="hdlist2">
<p>Id of a command.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_23" title="View footnote.">23</a>]</sup>
Same format as <a href="../metametamodel/metametamodel.html#identifiers">identifiers</a>; must be unique per <a href="#participation">participation</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="queryIdType"></a>QueryId
</td>
<td class="hdlist2">
<p>Id of a query.
Same format as <a href="../metametamodel/metametamodel.html#identifiers">identifiers</a>; must be unique per <a href="#participation">participation</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="unconstrainedChunkType"></a>SerializationChunk
</td>
<td class="hdlist2">
<p>Chunk of nodes as described in <a href="#../serialization/serialization.adoc">serialization specification</a>, but without top-level <code>serializationFormatVersion</code> and <code>languages</code>  members.
Thus, the serialization chunk has only the top-level member <code>nodes</code>.<sup class="footnote" id="_footnote_org358">[<a id="_footnoteref_31" class="footnote" href="#_footnotedef_31" title="View footnote.">31</a>]</sup></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nodes in the chunk MAY have references to already <a href="#existing-nodes">existing nodes</a>, and already <a href="#existing-nodes">existing nodes</a> MAY have references to nodes in the chunk.<sup class="footnote" id="_footnote_org327">[<a id="_footnoteref_32" class="footnote" href="#_footnotedef_32" title="View footnote.">32</a>]</sup></p>
</div>
<div class="paragraph">
<p>+
Chunks have different constraints, depending on use case:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a id="singleChunkType"></a>Single
</td>
<td class="hdlist2">
<p>MUST contain a single <em>anchor node</em>, and all other nodes MUST be descendants of the <em>anchor node</em>.
The chunk MUST contain all features of the <em>anchor node</em> and all its descendants, i.e. the <em>anchor node</em> is complete.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="multiChunkType"></a>Multi
</td>
<td class="hdlist2">
<p>MAY contain more than one <em>root node</em> (i.e. independent subtrees), and the chunk MUST contain all descendants of each <em>root node</em>.
MUST contain all features of all contained nodes.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="shallowChunkType"></a>Shallow
</td>
<td class="hdlist2">
<p>MAY contain more than one <em>root node</em> (i.e. independent subtrees), and each root node might be incomplete.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="depthLimitType"></a>DepthLimit</dt>
<dd>
<p>Depth of returned <a href="#shallowChunkType">shallow chunk</a>.
MUST be an integer &gt;= 0, with</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>0 meaning "return only the <em>root node(s)</em>",</p>
</li>
<li>
<p>1 meaning "return the <em>root node(s)</em> and their direct children/annotations",</p>
</li>
<li>
<p>2 meaning "return the <em>root node(s)</em>, their direct children/annotations, and the direct children/annotations of these",</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><a id="splitFlagType"></a>SplitFlag</dt>
<dd>
<p>boolean flag whether the chunk is complete within this <a href="#splittableMessage">splittable message</a>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup></p>
</dd>
<dt class="hdlist1"><a id="continuedChunkCompletedFlagType"></a>ContinuedChunkCompletedFlag</dt>
<dd>
<p>boolean flag whether this <a href="#continuedChunk">continued chunk</a> completes its <a href="#splittableMessage">splittable message</a>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup></p>
</dd>
<dt class="hdlist1"><a id="continuedChunkSequenceNumberType"></a>ContinuedChunkSequenceNumber</dt>
<dd>
<p>orders connected <a href="#continuedChunk">continued chunks</a>.
Positive integer that starts at 0 and increments by one for each consecutive <a href="#continuedChunk">continued chunk</a>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup></p>
</dd>
<dt class="hdlist1"><a id="eventType"></a>Event</dt>
<dd>
<p>Any <a href="#events">event</a>.</p>
</dd>
<dt class="hdlist1"><a id="participationIdType"></a>ParticipationId</dt>
<dd>
<p>Id of a <a href="#participation">participation</a>.
Same format as <a href="../metametamodel/metametamodel.html#identifiers">identifiers</a>; must be unique for all concurrent participations.</p>
</dd>
<dt class="hdlist1"><a id="clientIdType"></a>clientId</dt>
<dd>
<p>Id of a <a href="#client">client</a>.
Same format as <a href="../metametamodel/metametamodel.html#identifiers">identifiers</a>; must be stable over time for the same client to use <a href="#qry-GetAvailableIds">reserved free node ids</a>.</p>
</dd>
<dt class="hdlist1"><a id="repositoryIdType"></a>RepositoryId</dt>
<dd>
<p>Id of a <a href="#repository">repository</a>.
Same format as <a href="../metametamodel/metametamodel.html#identifiers">identifiers</a>; must be unique for all repositories in the same context.
LionWeb doesn&#8217;t specify the scope of the context.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_15" title="View footnote.">15</a>]</sup></p>
</dd>
<dt class="hdlist1"><a id="commandSourceType"></a>CommandSource</dt>
<dd>
<p><em>(<a href="#participationIdType">ParticipationId</a>, <a href="#commandIdType">CommandId</a>)</em> tuple<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup> this event is based on.
This allows a client to know when its command has been processed (either successful or not).</p>
</dd>
<dt class="hdlist1"><a id="eventSequenceType"></a>EventSequenceNumber</dt>
<dd>
<p><a href="#event-sequence-number">event sequence number</a> of this event.</p>
</dd>
<dt class="hdlist1"><a id="freeIdType"></a>FreeId</dt>
<dd>
<p>Free <a href="../metametamodel/metametamodel.html#node-id">node id</a>.</p>
</dd>
<dt class="hdlist1"><a id="deltaProtocolVersionType"></a>DeltaProtocolVersion</dt>
<dd>
<p>Version of the delta protocol, e.g. <code>2026.1</code>.</p>
</dd>
<dt class="hdlist1"><a id="booleanType"></a>boolean</dt>
<dd>
<p>A boolean value, i.e. either <code>true</code> or <code>false</code>.</p>
</dd>
<dt class="hdlist1"><a id="integerType"></a>integer type</dt>
<dd>
<p>An integer value.</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="new-nodes">5.2.1. New nodes</h4>
<div class="paragraph">
<p>The term "new node" refers to nodes that MUST NOT yet exist in the repository.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_32" title="View footnote.">32</a>]</sup></p>
</div>
</div>
<div class="sect3">
<h4 id="existing-nodes">5.2.2. Existing nodes</h4>
<div class="paragraph">
<p>The term "existing node" refers to nodes that MUST exist in the repository.</p>
</div>
</div>
<div class="sect3">
<h4 id="reused-nodes">5.2.3. Reused nodes</h4>
<div class="paragraph">
<p>The term "reused node" refers to nodes that are removed and re-added in the same command/event.<sup class="footnote" id="_footnote_org422">[<a id="_footnoteref_33" class="footnote" href="#_footnotedef_33" title="View footnote.">33</a>]</sup>
A client SHOULD keep the identity of the reused node in its internal representation.</p>
</div>
<div class="paragraph">
<p>These <a id="replace-with-new-content-commands"></a> <em>replace with new content commands</em> / <a id="replace-with-new-content-events"></a> <em>replace with new content events</em> are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cmd-ReplaceChild">Replace child</a> / <a href="#evnt-ChildReplaced">Child replaced</a></p>
</li>
<li>
<p><a href="#cmd-ReplaceAnnotation">Replace annotation</a> / <a href="#evnt-AnnotationReplaced">Annotation replaced</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_address_references">5.2.4. How to address references</h4>
<div class="paragraph">
<p>We refer to references by the tuple of <em>(parent, reference, index)</em>.
Rationale: Both reference <code>target</code> and <code>resolveInfo</code> can be <code>null</code>, so they aren&#8217;t suitable for identifying the reference.
However, <code>target</code> and <code>resolveInfo</code> MUST NOT both be <code>null</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="errors">5.3. Errors</h3>
<div class="sect3">
<h4 id="err-invalidParticipation">5.3.1. Invalid participation</h4>
<div class="paragraph">
<p>The <a href="#participation">participation</a> the <a href="#client">client</a> uses to communicate with the repository is not valid.</p>
</div>
<div class="paragraph">
<p>Possible reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The participation never has been valid.</p>
</li>
<li>
<p>The client <a href="#qry-SignOff">signed off</a>.</p>
</li>
<li>
<p>The client <a href="#participation">disconnected</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>invalidParticipation</code></p>
</div>
</div>
<div class="sect3">
<h4 id="err-nodeAlreadyExists">5.3.2. Node already exists</h4>
<div class="paragraph">
<p>Client tries to create a node with an id that already exists.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>nodeAlreadyExists</code></p>
</div>
</div>
<div class="sect3">
<h4 id="err-unknownNode">5.3.3. Unknown node</h4>
<div class="paragraph">
<p>Client tries to operate on a node unknown to the repository.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>unknownNode</code></p>
</div>
</div>
<div class="sect3">
<h4 id="err-unknownIndex">5.3.4. Unknown index</h4>
<div class="paragraph">
<p>Client tries to operate on an index beyond the number of existing elements.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>unknownIndex</code></p>
</div>
</div>
<div class="sect3">
<h4 id="err-indexEntryMismatch">5.3.5. Entry at index is not the given entry</h4>
<div class="paragraph">
<p>Client provided an entry (either a node or a target/resolveInfo) and an index, but the entry is not at the given index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>indexNodeMismatch</code></p>
</div>
</div>
<div class="sect3">
<h4 id="err-moveWithoutParent">5.3.6. Move without parent</h4>
<div class="paragraph">
<p>Client tries to move a node that doesn&#8217;t have a parent.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>moveWithoutParent</code></p>
</div>
</div>
<div class="sect3">
<h4 id="err-invalidMove">5.3.7. Invalid move</h4>
<div class="paragraph">
<p>Client tries to move a node incompatible with the emitted command.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>invalidMove</code></p>
</div>
</div>
<div class="sect3">
<h4 id="err-undefinedReferenceTarget">5.3.8. Undefined reference target</h4>
<div class="paragraph">
<p>Client tries to set a reference with neither <code>target</code> nor <code>resolveInfo</code></p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>undefinedReferenceTarget</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="queries">5.4. Queries</h3>
<div class="sect3">
<h4 id="_special_responses">5.4.1. Special responses</h4>
<div class="sect4">
<h5 id="qry-ErrorResponse">5.4.1.1. Error response</h5>
<div class="paragraph">
<p>Any query might return with error parameters instead of its declared response parameters.<sup class="footnote" id="_footnote_org405">[<a id="_footnoteref_34" class="footnote" href="#_footnotedef_34" title="View footnote.">34</a>]</sup></p>
</div>
<div class="paragraph">
<p>See also <a href="#evnt-ErrorEvent">ErrorEvent</a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ErrorResponse</code></p>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ErrorResponse.errorCode"></a>errorCode
</td>
<td class="hdlist2">
<p><code>String</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ErrorResponse.message"></a>message
</td>
<td class="hdlist2">
<p><code>String</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ErrorResponse.queryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of the related query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ErrorResponse.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="qry-ChunkedQueryResponse">5.4.1.2. Chunked query response</h5>
<div class="paragraph">
<p>A <a href="#continuedChunk">continued chunk</a> for a <a href="#splittableMessage">splittable</a> response of one of the following queries:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#qry-SubscribeToPartitionContents">Subscribe to partition contents</a> response <a href="#SubscribeToPartitionContents.contents"><code>contents</code></a></p>
</li>
<li>
<p><a href="#qry-ListPartitions">List partitions</a> response <a href="#ListPartitions.partitions"><code>partitions</code></a></p>
</li>
<li>
<p><a href="#qry-ListAndSubscribePartitions">List and subscribe partitions</a> response <a href="#ListAndSubscribePartitions.partitions"><code>partitions</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChunkedQueryResponse</code></p>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChunkedQueryResponse.chunk"></a>chunk
</td>
<td class="hdlist2">
<p><a href="#unconstrainedChunkType">SerializationChunk</a>
The continued chunk.
The combination of all continued chunks MUST adhere to the same constraints as the related <a href="#splittableMessage">splittable message</a>'s chunk.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedQueryResponse.continuedChunkCompleted"></a>continuedChunkCompleted
</td>
<td class="hdlist2">
<p><a href="#continuedChunkCompletedFlagType">ContinuedChunkCompletedFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedQueryResponse.continuedChunkSequenceNumber"></a>continuedChunkSequenceNumber
</td>
<td class="hdlist2">
<p><a href="#continuedChunkSequenceNumberType">ContinuedChunkSequenceNumber</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedQueryResponse.queryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of the related <a href="#splittableMessage">splittable query</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedQueryResponse.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cmd-subscription">5.4.2. Subscription</h4>
<div class="sect4">
<h5 id="qry-SubscribeToChangingPartitions">5.4.2.1. Subscribe to partition changes</h5>
<div class="paragraph">
<p>This client wants to receive <a href="#evnt-PartitionAdded">Partition added</a> events on newly created (if <a href="#SubscribeToChangingPartitions.creation"><code>creation</code></a> is true)
or <a href="#evnt-PartitionDeleted">Partition deleted</a> events on deleted (if <a href="#SubscribeToChangingPartitions.deletion"><code>deletion</code></a> is true) partitions.
The client automatically subscribes to newly created partitions (if <a href="#SubscribeToChangingPartitions.creation"><code>creation</code></a> is true), and receives the full contents of partitions.</p>
</div>
<div class="paragraph">
<p>See also <a href="#qry-InformAboutChangingPartitions">Inform about partition changes</a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>SubscribeToChangingPartitions</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="SubscribeToChangingPartitions.creation"></a>creation
</td>
<td class="hdlist2">
<p><a href="#booleanType">boolean</a>
Whether this client wants to receive events on newly created partitions (<code>true</code>), or not (<code>false</code>).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToChangingPartitions.deletion"></a>deletion
</td>
<td class="hdlist2">
<p><a href="#booleanType">boolean</a>
Whether this client wants to receive events on deleted partitions (<code>true</code>), or not (<code>false</code>).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToChangingPartitions.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToChangingPartitions.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="SubscribeToChangingPartitions.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToChangingPartitions.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
<li>
<p>Client already requested <a href="#qry-InformAboutChangingPartitions">Inform about partition changes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="qry-InformAboutChangingPartitions">5.4.2.2. Inform about partition changes</h5>
<div class="paragraph">
<p>This client wants to receive <a href="#evnt-PartitionAdded">Partition added</a> events on newly created (if <a href="#InformAboutChangingPartitions.creation"><code>creation</code></a> is true)
or <a href="#evnt-PartitionDeleted">Partition deleted</a> events on deleted (if <a href="#InformAboutChangingPartitions.deletion"><code>deletion</code></a> is true) partitions.
The client receives partitions contents up to <a href="#InformAboutChangingPartitions.depthLimit"><code>depthLimit</code></a>.
The client <em>does not</em> subscribe to newly created partitions.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup></p>
</div>
<div class="paragraph">
<p>See also <a href="#qry-SubscribeToChangingPartitions">Subscribe to partition changes</a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>InformAboutChangingPartitions</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="InformAboutChangingPartitions.creation"></a>creation
</td>
<td class="hdlist2">
<p><a href="#booleanType">boolean</a>
Whether this client wants to receive events on newly created partitions (<code>true</code>), or not (<code>false</code>).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="InformAboutChangingPartitions.deletion"></a>deletion
</td>
<td class="hdlist2">
<p><a href="#booleanType">boolean</a>
Whether this client wants to receive events on deleted partitions (<code>true</code>), or not (<code>false</code>).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="InformAboutChangingPartitions.depthLimit"></a>depthLimit
</td>
<td class="hdlist2">
<p><a href="#depthLimitType">depth limit</a>
Depth of <a href="#evnt-PartitionAdded">Partition added</a>.<a href="#PartitionAdded.newPartition"><code>newPartition</code></a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="InformAboutChangingPartitions.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="InformAboutChangingPartitions.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="InformAboutChangingPartitions.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="InformAboutChangingPartitions.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
<li>
<p>Client already requested <a href="#qry-SubscribeToChangingPartitions">Subscribe to partition changes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="qry-SubscribeToPartitionContents">5.4.2.3. Subscribe to partition contents</h5>
<div class="paragraph">
<p>This client wants to receive events on any changes to <a href="#SubscribeToPartitionContents.partition"><code>partition</code></a> or any of its descendants.<sup class="footnote" id="_footnote_org270">[<a id="_footnoteref_35" class="footnote" href="#_footnotedef_35" title="View footnote.">35</a>]</sup><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_21" title="View footnote.">21</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>SubscribeToPartitionContents</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="SubscribeToPartitionContents.partition"></a>partition
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>
Node id of the partition this client wants to receive events of.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToPartitionContents.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToPartitionContents.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="SubscribeToPartitionContents.contents"></a>contents
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Complete contents of <a href="#SubscribeToPartitionContents.partition"><code>partition</code></a>, i.e. the node with id <a href="#SubscribeToPartitionContents.partition"><code>partition</code></a> and all of its descendants (including annotation instances).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToPartitionContents.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToPartitionContents.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SubscribeToPartitionContents.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p>already subscribed to <a href="#SubscribeToPartitionContents.partition"><code>partition</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="qry-UnsubscribeFromPartitionContents">5.4.2.4. Unsubscribe from partition contents</h5>
<div class="paragraph">
<p>This client does not want to receive events on any changes to <a href="#UnsubscribeFromPartitionContents.partition"><code>partition</code></a> or any of its descendants anymore.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_35" title="View footnote.">35</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>UnsubscribeFromPartitionContents</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="UnsubscribeFromPartitionContents.partition"></a>partition
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>
Node id of the partition this client wants to stop receiving events of.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="UnsubscribeFromPartitionContents.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="UnsubscribeFromPartitionContents.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="UnsubscribeFromPartitionContents.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="UnsubscribeFromPartitionContents.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p>not subscribed to <a href="#UnsubscribeFromPartitionContents.partition"><code>partition</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="qry-participation">5.4.3. Participation</h4>
<div class="paragraph">
<p>Even though participation handling does not relate to repository contents, we consider them queries.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>.</p>
</div>
<div class="sect4">
<h5 id="qry-SignOn">5.4.3.1. Sign On (start a participation)</h5>
<div class="paragraph">
<p>The <a href="#client">client</a> starts a <a href="#participation">participation</a> for a specific <a href="#repository">repository</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
signing on is not the same as logging in: The latter includes some authentication/authorization check, which is out of scope of this specification.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>SignOn</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="SignOn.deltaProtocolVersion"></a>deltaProtocolVersion
</td>
<td class="hdlist2">
<p><a href="#deltaProtocolVersionType">DeltaProtocolVersion</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SignOn.clientId"></a>clientId
</td>
<td class="hdlist2">
<p><a href="#clientIdType">clientId</a>
Id of the client signing on.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SignOn.repositoryId"></a>repositoryId
</td>
<td class="hdlist2">
<p><a href="#repositoryIdType">RepositoryId</a>
Id of the repository to which the client wants to establish a participation.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SignOn.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SignOn.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="SignOn.participationId"></a>participationId
</td>
<td class="hdlist2">
<p><a href="#participationIdType">ParticipationId</a>
the repository assigns to this participation.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SignOn.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SignOn.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p>Unsupported delta protocol version</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="qry-SignOff">5.4.3.2. Sign Off (end a participation)</h5>
<div class="paragraph">
<p>The <a href="#client">client</a> ends a <a href="#participation">participation</a>.<sup class="footnote" id="_footnote_org344">[<a id="_footnoteref_36" class="footnote" href="#_footnotedef_36" title="View footnote.">36</a>]</sup></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
signing off is not the same as logging off: The latter includes some authentication/authorization invalidation, which is out of scope of this specification.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>SignOff</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="SignOff.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SignOff.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="SignOff.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="SignOff.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="qry-Reconnect">5.4.3.3. Reconnect (resume an existing participation)</h5>
<div class="paragraph">
<p>The <a href="#client">client</a> has been technically disconnected, but still knows its <a href="#participation-id">participation id</a>.
Then the client can ask to reconnect to the repository.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_19" title="View footnote.">19</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>Reconnect</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="Reconnect.participationId"></a>participationId
</td>
<td class="hdlist2">
<p><a href="#participationIdType">ParticipationId</a>
The previously used <a href="#participation-id">participation id</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Reconnect.lastReceivedSequenceNumber"></a>lastReceivedSequenceNumber
</td>
<td class="hdlist2">
<p><a href="#eventSequenceType">EventSequenceNumber</a>
Last <a href="#event-sequence-number">event sequence number</a> received by the client.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Reconnect.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Reconnect.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="Reconnect.lastSentSequenceNumber"></a>lastSentSequenceNumber
</td>
<td class="hdlist2">
<p><a href="#eventSequenceType">EventSequenceNumber</a>
Last <a href="#event-sequence-number">event sequence number</a> sent by the repository.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Reconnect.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Reconnect.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a> If the participation is not valid.<sup class="footnote" id="_footnote_org354">[<a id="_footnoteref_37" class="footnote" href="#_footnotedef_37" title="View footnote.">37</a>]</sup></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="qry-misc">5.4.4. Miscellaneous</h4>
<div class="sect4">
<h5 id="qry-GetAvailableIds">5.4.4.1. Get available ids</h5>
<div class="paragraph">
<p>Request <a href="#GetAvailableIds.count"><code>count</code></a> number of unused <a href="../metametamodel/metametamodel.html#node-id">valid ids</a>.</p>
</div>
<div class="paragraph">
<p>Same functionality as <a href="../bulk/repo-access-api.html#ids">bulk API ids command</a>.</p>
</div>
<div class="paragraph">
<p>We don&#8217;t assume leases, i.e. ids handed out to one client are "owned" by that client forever.
We identify the client by its <a href="#clientIdType">clientId</a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>GetAvailableIds</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="GetAvailableIds.count"></a>count
</td>
<td class="hdlist2">
<p><a href="#integerType">integer type</a>
Number of ids requested.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="GetAvailableIds.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="GetAvailableIds.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="GetAvailableIds.ids"></a>ids
</td>
<td class="hdlist2">
<p><a href="#freeIdType">FreeId</a>[]
List of ids guaranteed to be free.
The repository MUST return between one (inclusive) and <a href="#GetAvailableIds.count"><code>count</code></a> (inclusive) ids.
It MAY return less than <a href="#GetAvailableIds.count"><code>count</code></a> ids.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="GetAvailableIds.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="GetAvailableIds.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="qry-ListPartitions">5.4.4.2. List partitions</h5>
<div class="paragraph">
<p>Lists all non-language partitions accessible in the repository.<sup class="footnote" id="_footnote_org361">[<a id="_footnoteref_38" class="footnote" href="#_footnotedef_38" title="View footnote.">38</a>]</sup></p>
</div>
<div class="paragraph">
<p>Same functionality as <a href="../bulk/repo-access-api.html#listPartitions">bulk API listPartitions command</a>.</p>
</div>
<div class="paragraph">
<p>See also <a href="#qry-ListAndSubscribePartitions">List and subscribe partitions</a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ListPartitions</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ListPartitions.depthLimit"></a>depthLimit
</td>
<td class="hdlist2">
<p><a href="#depthLimitType">depth limit</a>
Depth of <a href="#ListPartitions.partitions"><code>partitions</code></a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListPartitions.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListPartitions.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ListPartitions.partitions"></a>partitions
</td>
<td class="hdlist2">
<p><a href="#shallowChunkType">shallow chunk</a>
All accessible <a href="../metametamodel/metametamodel.html#partition">Partitions</a> in the Repository up to <a href="#ListPartitions.depthLimit"><code>depthLimit</code></a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListPartitions.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListPartitions.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListPartitions.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="qry-ListAndSubscribePartitions">5.4.4.3. List and subscribe partitions</h5>
<div class="paragraph">
<p>Lists all non-language partitions accessible in the repository, and subscribes the client to all of them.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_38" title="View footnote.">38</a>]</sup>
The client receives the full contents of all listed partitions.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup></p>
</div>
<div class="paragraph">
<p>See also <a href="#qry-ListPartitions">List partitions</a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ListAndSubscribePartitions</code></p>
</div>
<div class="hdlist">
<div class="title">Request parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ListAndSubscribePartitions.requestQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListAndSubscribePartitions.requestAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<div class="title">Response parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ListAndSubscribePartitions.partitions"></a>partitions
</td>
<td class="hdlist2">
<p><a href="#multiChunkType">multi chunk</a>
All accessible <a href="../metametamodel/metametamodel.html#partition">Partitions</a> in the Repository.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListAndSubscribePartitions.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListAndSubscribePartitions.responseQueryId"></a>queryId
</td>
<td class="hdlist2">
<p><a href="#queryIdType">QueryId</a>
Id of this query.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ListAndSubscribePartitions.responseAdditionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="command-event-overview">5.5. Command&#8201;&#8212;&#8201;event pairs overview</h3>
<div class="imageblock">
<div class="content">
<img src="legend.svg" alt="legend" width="922" height="1645">
</div>
<div class="title">Diagram legend</div>
</div>
<div class="sect3">
<h4 id="_partitions">5.5.1. Partitions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command / Event / Description</th>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-AddPartition">Add partition</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-PartitionAdded">Partition added</a></p>
</div>
<div class="paragraph">
<p>Add <code>newPartition</code> node as new partition.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>nothing</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addPartition.svg" alt="addPartition" width="187" height="118">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-DeletePartition">Delete partition</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-PartitionDeleted">Partition deleted</a></p>
</div>
<div class="paragraph">
<p>Delete partition <code>deletedPartition</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deletePartition.svg" alt="deletePartition" width="142" height="225">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>nothing</em></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_nodes">5.5.2. Nodes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command / Event / Description</th>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-ChangeClassifier">Change classifier</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ClassifierChanged">Classifier changed</a></p>
</div>
<div class="paragraph">
<p>Change classifier of <code>node</code> from <code>oldClassifier</code> to <code>newClassifier</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeClassifier-before.svg" alt="changeClassifier before" width="151" height="47">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeClassifier-after.svg" alt="changeClassifier after" width="159" height="47">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_properties">5.5.3. Properties</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command / Event / Description</th>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-AddProperty">Add property</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-PropertyAdded">Property added</a></p>
</div>
<div class="paragraph">
<p>Add <code>newValue</code> as value of property <code>property</code> to <code>node</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addProperty-before.svg" alt="addProperty before" width="61" height="47">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addProperty-after.svg" alt="addProperty after" width="182" height="71">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-DeleteProperty">Delete property</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-PropertyDeleted">Property deleted</a></p>
</div>
<div class="paragraph">
<p>Delete existing <code>property</code> with <code>oldValue</code> from <code>node</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteProperty-before.svg" alt="deleteProperty before" width="174" height="71">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteProperty-after.svg" alt="deleteProperty after" width="61" height="47">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-ChangeProperty">Change property</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-PropertyChanged">Property changed</a></p>
</div>
<div class="paragraph">
<p>Change existing <code>property</code> of <code>node</code> from <code>oldValue</code> to <code>newValue</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeProperty-before.svg" alt="changeProperty before" width="174" height="71">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeProperty-after.svg" alt="changeProperty after" width="182" height="71">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_children">5.5.4. Children</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command / Event / Description</th>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-AddChild">Add child</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildAdded">Child added</a></p>
</div>
<div class="paragraph">
<p>Add new node <code>newChild</code> to <code>parent</code> in <code>containment</code> at <code>index</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addChild-before.svg" alt="addChild before" width="361" height="173">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addChild-after.svg" alt="addChild after" width="384" height="269">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-DeleteChild">Delete child</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildDeleted">Child deleted</a></p>
</div>
<div class="paragraph">
<p>Delete existing node <code>deletedChild</code> from <code>parent</code>'s <code>containment</code> at <code>index</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteChild-before.svg" alt="deleteChild before" width="361" height="261">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteChild-after.svg" alt="deleteChild after" width="361" height="173">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-ReplaceChild">Replace child</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildReplaced">Child replaced</a></p>
</div>
<div class="paragraph">
<p>Replace existing node <code>replacedChild</code> inside <code>parent</code>'s <code>containment</code> at <code>index</code> with new node <code>newChild</code>.
Delete <code>replacedChild</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="replaceChild-before.svg" alt="replaceChild before" width="361" height="261">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="replaceChild-after.svg" alt="replaceChild after" width="384" height="269">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveChildFromOtherContainment">Move child from other containment</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildMovedFromOtherContainment">Child moved from other containment</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedChild</code> (currently inside <code>oldParent</code>'s <code>oldContainment</code> at <code>oldIndex</code>)
inside <code>newParent</code>'s <code>newContainment</code> at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildFromOtherContainment-before.svg" alt="moveChildFromOtherContainment before" width="390" height="545">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildFromOtherContainment-after.svg" alt="moveChildFromOtherContainment after" width="399" height="545">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveChildFromOtherContainmentInSameParent">Move child from other containment in same parent</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildMovedFromOtherContainmentInSameParent">Child moved from other containment in same parent</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedChild</code> (currently inside <code>parent</code>'s <code>oldContainment</code> at <code>oldIndex</code>)
inside <code>parent</code>'s <code>newContainment</code> at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildFromOtherContainmentInSameParent-before.svg" alt="moveChildFromOtherContainmentInSameParent before" width="390" height="458">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildFromOtherContainmentInSameParent-after.svg" alt="moveChildFromOtherContainmentInSameParent after" width="397" height="458">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveChildInSameContainment">Move child in same containment</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildMovedInSameContainment">Child moved in same containment</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedChild</code> (currently inside <code>parent</code>'s <code>containment</code> at <code>oldIndex</code>)
inside <code>parent</code>'s <code>containment</code> at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildInSameContainment-before.svg" alt="moveChildInSameContainment before" width="310" height="296">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildInSameContainment-after.svg" alt="moveChildInSameContainment after" width="317" height="299">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveAndReplaceChildFromOtherContainment">Move child from other containment and replace existing child</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildMovedAndReplacedFromOtherContainment">Child moved from other containment and replaced existing child</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedChild</code> (currently inside <code>oldParent</code>'s <code>oldContainment</code> at <code>oldIndex</code>)
inside <code>newParent</code>'s <code>newContainment</code> at <code>newIndex</code>, replacing <code>replacedChild</code> that was previously inside <code>newParent</code>'s <code>newContainment</code> at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildFromOtherContainment-before.svg" alt="moveAndReplaceChildFromOtherContainment before" width="397" height="649">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildFromOtherContainment-after.svg" alt="moveAndReplaceChildFromOtherContainment after" width="399" height="545">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveAndReplaceChildFromOtherContainmentInSameParent">Move child from other containment in same parent and replace existing child</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildMovedAndReplacedFromOtherContainmentInSameParent">Child moved from other containment in same parent and replaced existing child</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedChild</code> (currently inside <code>parent</code>'s <code>oldContainment</code> at <code>oldIndex</code>)
inside <code>parent</code>'s <code>newContainment</code> at <code>newIndex</code>, replacing <code>replacedChild</code> that was previously inside <code>parent</code>'s <code>newContainment</code> at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildFromOtherContainmentInSameParent-before.svg" alt="moveAndReplaceChildFromOtherContainmentInSameParent before" width="397" height="561">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildFromOtherContainmentInSameParent-after.svg" alt="moveAndReplaceChildFromOtherContainmentInSameParent after" width="397" height="458">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveAndReplaceChildInSameContainment">Move child in same containment and replace existing child</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ChildMovedAndReplacedInSameContainment">Child moved in same containment and replaced existing child</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedChild</code> (currently inside <code>parent</code>'s <code>containment</code> at <code>oldIndex</code>)
inside <code>parent</code>'s <code>containment</code> at <code>newIndex</code>, replacing <code>replacedChild</code> that was previously inside <code>parent</code>'s <code>containment</code> at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildInSameContainment-before.svg" alt="moveAndReplaceChildInSameContainment before" width="330" height="432">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildInSameContainment-after.svg" alt="moveAndReplaceChildInSameContainment after" width="317" height="299">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_annotations">5.5.5. Annotations</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command / Event / Description</th>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-AddAnnotation">Add annotation</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-AnnotationAdded">Annotation added</a></p>
</div>
<div class="paragraph">
<p>Add new node <code>newAnnotation</code> to <code>parent</code>'s annotations at <code>index</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addAnnotation-before.svg" alt="addAnnotation before" width="394" height="173">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addAnnotation-after.svg" alt="addAnnotation after" width="392" height="285">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-DeleteAnnotation">Delete annotation</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-AnnotationDeleted">Annotation deleted</a></p>
</div>
<div class="paragraph">
<p>Delete existing node <code>deletedAnnotation</code> from <code>parent</code>'s annotations at <code>index</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteAnnotation-before.svg" alt="deleteAnnotation before" width="394" height="261">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteAnnotation-after.svg" alt="deleteAnnotation after" width="394" height="173">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-ReplaceAnnotation">Replace annotation</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-AnnotationReplaced">Annotation replaced</a></p>
</div>
<div class="paragraph">
<p>Replace existing node <code>replacedAnnotation</code> inside <code>parent</code>'s annotations at <code>index</code> with new node <code>newAnnotation</code>.
Delete <code>replacedAnnotation</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="replaceAnnotation-before.svg" alt="replaceAnnotation before" width="394" height="261">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="replaceAnnotation-after.svg" alt="replaceAnnotation after" width="392" height="285">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveAnnotationFromOtherParent">Move annotation from other parent</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-AnnotationMovedFromOtherParent">Annotation moved from other parent</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedAnnotation</code> (currently inside <code>oldParent</code>'s annotations at <code>oldIndex</code>)
inside <code>newParent</code>'s annotations at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAnnotationFromOtherParent-before.svg" alt="moveAnnotationFromOtherParent before" width="395" height="515">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAnnotationFromOtherParent-after.svg" alt="moveAnnotationFromOtherParent after" width="416" height="515">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveAnnotationInSameParent">Move annotation in same parent</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-AnnotationMovedInSameParent">Annotation moved in same parent</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedAnnotation</code> (currently inside <code>parent</code>'s annotations at <code>oldIndex</code>)
inside <code>parent</code>'s annotations at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAnnotationInSameParent-before.svg" alt="moveAnnotationInSameParent before" width="309" height="308">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAnnotationInSameParent-after.svg" alt="moveAnnotationInSameParent after" width="316" height="315">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveAndReplaceAnnotationFromOtherParent">Move annotation from other parent and replace existing annotation</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-AnnotationMovedAndReplacedFromOtherParent">Annotation moved from other parent and replaced existing annotation</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedAnnotation</code> (currently inside <code>oldParent</code>'s annotations at <code>oldIndex</code>)
inside <code>newParent</code>'s annotations at <code>newIndex</code>, replacing <code>replacedAnnotation</code> that was previously inside <code>newParent</code>'s annotations at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceAnnotationFromOtherParent-before.svg" alt="moveAndReplaceAnnotationFromOtherParent before" width="402" height="619">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceAnnotationFromOtherParent-after.svg" alt="moveAndReplaceAnnotationFromOtherParent after" width="416" height="515">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-MoveAndReplaceAnnotationInSameParent">Move annotation in same parent and replace existing annotation</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-AnnotationMovedAndReplacedInSameParent">Annotation moved in same parent and replaced existing annotation</a></p>
</div>
<div class="paragraph">
<p>Move existing node <code>movedAnnotation</code> (currently inside <code>parent</code>'s annotations at <code>oldIndex</code>)
inside <code>parent</code>'s annotations at <code>newIndex</code>, replacing <code>replacedAnnotation</code> that was previously inside <code>parent</code>'s annotations at <code>newIndex</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceAnnotationInSameParent-before.svg" alt="moveAndReplaceAnnotationInSameParent before" width="371" height="440">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceAnnotationInSameParent-after.svg" alt="moveAndReplaceAnnotationInSameParent after" width="316" height="315">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_references">5.5.6. References</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command / Event / Description</th>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-AddReference">Add reference</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ReferenceAdded">Reference added</a></p>
</div>
<div class="paragraph">
<p>Add <code>newTarget</code> / <code>newResolveInfo</code> to <code>parent</code>'s <code>reference</code> at <code>index</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addReference-before.svg" alt="addReference before" width="305" height="173">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addReference-after.svg" alt="addReference after" width="347" height="203">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-DeleteReference">Delete reference</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ReferenceDeleted">Reference deleted</a></p>
</div>
<div class="paragraph">
<p>Delete existing <code>deletedTarget</code>/<code>deletedResolveInfo</code> from <code>parent</code>'s <code>reference</code> at <code>index</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteReference-before.svg" alt="deleteReference before" width="347" height="203">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteReference-after.svg" alt="deleteReference after" width="347" height="203">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#cmd-ChangeReference">Change reference</a></p>
</div>
<div class="paragraph">
<p><a href="#evnt-ReferenceChanged">Reference changed</a></p>
</div>
<div class="paragraph">
<p>Replace existing <code>replacedTarget</code>/<code>replacedResolveInfo</code>  inside <code>parent</code>'s <code>reference</code> at <code>index</code> with <code>newTarget</code>/<code>newResolveInfo</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeReference-before.svg" alt="changeReference before" width="278" height="337">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeReference-after.svg" alt="changeReference after" width="278" height="337">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="commands">5.6. Commands</h3>
<div class="sect3">
<h4 id="cmd-ChunkedCommand">5.6.1. Chunked Command</h4>
<div class="paragraph">
<p>A <a href="#continuedChunk">continued chunk</a> for one of the following <a href="#splittableMessage">splittable</a> commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cmd-AddPartition">Add partition</a> <a href="#AddPartition.newPartition"><code>newPartition</code></a></p>
</li>
<li>
<p><a href="#cmd-AddChild">Add child</a> <a href="#AddChild.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#cmd-ReplaceChild">Replace child</a> <a href="#ReplaceChild.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#cmd-AddAnnotation">Add annotation</a> <a href="#AddAnnotation.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#cmd-ReplaceAnnotation">Replace annotation</a> <a href="#ReplaceAnnotation.newAnnotation"><code>newAnnotation</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChunkedCommand</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChunkedCommand.chunk"></a>chunk
</td>
<td class="hdlist2">
<p><a href="#unconstrainedChunkType">SerializationChunk</a>
The continued chunk.
The combination of all continued chunks MUST adhere to the same constraints as the related <a href="#splittableMessage">splittable message</a>'s chunk.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedCommand.continuedChunkCompleted"></a>continuedChunkCompleted
</td>
<td class="hdlist2">
<p><a href="#continuedChunkCompletedFlagType">ContinuedChunkCompletedFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedCommand.continuedChunkSequenceNumber"></a>continuedChunkSequenceNumber
</td>
<td class="hdlist2">
<p><a href="#continuedChunkSequenceNumberType">ContinuedChunkSequenceNumber</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedCommand.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a>
Id of the related <a href="#splittableMessage">splittable command</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedCommand.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="cmd-partitions">5.6.2. Partitions</h4>
<div class="sect4">
<h5 id="cmd-AddPartition">5.6.2.1. Add partition</h5>
<div class="paragraph">
<p>Add <a href="#AddPartition.newPartition"><code>newPartition</code></a> node as <a href="#new-nodes">new</a> partition.</p>
</div>
<div class="paragraph">
<p>The client implicitly subscribes to any changes to <a href="#PartitionAdded.newPartition"><code>newPartition</code></a> or any of its descendants.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>nothing</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addPartition.svg" alt="addPartition" width="187" height="118">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AddPartition</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AddPartition.newPartition"></a>newPartition
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree to form a new partition.
The <em>anchor node</em> MUST NOT contain a <em>parent</em> (as this is a partition, thus cannot have a parent).
All nodes in that subtree MUST be <a href="#new-nodes">new nodes</a>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This parameter differs from the <a href="#PartitionAdded.newPartition">corresponding event parameter</a>:
The command&#8217;s parameter contains a whole subtree, whereas the event&#8217;s parameter may contain only the top of the subtree.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddPartition.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddPartition.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a>
Id of this command.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddPartition.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-nodeAlreadyExists">Node already exists</a> for <a href="#AddPartition.newPartition"><code>newPartition</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-PartitionAdded">Partition added</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-DeletePartition">5.6.2.2. Delete partition</h5>
<div class="paragraph">
<p>Delete <a href="#existing-nodes">existing</a> partition <a href="#DeletePartition.deletedPartition"><code>deletedPartition</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnote" id="_footnote_org285">[<a id="_footnoteref_39" class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deletePartition.svg" alt="deletePartition" width="142" height="225">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>nothing</em></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>DeletePartition</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="DeletePartition.deletedPartition"></a>deletedPartition
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeletePartition.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a>
Id of this command.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeletePartition.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#DeletePartition.deletedPartition"><code>deletedPartition</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-PartitionDeleted">Partition deleted</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cmd-nodes">5.6.3. Nodes</h4>
<div class="sect4">
<h5 id="cmd-ChangeClassifier">5.6.3.1. Change classifier</h5>
<div class="paragraph">
<p>Change classifier of <a href="#existing-nodes">existing node</a> <a href="#ChangeClassifier.node"><code>node</code></a> to <a href="#ChangeClassifier.newClassifier"><code>newClassifier</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeClassifier-before.svg" alt="changeClassifier before" width="151" height="47">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeClassifier-after.svg" alt="changeClassifier after" width="159" height="47">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChangeClassifier</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChangeClassifier.node"></a>node
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeClassifier.newClassifier"></a>newClassifier
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeClassifier.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a>
Id of this command.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeClassifier.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#ChangeClassifier.node"><code>node</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ClassifierChanged">Classifier changed</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cmd-properties">5.6.4. Properties</h4>
<div class="sect4">
<h5 id="cmd-AddProperty">5.6.4.1. Add property</h5>
<div class="paragraph">
<p>Add <a href="#AddProperty.newValue"><code>newValue</code></a> as value of property <a href="#AddProperty.property"><code>property</code></a> to <a href="#AddProperty.node"><code>node</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addProperty-before.svg" alt="addProperty before" width="61" height="47">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addProperty-after.svg" alt="addProperty after" width="182" height="71">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AddProperty</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AddProperty.node"></a>node
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddProperty.property"></a>property
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddProperty.newValue"></a>newValue
</td>
<td class="hdlist2">
<p><a href="#propertyValueType">PropertyValue</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddProperty.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddProperty.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#AddProperty.node"><code>node</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#AddProperty.property"><code>property</code></a> already set in <a href="#AddProperty.node"><code>node</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-PropertyAdded">Property added</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-DeleteProperty">5.6.4.2. Delete property</h5>
<div class="paragraph">
<p>Delete existing <a href="#DeleteProperty.property"><code>property</code></a> from <a href="#DeleteProperty.node"><code>node</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteProperty-before.svg" alt="deleteProperty before" width="174" height="71">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteProperty-after.svg" alt="deleteProperty after" width="61" height="47">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>DeleteProperty</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="DeleteProperty.node"></a>node
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteProperty.property"></a>property
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteProperty.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteProperty.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#DeleteProperty.node"><code>node</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#DeleteProperty.property"><code>property</code></a> is not set in <a href="#DeleteProperty.node"><code>node</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-PropertyDeleted">Property deleted</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-ChangeProperty">5.6.4.3. Change property</h5>
<div class="paragraph">
<p>Change existing <a href="#ChangeProperty.property"><code>property</code></a> of <a href="#ChangeProperty.node"><code>node</code></a> to <a href="#ChangeProperty.newValue"><code>newValue</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeProperty-before.svg" alt="changeProperty before" width="174" height="71">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeProperty-after.svg" alt="changeProperty after" width="182" height="71">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChangeProperty</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChangeProperty.node"></a>node
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeProperty.property"></a>property
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeProperty.newValue"></a>newValue
</td>
<td class="hdlist2">
<p><a href="#propertyValueType">PropertyValue</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeProperty.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeProperty.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#ChangeProperty.node"><code>node</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#ChangeProperty.property"><code>property</code></a> is not set in <a href="#ChangeProperty.node"><code>node</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#ChangeProperty.property"><code>property</code></a> already has <a href="#ChangeProperty.newValue"><code>newValue</code></a> in <a href="#ChangeProperty.node"><code>node</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-PropertyChanged">Property changed</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cmd-children">5.6.5. Children</h4>
<div class="sect4">
<h5 id="cmd-AddChild">5.6.5.1. Add child</h5>
<div class="paragraph">
<p>Add <a href="#new-nodes">new node</a> <a href="#AddChild.newChild"><code>newChild</code></a> to <a href="#AddChild.parent"><code>parent</code></a> in <a href="#AddChild.containment"><code>containment</code></a> at <a href="#AddChild.index"><code>index</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addChild-before.svg" alt="addChild before" width="361" height="173">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addChild-after.svg" alt="addChild after" width="384" height="269">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AddChild</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AddChild.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddChild.newChild"></a>newChild
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree to form a new child.
The <em>anchor node</em> MUST contain the <a href="#AddChild.parent"><code>parent</code></a> as <em>parent</em>.<sup class="footnote" id="_footnote_org357">[<a id="_footnoteref_40" class="footnote" href="#_footnotedef_40" title="View footnote.">40</a>]</sup>
All nodes in that subtree MUST be <a href="#new-nodes">new nodes</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddChild.containment"></a>containment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddChild.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddChild.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddChild.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddChild.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#AddChild.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#err-nodeAlreadyExists">Node already exists</a> for <a href="#AddChild.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#AddChild.index"><code>index</code></a> (is beyond the number of <a href="#AddChild.containment"><code>containment</code></a> entries in <a href="#AddChild.parent"><code>parent</code></a>)</p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildAdded">Child added</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-DeleteChild">5.6.5.2. Delete child</h5>
<div class="paragraph">
<p>Delete <a href="#existing-nodes">existing node</a> <a href="#DeleteChild.deletedChild"><code>deletedChild</code></a><sup class="footnote" id="_footnote_org371">[<a id="_footnoteref_41" class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> from <a href="#DeleteChild.parent"><code>parent</code></a>'s <a href="#DeleteChild.containment"><code>containment</code></a> at <a href="#DeleteChild.index"><code>index</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteChild-before.svg" alt="deleteChild before" width="361" height="261">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteChild-after.svg" alt="deleteChild after" width="361" height="173">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>DeleteChild</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="DeleteChild.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteChild.containment"></a>containment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteChild.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteChild.deletedChild"></a>deletedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteChild.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteChild.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#DeleteChild.parent"><code>parent</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#DeleteChild.index"><code>index</code></a> is beyond (the number of <a href="#DeleteChild.containment"><code>containment</code></a> entries in <a href="#DeleteChild.parent"><code>parent</code></a>) - 1</p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#DeleteChild.containment"><code>containment</code></a>/<a href="#DeleteChild.index"><code>index</code></a> and <a href="#DeleteChild.deletedChild"><code>deletedChild</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildDeleted">Child deleted</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-ReplaceChild">5.6.5.3. Replace child</h5>
<div class="paragraph">
<p>Delete <a href="#existing-nodes">current child</a> <a href="#ReplaceChild.replacedChild"><code>replacedChild</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> inside <a href="#ReplaceChild.parent"><code>parent</code></a>'s <a href="#ReplaceChild.containment"><code>containment</code></a> at <a href="#ReplaceChild.index"><code>index</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<div class="paragraph">
<p>Replace <a href="#existing-nodes">existing node</a> <a href="#ReplaceChild.replacedChild"><code>replacedChild</code></a> inside <a href="#ReplaceChild.parent"><code>parent</code></a>'s <a href="#ReplaceChild.containment"><code>containment</code></a> at <a href="#ReplaceChild.index"><code>index</code></a> with <a href="#new-nodes">new</a> or <a href="#reused-nodes">reused</a> node <a href="#ReplaceChild.newChild"><code>newChild</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="replaceChild-before.svg" alt="replaceChild before" width="361" height="261">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="replaceChild-after.svg" alt="replaceChild after" width="384" height="269">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ReplaceChild</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ReplaceChild.newChild"></a>newChild
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree to form a new child.
The <em>anchor node</em> MUST contain the <a href="#ReplaceChild.parent"><code>parent</code></a> as <em>parent</em>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_40" title="View footnote.">40</a>]</sup>
All nodes in that subtree MUST either be <a href="#new-nodes">new nodes</a> or <a href="#reused-nodes">reused nodes</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceChild.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceChild.containment"></a>containment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceChild.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceChild.replacedChild"></a>replacedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceChild.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceChild.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceChild.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-nodeAlreadyExists">Node already exists</a> for <a href="#ReplaceChild.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#ReplaceChild.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#ReplaceChild.containment"><code>containment</code></a>/<a href="#ReplaceChild.index"><code>index</code></a> and <a href="#ReplaceChild.replacedChild"><code>replacedChild</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#ReplaceChild.index"><code>index</code></a> is beyond (the number of <a href="#ReplaceChild.containment"><code>containment</code></a> entries in <a href="#ReplaceChild.parent"><code>parent</code></a>) - 1</p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildReplaced">Child replaced</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveChildFromOtherContainment">5.6.5.4. Move child from other containment</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveChildFromOtherContainment.movedChild"><code>movedChild</code></a> inside <a href="#MoveChildFromOtherContainment.newParent"><code>newParent</code></a>'s <a href="#MoveChildFromOtherContainment.newContainment"><code>newContainment</code></a> at <a href="#MoveChildFromOtherContainment.newIndex"><code>newIndex</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildFromOtherContainment-before.svg" alt="moveChildFromOtherContainment before" width="390" height="545">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildFromOtherContainment-after.svg" alt="moveChildFromOtherContainment after" width="399" height="545">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveChildFromOtherContainment</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainment.newParent"></a>newParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainment.newContainment"></a>newContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainment.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainment.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainment.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainment.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-nodeAlreadyExists">Node already exists</a> for <a href="#MoveChildFromOtherContainment.newParent"><code>newParent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveChildFromOtherContainment.newIndex"><code>newIndex</code></a> (is beyond the number of <a href="#MoveChildFromOtherContainment.newContainment"><code>newContainment</code></a> entries in <a href="#MoveChildFromOtherContainment.newParent"><code>newParent</code></a>)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveChildFromOtherContainment.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#MoveChildFromOtherContainment.movedChild"><code>movedChild</code></a> is already a child of <a href="#MoveChildFromOtherContainment.newParent"><code>newParent</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildMovedFromOtherContainment">Child moved from other containment</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveChildFromOtherContainmentInSameParent">5.6.5.5. Move child from other containment in same parent</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a> (currently inside one of <a href="#MoveChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a>'s parent&#8217;s containments other than <a href="#MoveChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a>)
inside <a href="#MoveChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a>'s parent&#8217;s <a href="#MoveChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> at <a href="#MoveChildFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildFromOtherContainmentInSameParent-before.svg" alt="moveChildFromOtherContainmentInSameParent before" width="390" height="458">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildFromOtherContainmentInSameParent-after.svg" alt="moveChildFromOtherContainmentInSameParent after" width="397" height="458">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveChildFromOtherContainmentInSameParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainmentInSameParent.newContainment"></a>newContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainmentInSameParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainmentInSameParent.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainmentInSameParent.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildFromOtherContainmentInSameParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveChildFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a> (is beyond the number of <a href="#MoveChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> entries in <a href="#MoveChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a>'s parent)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-moveWithoutParent">Move without parent</a> for <a href="#MoveChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-invalidMove">Invalid move</a> as <a href="#MoveChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a> is already a child inside <a href="#MoveChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildMovedFromOtherContainmentInSameParent">Child moved from other containment in same parent</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveChildInSameContainment">5.6.5.6. Move child in same containment</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveChildInSameContainment.movedChild"><code>movedChild</code></a> within its current containment to <a href="#MoveChildInSameContainment.newIndex"><code>newIndex</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildInSameContainment-before.svg" alt="moveChildInSameContainment before" width="310" height="296">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveChildInSameContainment-after.svg" alt="moveChildInSameContainment after" width="317" height="299">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveChildInSameContainment</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveChildInSameContainment.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildInSameContainment.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildInSameContainment.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveChildInSameContainment.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveChildInSameContainment.newIndex"><code>newIndex</code></a> (is beyond (the number of <a href="#MoveChildInSameContainment.movedChild"><code>movedChild</code></a>'s containment entries in <a href="#MoveChildInSameContainment.movedChild"><code>movedChild</code></a>'s parent) - 1)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveChildInSameContainment.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-moveWithoutParent">Move without parent</a> for <a href="#MoveChildInSameContainment.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-invalidMove">Invalid move</a> as <a href="#MoveChildInSameContainment.movedChild"><code>movedChild</code></a> is already at <a href="#MoveChildInSameContainment.newIndex"><code>newIndex</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildMovedInSameContainment">Child moved in same containment</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveAndReplaceChildFromOtherContainment">5.6.5.7. Move child from other containment and replace existing child</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveAndReplaceChildFromOtherContainment.movedChild"><code>movedChild</code></a> inside <a href="#MoveAndReplaceChildFromOtherContainment.newParent"><code>newParent</code></a>'s <a href="#MoveAndReplaceChildFromOtherContainment.newContainment"><code>newContainment</code></a> at <a href="#MoveAndReplaceChildFromOtherContainment.newIndex"><code>newIndex</code></a>.
Delete <a href="#existing-nodes">current child</a> <a href="#MoveAndReplaceChildFromOtherContainment.replacedChild"><code>replacedChild</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> inside <a href="#MoveAndReplaceChildFromOtherContainment.newParent"><code>newParent</code></a>'s <a href="#MoveAndReplaceChildFromOtherContainment.newContainment"><code>newContainment</code></a> at <a href="#MoveAndReplaceChildFromOtherContainment.newIndex"><code>newIndex</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildFromOtherContainment-before.svg" alt="moveAndReplaceChildFromOtherContainment before" width="397" height="649">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildFromOtherContainment-after.svg" alt="moveAndReplaceChildFromOtherContainment after" width="399" height="545">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveAndReplaceChildFromOtherContainment</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainment.newParent"></a>newParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainment.newContainment"></a>newContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainment.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainment.replacedChild"></a>replacedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainment.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainment.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainment.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAndReplaceChildFromOtherContainment.newParent"><code>newParent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveAndReplaceChildFromOtherContainment.newIndex"><code>newIndex</code></a> (is beyond the number of <a href="#MoveAndReplaceChildFromOtherContainment.newContainment"><code>newContainment</code></a> entries in <a href="#MoveAndReplaceChildFromOtherContainment.newParent"><code>newParent</code></a>)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAndReplaceChildFromOtherContainment.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#MoveAndReplaceChildFromOtherContainment.newContainment"><code>newContainment</code></a>/<a href="#MoveAndReplaceChildFromOtherContainment.newIndex"><code>newIndex</code></a> and <a href="#MoveAndReplaceChildFromOtherContainment.replacedChild"><code>replacedChild</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#MoveAndReplaceChildFromOtherContainment.movedChild"><code>movedChild</code></a> is already a child of <a href="#MoveAndReplaceChildFromOtherContainment.newParent"><code>newParent</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildMovedAndReplacedFromOtherContainment">Child moved from other containment and replaced existing child</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveAndReplaceChildFromOtherContainmentInSameParent">5.6.5.8. Move child from other containment in same parent and replace existing child</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a> (currently inside one of <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a>'s parent&#8217;s containments other than <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a>)
inside <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a>'s parent&#8217;s <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> at <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a>.
Delete <a href="#existing-nodes">current child</a> <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.replacedChild"><code>replacedChild</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> inside <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a>'s parent&#8217;s <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> at <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildFromOtherContainmentInSameParent-before.svg" alt="moveAndReplaceChildFromOtherContainmentInSameParent before" width="397" height="561">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildFromOtherContainmentInSameParent-after.svg" alt="moveAndReplaceChildFromOtherContainmentInSameParent after" width="397" height="458">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveAndReplaceChildFromOtherContainmentInSameParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment"></a>newContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainmentInSameParent.replacedChild"></a>replacedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainmentInSameParent.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildFromOtherContainmentInSameParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a> (is beyond the number of <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> entries in <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a>'s parent)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-moveWithoutParent">Move without parent</a> for <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-invalidMove">Invalid move</a> as <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a> is already a child inside <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a></p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a>/<a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a> and <a href="#MoveAndReplaceChildFromOtherContainmentInSameParent.replacedChild"><code>replacedChild</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildMovedAndReplacedFromOtherContainmentInSameParent">Child moved from other containment in same parent and replaced existing child</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveAndReplaceChildInSameContainment">5.6.5.9. Move child in same containment and replace existing child</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveAndReplaceChildInSameContainment.movedChild"><code>movedChild</code></a> within its current containment to <a href="#MoveAndReplaceChildInSameContainment.newIndex"><code>newIndex</code></a>.
Delete <a href="#existing-nodes">current child</a> <a href="#MoveAndReplaceChildInSameContainment.replacedChild"><code>replacedChild</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> inside the same containment at <a href="#MoveAndReplaceChildInSameContainment.newIndex"><code>newIndex</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildInSameContainment-before.svg" alt="moveAndReplaceChildInSameContainment before" width="330" height="432">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceChildInSameContainment-after.svg" alt="moveAndReplaceChildInSameContainment after" width="317" height="299">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveAndReplaceChildInSameContainment</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildInSameContainment.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildInSameContainment.replacedChild"></a>replacedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildInSameContainment.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildInSameContainment.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceChildInSameContainment.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveAndReplaceChildInSameContainment.newIndex"><code>newIndex</code></a> (is beyond (the number of `<a href="#MoveAndReplaceChildInSameContainment.movedChild"><code>movedChild</code></a>'s containment entries in <a href="#MoveAndReplaceChildInSameContainment.movedChild"><code>movedChild</code></a>'s parent) - 2)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAndReplaceChildInSameContainment.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-moveWithoutParent">Move without parent</a> for <a href="#MoveAndReplaceChildInSameContainment.movedChild"><code>movedChild</code></a></p>
</li>
<li>
<p><a href="#err-invalidMove">Invalid move</a> as <a href="#MoveAndReplaceChildInSameContainment.movedChild"><code>movedChild</code></a> is already at <a href="#MoveAndReplaceChildInSameContainment.newIndex"><code>newIndex</code></a></p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#MoveAndReplaceChildInSameContainment.newIndex"><code>newIndex</code></a> and <a href="#MoveAndReplaceChildInSameContainment.replacedChild"><code>replacedChild</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ChildMovedAndReplacedInSameContainment">Child moved in same containment and replaced existing child</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cmd-annotations">5.6.6. Annotations</h4>
<div class="sect4">
<h5 id="cmd-AddAnnotation">5.6.6.1. Add annotation</h5>
<div class="paragraph">
<p>Add <a href="#new-nodes">new node</a> <a href="#AddAnnotation.newAnnotation"><code>newAnnotation</code></a> to <a href="#AddAnnotation.parent"><code>parent</code></a>'s annotations at <a href="#AddAnnotation.index"><code>index</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addAnnotation-before.svg" alt="addAnnotation before" width="394" height="173">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addAnnotation-after.svg" alt="addAnnotation after" width="392" height="285">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AddAnnotation</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AddAnnotation.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddAnnotation.newAnnotation"></a>newAnnotation
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree to form a new annotation.
The <em>anchor node</em> MUST contain the <a href="#AddAnnotation.parent"><code>parent</code></a> as <em>parent</em>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_40" title="View footnote.">40</a>]</sup>
All nodes in that subtree MUST be <a href="#new-nodes">new nodes</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddAnnotation.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddAnnotation.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddAnnotation.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddAnnotation.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#AddAnnotation.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#err-nodeAlreadyExists">Node already exists</a> for <a href="#AddAnnotation.newAnnotation"><code>newAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#AddAnnotation.index"><code>index</code></a> (is beyond the number of annotations of <a href="#AddAnnotation.parent"><code>parent</code></a>)</p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-AnnotationAdded">Annotation added</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-DeleteAnnotation">5.6.6.2. Delete annotation</h5>
<div class="paragraph">
<p>Delete <a href="#existing-nodes">existing node</a> <a href="#DeleteAnnotation.deletedAnnotation"><code>deletedAnnotation</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> from <a href="#DeleteAnnotation.parent"><code>parent</code></a>'s annotations at <a href="#DeleteAnnotation.index"><code>index</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteAnnotation-before.svg" alt="deleteAnnotation before" width="394" height="261">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteAnnotation-after.svg" alt="deleteAnnotation after" width="394" height="173">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>DeleteAnnotation</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="DeleteAnnotation.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteAnnotation.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteAnnotation.deletedAnnotation"></a>deletedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteAnnotation.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteAnnotation.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#DeleteAnnotation.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#DeleteAnnotation.index"><code>index</code></a> (is beyond (the number of annotations of <a href="#DeleteAnnotation.parent"><code>parent</code></a>) - 1)</p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#DeleteAnnotation.index"><code>index</code></a> and <a href="#DeleteAnnotation.deletedAnnotation"><code>deletedAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-AnnotationDeleted">Annotation deleted</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-ReplaceAnnotation">5.6.6.3. Replace annotation</h5>
<div class="paragraph">
<p>Delete <a href="#existing-nodes">current node</a> <a href="#ReplaceAnnotation.replacedAnnotation"><code>replacedAnnotation</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> at <a href="#ReplaceAnnotation.parent"><code>parent</code></a>'s annotations at <a href="#ReplaceAnnotation.index"><code>index</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<div class="paragraph">
<p>Replace <a href="#existing-nodes">existing node</a> <a href="#ReplaceAnnotation.replacedAnnotation"><code>replacedAnnotation</code></a> inside <a href="#ReplaceAnnotation.parent"><code>parent</code></a>'s annotations at <a href="#ReplaceAnnotation.index"><code>index</code></a> with <a href="#new-nodes">new</a> or <a href="#reused-nodes">reused</a> node <a href="#ReplaceAnnotation.newAnnotation"><code>newAnnotation</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="replaceAnnotation-before.svg" alt="replaceAnnotation before" width="394" height="261">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="replaceAnnotation-after.svg" alt="replaceAnnotation after" width="392" height="285">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ReplaceAnnotation</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ReplaceAnnotation.newAnnotation"></a>newAnnotation
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree to form a new annotation.
The <em>anchor node</em> MUST contain the <a href="#ReplaceAnnotation.parent"><code>parent</code></a> as <em>parent</em>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_40" title="View footnote.">40</a>]</sup>
All nodes in that subtree MUST either be <a href="#new-nodes">new nodes</a> or <a href="#reused-nodes">reused nodes</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceAnnotation.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceAnnotation.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceAnnotation.replacedAnnotation"></a>replacedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceAnnotation.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceAnnotation.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReplaceAnnotation.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-nodeAlreadyExists">Node already exists</a> for <a href="#ReplaceAnnotation.newAnnotation"><code>newAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#ReplaceAnnotation.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#ReplaceAnnotation.index"><code>index</code></a> (is beyond (the number of annotations of <a href="#ReplaceAnnotation.parent"><code>parent</code></a>) - 1)</p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#ReplaceAnnotation.index"><code>index</code></a> and <a href="#ReplaceAnnotation.replacedAnnotation"><code>replacedAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-AnnotationReplaced">Annotation replaced</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveAnnotationFromOtherParent">5.6.6.4. Move annotation from other parent</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveAnnotationFromOtherParent.movedAnnotation"><code>movedAnnotation</code></a> inside <a href="#MoveAnnotationFromOtherParent.newParent"><code>newParent</code></a>'s annotations at <a href="#MoveAnnotationFromOtherParent.newIndex"><code>newIndex</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAnnotationFromOtherParent-before.svg" alt="moveAnnotationFromOtherParent before" width="395" height="515">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAnnotationFromOtherParent-after.svg" alt="moveAnnotationFromOtherParent after" width="416" height="515">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveAnnotationFromOtherParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationFromOtherParent.newParent"></a>newParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationFromOtherParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationFromOtherParent.movedAnnotation"></a>movedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationFromOtherParent.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationFromOtherParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAnnotationFromOtherParent.newParent"><code>newParent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveAnnotationFromOtherParent.newIndex"><code>newIndex</code></a> (is beyond the number of annotations of <a href="#MoveAnnotationFromOtherParent.newParent"><code>newParent</code></a>)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAnnotationFromOtherParent.movedAnnotation"><code>movedAnnotation</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#MoveAnnotationFromOtherParent.movedAnnotation"><code>movedAnnotation</code></a> is already an annotation of <a href="#MoveAnnotationFromOtherParent.newParent"><code>newParent</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-AnnotationMovedFromOtherParent">Annotation moved from other parent</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveAnnotationInSameParent">5.6.6.5. Move annotation in same parent</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a> within the same parent to <a href="#MoveAnnotationInSameParent.newIndex"><code>newIndex</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAnnotationInSameParent-before.svg" alt="moveAnnotationInSameParent before" width="309" height="308">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAnnotationInSameParent-after.svg" alt="moveAnnotationInSameParent after" width="316" height="315">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveAnnotationInSameParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationInSameParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationInSameParent.movedAnnotation"></a>movedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationInSameParent.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAnnotationInSameParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveAnnotationInSameParent.newIndex"><code>newIndex</code></a> (is beyond (the number of annotations of <a href="#MoveAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a>'s parent) - 1)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-moveWithoutParent">Move without parent</a> for <a href="#MoveAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-AnnotationMovedInSameParent">Annotation moved in same parent</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveAndReplaceAnnotationFromOtherParent">5.6.6.6. Move annotation from other parent and replace existing annotation</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveAndReplaceAnnotationFromOtherParent.movedAnnotation"><code>movedAnnotation</code></a> inside <a href="#MoveAndReplaceAnnotationFromOtherParent.newParent"><code>newParent</code></a>'s annotations at <a href="#MoveAndReplaceAnnotationFromOtherParent.newIndex"><code>newIndex</code></a>.
Delete <a href="#existing-nodes">current node</a> <a href="#MoveAndReplaceAnnotationFromOtherParent.replacedAnnotation"><code>replacedAnnotation</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> at <a href="#MoveAndReplaceAnnotationFromOtherParent.newParent"><code>newParent</code></a>'s annotations at <a href="#MoveAndReplaceAnnotationFromOtherParent.newIndex"><code>newIndex</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceAnnotationFromOtherParent-before.svg" alt="moveAndReplaceAnnotationFromOtherParent before" width="402" height="619">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceAnnotationFromOtherParent-after.svg" alt="moveAndReplaceAnnotationFromOtherParent after" width="416" height="515">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveAndReplaceAnnotationFromOtherParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationFromOtherParent.newParent"></a>newParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationFromOtherParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationFromOtherParent.replacedAnnotation"></a>replacedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationFromOtherParent.movedAnnotation"></a>movedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationFromOtherParent.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationFromOtherParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAndReplaceAnnotationFromOtherParent.newParent"><code>newParent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveAndReplaceAnnotationFromOtherParent.newIndex"><code>newIndex</code></a> (is beyond the number of annotations of <a href="#MoveAndReplaceAnnotationFromOtherParent.newParent"><code>newParent</code></a>)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAndReplaceAnnotationFromOtherParent.movedAnnotation"><code>movedAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#MoveAndReplaceAnnotationFromOtherParent.newIndex"><code>newIndex</code></a> and <a href="#MoveAndReplaceAnnotationFromOtherParent.replacedAnnotation"><code>replacedAnnotation</code></a></p>
</li>
<li>
<p><mark>?</mark> <a href="#MoveAndReplaceAnnotationFromOtherParent.movedAnnotation"><code>movedAnnotation</code></a> is already an annotation of <a href="#MoveAndReplaceAnnotationFromOtherParent.newParent"><code>newParent</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-AnnotationMovedAndReplacedFromOtherParent">Annotation moved from other parent and replaced existing annotation</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-MoveAndReplaceAnnotationInSameParent">5.6.6.7. Move annotation in same parent and replace existing annotation</h5>
<div class="paragraph">
<p>Move <a href="#existing-nodes">existing node</a> <a href="#MoveAndReplaceAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a> within the same parent to <a href="#MoveAndReplaceAnnotationInSameParent.newIndex"><code>newIndex</code></a>.
Delete <a href="#existing-nodes">current node</a> <a href="#MoveAndReplaceAnnotationInSameParent.replacedAnnotation"><code>replacedAnnotation</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> at <a href="#MoveAndReplaceAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a>'s parent&#8217;s annotations at <a href="#MoveAndReplaceAnnotationInSameParent.newIndex"><code>newIndex</code></a>, and all its descendants (including annotation instances).
Does NOT change references to any of the deleted nodes.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_39" title="View footnote.">39</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceAnnotationInSameParent-before.svg" alt="moveAndReplaceAnnotationInSameParent before" width="371" height="440">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="moveAndReplaceAnnotationInSameParent-after.svg" alt="moveAndReplaceAnnotationInSameParent after" width="316" height="315">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>MoveAndReplaceAnnotationInSameParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationInSameParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationInSameParent.replacedAnnotation"></a>replacedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationInSameParent.movedAnnotation"></a>movedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationInSameParent.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MoveAndReplaceAnnotationInSameParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#MoveAndReplaceAnnotationInSameParent.newIndex"><code>newIndex</code></a> (is beyond (the number of annotations of <a href="#MoveAndReplaceAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a>'s parent) - 1)</p>
</li>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#MoveAndReplaceAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-moveWithoutParent">Move without parent</a> for <a href="#MoveAndReplaceAnnotationInSameParent.movedAnnotation"><code>movedAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#MoveAndReplaceAnnotationInSameParent.newIndex"><code>newIndex</code></a> and <a href="#MoveAndReplaceAnnotationInSameParent.replacedAnnotation"><code>replacedAnnotation</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-AnnotationMovedAndReplacedInSameParent">Annotation moved in same parent and replaced existing annotation</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cmd-references">5.6.7. References</h4>
<div class="sect4">
<h5 id="cmd-AddReference">5.6.7.1. Add reference</h5>
<div class="paragraph">
<p>Add <a href="#AddReference.newReference"><code>newReference</code></a> / <a href="#AddReference.newResolveInfo"><code>newResolveInfo</code></a> to <a href="#AddReference.parent"><code>parent</code></a>'s <a href="#AddReference.reference"><code>reference</code></a> at <a href="#AddReference.index"><code>index</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addReference-before.svg" alt="addReference before" width="305" height="173">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="addReference-after.svg" alt="addReference after" width="347" height="203">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AddReference</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AddReference.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddReference.reference"></a>reference
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddReference.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddReference.newReference"></a>newReference
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddReference.newResolveInfo"></a>newResolveInfo
</td>
<td class="hdlist2">
<p><a href="#resolveInfoType">ResolveInfo</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddReference.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AddReference.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#AddReference.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#AddReference.index"><code>index</code></a> (is beyond the number of <a href="#AddReference.reference"><code>reference</code></a> entries of <a href="#AddReference.parent"><code>parent</code></a>)</p>
</li>
<li>
<p><a href="#err-undefinedReferenceTarget">Undefined reference target</a> for <a href="#AddReference.newReference"><code>newReference</code></a> and <a href="#AddReference.newResolveInfo"><code>newResolveInfo</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ReferenceAdded">Reference added</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-DeleteReference">5.6.7.2. Delete reference</h5>
<div class="paragraph">
<p>Delete existing entry <a href="#DeleteReference.deletedReference"><code>deletedReference</code></a>/<a href="#DeleteReference.deletedResolveInfo"><code>deletedResolveInfo</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> from <a href="#DeleteReference.parent"><code>parent</code></a>'s <a href="#DeleteReference.reference"><code>reference</code></a> at <a href="#DeleteReference.index"><code>index</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteReference-before.svg" alt="deleteReference before" width="347" height="203">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="deleteReference-after.svg" alt="deleteReference after" width="347" height="203">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>DeleteReference</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="DeleteReference.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteReference.reference"></a>reference
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteReference.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteReference.deletedReference"></a>deletedReference
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteReference.deletedResolveInfo"></a>deletedResolveInfo
</td>
<td class="hdlist2">
<p><a href="#resolveInfoType">ResolveInfo</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteReference.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="DeleteReference.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#DeleteReference.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#DeleteReference.index"><code>index</code></a> (is beyond (the number of <a href="#DeleteReference.reference"><code>reference</code></a> entries of <a href="#DeleteReference.parent"><code>parent</code></a>) - 1)</p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#DeleteReference.reference"><code>reference</code></a>/<a href="#DeleteReference.index"><code>index</code></a> and <a href="#DeleteReference.deletedReference"><code>deletedReference</code></a>/<a href="#DeleteReference.deletedResolveInfo"><code>deletedResolveInfo</code></a></p>
</li>
<li>
<p><a href="#err-undefinedReferenceTarget">Undefined reference target</a> for <a href="#DeleteReference.deletedReference"><code>deletedReference</code></a>/<a href="#DeleteReference.deletedResolveInfo"><code>deletedResolveInfo</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ReferenceDeleted">Reference deleted</a></p>
</div>
</div>
<div class="sect4">
<h5 id="cmd-ChangeReference">5.6.7.3. Change reference</h5>
<div class="paragraph">
<p>Replace existing entry <a href="#ChangeReference.oldReference"><code>oldReference</code></a>/<a href="#ChangeReference.oldResolveInfo"><code>oldResolveInfo</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_41" title="View footnote.">41</a>]</sup> inside <a href="#ChangeReference.parent"><code>parent</code></a>'s <a href="#ChangeReference.reference"><code>reference</code></a> at <a href="#ChangeReference.index"><code>index</code></a> with <a href="#ChangeReference.newReference"><code>newReference</code></a>/<a href="#ChangeReference.newResolveInfo"><code>newResolveInfo</code></a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before</th>
<th class="tableblock halign-left valign-top">After</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeReference-before.svg" alt="changeReference before" width="278" height="337">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="changeReference-after.svg" alt="changeReference after" width="278" height="337">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChangeReference</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChangeReference.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeReference.reference"></a>reference
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeReference.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeReference.oldReference"></a>oldReference
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeReference.oldResolveInfo"></a>oldResolveInfo
</td>
<td class="hdlist2">
<p><a href="#resolveInfoType">ResolveInfo</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeReference.newReference"></a>newReference
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeReference.newResolveInfo"></a>newResolveInfo
</td>
<td class="hdlist2">
<p><a href="#resolveInfoType">ResolveInfo</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeReference.commandId"></a>commandId
</td>
<td class="hdlist2">
<p><a href="#commandIdType">CommandId</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChangeReference.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p><a href="#err-unknownNode">Unknown node</a> for <a href="#ChangeReference.parent"><code>parent</code></a></p>
</li>
<li>
<p><a href="#err-unknownIndex">Unknown index</a> for <a href="#ChangeReference.index"><code>index</code></a> (is beyond (the number of <a href="#ChangeReference.reference"><code>reference</code></a> entries of <a href="#ChangeReference.parent"><code>parent</code></a>) - 1)</p>
</li>
<li>
<p><a href="#err-undefinedReferenceTarget">Undefined reference target</a> for <a href="#ChangeReference.newReference"><code>newReference</code></a> and <a href="#ChangeReference.newResolveInfo"><code>newResolveInfo</code></a></p>
</li>
<li>
<p><a href="#err-indexEntryMismatch">Entry at index is not the given entry</a> for <a href="#ChangeReference.reference"><code>reference</code></a>/<a href="#ChangeReference.index"><code>index</code></a> and <a href="#ChangeReference.oldReference"><code>oldReference</code></a>/<a href="#ChangeReference.oldResolveInfo"><code>oldResolveInfo</code></a></p>
</li>
<li>
<p><a href="#err-undefinedReferenceTarget">Undefined reference target</a> for <a href="#ChangeReference.oldReference"><code>oldReference</code></a>/<a href="#ChangeReference.oldResolveInfo"><code>oldResolveInfo</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-ReferenceChanged">Reference changed</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cmd-composite-section">5.6.8. Composite</h4>
<div class="sect4">
<h5 id="cmd-CompositeCommand">5.6.8.1. Composite</h5>
<div class="paragraph">
<p>Groups several commands into a logical group.<sup class="footnote" id="_footnote_org281">[<a id="_footnoteref_42" class="footnote" href="#_footnotedef_42" title="View footnote.">42</a>]</sup>
The parts are ordered.</p>
</div>
<div class="paragraph">
<p>Command groups don&#8217;t guarantee anything; the repository MAY take the group as a hint to resolve conflicts in a different manner.</p>
</div>
<div class="paragraph">
<p>Composite commands have a command id on their own.<sup class="footnote" id="_footnote_org353">[<a id="_footnoteref_43" class="footnote" href="#_footnotedef_43" title="View footnote.">43</a>]</sup>
We can nest composite commands arbitrarily.<sup class="footnote" id="_footnote_org360">[<a id="_footnoteref_44" class="footnote" href="#_footnotedef_44" title="View footnote.">44</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>CompositeCommand</code> <sup class="footnote">[<a id="_footnoteref_45" class="footnote" href="#_footnotedef_45" title="View footnote.">45</a>]</sup></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="CompositeCommand.parts"></a>parts
</td>
<td class="hdlist2">
<p><a href="#commandType">Command</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="CompositeCommand.protocolMessages"></a>protocolMessages
</td>
<td class="hdlist2">
<p><a href="#protocolMessagesType">[protocolMessagesType]</a></p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Errors</div>
<ul>
<li>
<p>accumulation of all errors of <a href="#CompositeCommand.parts"><code>parts</code></a></p>
</li>
<li>
<p><a href="#err-invalidParticipation">Invalid participation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Related event</div>
<p><a href="#evnt-CompositeEvent">Composite</a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="events">5.7. Events</h3>
<div class="sect3">
<h4 id="evnt-ChunkedEvent">5.7.1. Chunked Event</h4>
<div class="paragraph">
<p>A <a href="#continuedChunk">continued chunk</a> for one of the following <a href="#splittableMessage">splittable</a> events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#evnt-PartitionAdded">Partition added</a> <a href="#PartitionAdded.newPartition"><code>newPartition</code></a></p>
</li>
<li>
<p><a href="#evnt-ChildAdded">Child added</a> <a href="#ChildAdded.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#evnt-ChildReplaced">Child replaced</a> <a href="#ChildReplaced.newChild"><code>newChild</code></a></p>
</li>
<li>
<p><a href="#evnt-AnnotationAdded">Annotation added</a> <a href="#AnnotationAdded.newAnnotation"><code>newAnnotation</code></a></p>
</li>
<li>
<p><a href="#evnt-AnnotationReplaced">Annotation replaced</a> <a href="#AnnotationReplaced.newAnnotation"><code>newAnnotation</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChunkedEvent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChunkedEvent.chunk"></a>chunk
</td>
<td class="hdlist2">
<p><a href="#unconstrainedChunkType">SerializationChunk</a>
The continued chunk.
The combination of all continued chunks MUST adhere to the same constraints as the related <a href="#splittableMessage">splittable message</a>'s chunk.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedEvent.continuedChunkCompleted"></a>continuedChunkCompleted
</td>
<td class="hdlist2">
<p><a href="#continuedChunkCompletedFlagType">ContinuedChunkCompletedFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedEvent.chunkedEventSequenceNumber"></a>chunkedEventSequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a>
Sequence number of the related <a href="#splittableMessage">splittable event</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedEvent.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChunkedEvent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="evnt-partitions">5.7.2. Partitions</h4>
<div class="sect4">
<h5 id="evnt-PartitionAdded">5.7.2.1. Partition added</h5>
<div class="paragraph">
<p><a href="#new-nodes">New</a> partition <a href="#PartitionAdded.newPartition"><code>newPartition</code></a> has been added to the repository.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>PartitionAdded</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="PartitionAdded.newPartition"></a>newPartition
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a> (if subscribed via <a href="#qry-ListAndSubscribePartitions">List and subscribe partitions</a> or <a href="#qry-SubscribeToChangingPartitions">Subscribe to partition changes</a>) or<br>
<a href="#shallowChunkType">shallow chunk</a> (if subscribed via <a href="#qry-InformAboutChangingPartitions">Inform about partition changes</a>) up to <a href="#InformAboutChangingPartitions.depthLimit"><code>depthLimit</code></a>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This parameter differs from the <a href="#AddPartition.newPartition">corresponding command parameter</a>:
The command&#8217;s parameter always contains a whole subtree, whereas the event&#8217;s parameter may contain only the top of the subtree.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PartitionAdded.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PartitionAdded.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PartitionAdded.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PartitionAdded.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-AddPartition">Add partition</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-PartitionDeleted">5.7.2.2. Partition deleted</h5>
<div class="paragraph">
<p>Partition <a href="#PartitionDeleted.deletedPartition"><code>deletedPartition</code></a>, and all its <a href="#PartitionDeleted.deletedDescendants"><code>deletedDescendants</code></a><sup class="footnote" id="_footnote_org370">[<a id="_footnoteref_46" class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, have been deleted from the repository.</p>
</div>
<div class="paragraph">
<p>This client is now unsubscribed from any changes to <a href="#PartitionDeleted.deletedPartition"><code>deletedPartition</code></a> or any of its descendants.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>PartitionDeleted</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="PartitionDeleted.deletedPartition"></a>deletedPartition
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PartitionDeleted.deletedDescendants"></a>deletedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PartitionDeleted.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PartitionDeleted.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PartitionDeleted.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-DeletePartition">Delete partition</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="evnt-nodes">5.7.3. Nodes</h4>
<div class="sect4">
<h5 id="evnt-ClassifierChanged">5.7.3.1. Classifier changed</h5>
<div class="paragraph">
<p>Classifier of <a href="#ClassifierChanged.node"><code>node</code></a> has been changed from <a href="#ClassifierChanged.oldClassifier"><code>oldClassifier</code></a> to <a href="#ClassifierChanged.newClassifier"><code>newClassifier</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ClassifierChanged</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ClassifierChanged.node"></a>node
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ClassifierChanged.newClassifier"></a>newClassifier
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ClassifierChanged.oldClassifier"></a>oldClassifier
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ClassifierChanged.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ClassifierChanged.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ClassifierChanged.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-ChangeClassifier">Change classifier</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="evnt-properties">5.7.4. Properties</h4>
<div class="sect4">
<h5 id="evnt-PropertyAdded">5.7.4.1. Property added</h5>
<div class="paragraph">
<p><a href="#PropertyAdded.property"><code>property</code></a> of <a href="#PropertyAdded.node"><code>node</code></a> has been set to <a href="#PropertyAdded.newValue"><code>newValue</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>PropertyAdded</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="PropertyAdded.node"></a>node
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyAdded.property"></a>property
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyAdded.newValue"></a>newValue
</td>
<td class="hdlist2">
<p><a href="#propertyValueType">PropertyValue</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyAdded.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyAdded.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyAdded.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-AddProperty">Add property</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-PropertyDeleted">5.7.4.2. Property deleted</h5>
<div class="paragraph">
<p>Existing <a href="#PropertyDeleted.property"><code>property</code></a> of <a href="#PropertyDeleted.node"><code>node</code></a> with <a href="#PropertyDeleted.oldValue"><code>oldValue</code></a> has been deleted.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>PropertyDeleted</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="PropertyDeleted.node"></a>node
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyDeleted.property"></a>property
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyDeleted.oldValue"></a>oldValue
</td>
<td class="hdlist2">
<p><a href="#propertyValueType">PropertyValue</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyDeleted.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyDeleted.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyDeleted.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-DeleteProperty">Delete property</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-PropertyChanged">5.7.4.3. Property changed</h5>
<div class="paragraph">
<p>Existing <a href="#PropertyChanged.property"><code>property</code></a> of <a href="#PropertyChanged.node"><code>node</code></a> has been changed from <a href="#PropertyChanged.oldValue"><code>oldValue</code></a> to <a href="#PropertyChanged.newValue"><code>newValue</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>PropertyChanged</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="PropertyChanged.node"></a>node
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyChanged.property"></a>property
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyChanged.newValue"></a>newValue
</td>
<td class="hdlist2">
<p><a href="#propertyValueType">PropertyValue</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyChanged.oldValue"></a>oldValue
</td>
<td class="hdlist2">
<p><a href="#propertyValueType">PropertyValue</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyChanged.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyChanged.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="PropertyChanged.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-ChangeProperty">Change property</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="evnt-children">5.7.5. Children</h4>
<div class="sect4">
<h5 id="evnt-ChildAdded">5.7.5.1. Child added</h5>
<div class="paragraph">
<p><a href="#new-nodes">New node</a> <a href="#ChildAdded.newChild"><code>newChild</code></a> has been added to <a href="#ChildAdded.parent"><code>parent</code></a>'s  <a href="#ChildAdded.containment"><code>containment</code></a> at <a href="#ChildAdded.index"><code>index</code></a>.</p>
</div>
<div class="paragraph">
<p>All other children inside <a href="#ChildAdded.parent"><code>parent</code></a>'s <a href="#ChildAdded.containment"><code>containment</code></a> with index &gt;= <a href="#ChildAdded.index"><code>index</code></a> have been moved to next higher index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildAdded</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildAdded.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildAdded.newChild"></a>newChild
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree that formed the new child.
The <em>anchor node</em> MUST contain the <a href="#ChildAdded.parent"><code>parent</code></a> as <em>parent</em>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_40" title="View footnote.">40</a>]</sup>
All nodes in that subtree MUST be <a href="#new-nodes">new nodes</a>.<sup class="footnote" id="_footnote_org326">[<a id="_footnoteref_47" class="footnote" href="#_footnotedef_47" title="View footnote.">47</a>]</sup></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildAdded.containment"></a>containment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildAdded.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildAdded.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildAdded.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildAdded.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildAdded.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-AddChild">Add child</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ChildDeleted">5.7.5.2. Child deleted</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#ChildDeleted.deletedChild"><code>deletedChild</code></a>, and all its <a href="#ChildDeleted.deletedDescendants"><code>deletedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, have been deleted from <a href="#ChildDeleted.parent"><code>parent</code></a>'s <a href="#ChildDeleted.containment"><code>containment</code></a> at <a href="#ChildDeleted.index"><code>index</code></a>.<sup class="footnote" id="_footnote_org286">[<a id="_footnoteref_48" class="footnote" href="#_footnotedef_48" title="View footnote.">48</a>]</sup>
All other children inside <a href="#ChildDeleted.parent"><code>parent</code></a>'s <a href="#ChildDeleted.containment"><code>containment</code></a> with index &gt; <a href="#ChildDeleted.index"><code>index</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildDeleted</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildDeleted.deletedChild"></a>deletedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildDeleted.deletedDescendants"></a>deletedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildDeleted.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildDeleted.containment"></a>containment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildDeleted.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildDeleted.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildDeleted.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildDeleted.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-DeleteChild">Delete child</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ChildReplaced">5.7.5.3. Child replaced</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#ChildReplaced.replacedChild"><code>replacedChild</code></a>, and all its <a href="#ChildReplaced.replacedDescendants"><code>replacedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, inside <a href="#ChildReplaced.parent"><code>parent</code></a>'s <a href="#ChildReplaced.containment"><code>containment</code></a> at <a href="#ChildReplaced.index"><code>index</code></a> has been replaced with <a href="#new-nodes">new</a> or <a href="#reused-nodes">reused</a> node <a href="#ChildReplaced.newChild"><code>newChild</code></a>.</p>
</div>
<div class="paragraph">
<p><a href="#ChildReplaced.replacedChild"><code>replacedChild</code></a>, and all its descendants, have been deleted.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildReplaced</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.newChild"></a>newChild
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree that formed the new child.
The <em>anchor node</em> MUST contain the <a href="#ChildReplaced.parent"><code>parent</code></a> as <em>parent</em>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_40" title="View footnote.">40</a>]</sup>
All nodes in that subtree MUST be <a href="#new-nodes">new nodes</a> or <a href="#reused-nodes">reused nodes</a>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_47" title="View footnote.">47</a>]</sup></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.replacedChild"></a>replacedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.replacedDescendants"></a>replacedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.containment"></a>containment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildReplaced.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-ReplaceChild">Replace child</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ChildMovedFromOtherContainment">5.7.5.4. Child moved from other containment</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#ChildMovedFromOtherContainment.movedChild"><code>movedChild</code></a> (previously inside <a href="#ChildMovedFromOtherContainment.oldParent"><code>oldParent</code></a>'s <a href="#ChildMovedFromOtherContainment.oldContainment"><code>oldContainment</code></a> at <a href="#ChildMovedFromOtherContainment.oldIndex"><code>oldIndex</code></a>) has been moved
inside <a href="#ChildMovedFromOtherContainment.newParent"><code>newParent</code></a>'s <a href="#ChildMovedFromOtherContainment.newContainment"><code>newContainment</code></a> at <a href="#ChildMovedFromOtherContainment.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<p>All other children inside <a href="#ChildMovedFromOtherContainment.oldParent"><code>oldParent</code></a>'s <a href="#ChildMovedFromOtherContainment.oldContainment"><code>oldContainment</code></a> with index &gt; <a href="#ChildMovedFromOtherContainment.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<p>All other children inside <a href="#ChildMovedFromOtherContainment.newParent"><code>newParent</code></a>'s <a href="#ChildMovedFromOtherContainment.newContainment"><code>newContainment</code></a> with index &gt;= <a href="#ChildMovedFromOtherContainment.newIndex"><code>newIndex</code></a> have been moved to next higher index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildMovedFromOtherContainment</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.newParent"></a>newParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.newContainment"></a>newContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.oldParent"></a>oldParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.oldContainment"></a>oldContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainment.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveChildFromOtherContainment">Move child from other containment</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ChildMovedFromOtherContainmentInSameParent">5.7.5.5. Child moved from other containment in same parent</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#ChildMovedFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a> (previously inside <a href="#ChildMovedFromOtherContainmentInSameParent.parent"><code>parent</code></a>'s <a href="#ChildMovedFromOtherContainmentInSameParent.oldContainment"><code>oldContainment</code></a> at <a href="#ChildMovedFromOtherContainmentInSameParent.oldIndex"><code>oldIndex</code></a>) has been moved
inside <a href="#ChildMovedFromOtherContainmentInSameParent.parent"><code>parent</code></a>'s <a href="#ChildMovedFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> at <a href="#ChildMovedFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<p>All other children inside <a href="#ChildMovedFromOtherContainmentInSameParent.parent"><code>parent</code></a>'s <a href="#ChildMovedFromOtherContainmentInSameParent.oldContainment"><code>oldContainment</code></a> with index &gt; <a href="#ChildMovedFromOtherContainmentInSameParent.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<p>All other children inside <a href="#ChildMovedFromOtherContainmentInSameParent.parent"><code>parent</code></a>'s <a href="#ChildMovedFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> with index &gt;= <a href="#ChildMovedFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a> have been moved to next higher index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildMovedFromOtherContainmentInSameParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.newContainment"></a>newContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.oldContainment"></a>oldContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedFromOtherContainmentInSameParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveChildFromOtherContainmentInSameParent">Move child from other containment in same parent</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ChildMovedInSameContainment">5.7.5.6. Child moved in same containment</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#ChildMovedInSameContainment.movedChild"><code>movedChild</code></a> (previously inside <a href="#ChildMovedInSameContainment.parent"><code>parent</code></a>'s <a href="#ChildMovedInSameContainment.containment"><code>containment</code></a> at <a href="#ChildMovedInSameContainment.oldIndex"><code>oldIndex</code></a>) has been moved
inside <a href="#ChildMovedInSameContainment.parent"><code>parent</code></a>'s <a href="#ChildMovedInSameContainment.containment"><code>containment</code></a> at <a href="#ChildMovedInSameContainment.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<p>If <a href="#ChildMovedInSameContainment.oldIndex"><code>oldIndex</code></a> &lt; <a href="#ChildMovedInSameContainment.newIndex"><code>newIndex</code></a>: All other children inside <a href="#ChildMovedInSameContainment.parent"><code>parent</code></a>'s <a href="#ChildMovedInSameContainment.containment"><code>containment</code></a> with previous index &gt; <a href="#ChildMovedInSameContainment.oldIndex"><code>oldIndex</code></a> and previous index &#8656; <a href="#ChildMovedInSameContainment.newIndex"><code>newIndex</code></a> have been moved to next lower index.
Example:<br>
<code>oldIndex=3</code>: <code>A[0] B[1] C[2] <strong>X[3]</strong> D[4] E[5] F[6]</code> &#8594;<br>
<code>newIndex=5</code>: <code>A[0] B[1] C[2] <em>D[3] E[4]</em> <strong>X[5]</strong> F[6]</code></p>
</div>
<div class="paragraph">
<p>If <a href="#ChildMovedInSameContainment.oldIndex"><code>oldIndex</code></a> &gt; <a href="#ChildMovedInSameContainment.newIndex"><code>newIndex</code></a>: All other children inside <a href="#ChildMovedInSameContainment.parent"><code>parent</code></a>'s <a href="#ChildMovedInSameContainment.containment"><code>containment</code></a> with previous index &gt;= <a href="#ChildMovedInSameContainment.newIndex"><code>newIndex</code></a> and previous index &lt; <a href="#ChildMovedInSameContainment.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.
Example:<br>
<code>oldIndex=3</code>: <code>A[0] B[1] C[2] <strong>X[3]</strong> D[4] E[5] F[6]</code> &#8594;<br>
<code>newIndex=1</code>: <code>A[0] <strong>X[1]</strong> <em>B[2] C[3]</em> D[4] E[5] F[6]</code></p>
</div>
<div class="paragraph">
<p><a href="#ChildMovedInSameContainment.oldIndex"><code>oldIndex</code></a> MUST NOT be equal to <a href="#ChildMovedInSameContainment.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildMovedInSameContainment</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildMovedInSameContainment.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedInSameContainment.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedInSameContainment.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedInSameContainment.containment"></a>containment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedInSameContainment.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedInSameContainment.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedInSameContainment.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedInSameContainment.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveChildInSameContainment">Move child in same containment</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ChildMovedAndReplacedFromOtherContainment">5.7.5.7. Child moved from other containment and replaced existing child</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#ChildMovedAndReplacedFromOtherContainment.movedChild"><code>movedChild</code></a> (previously inside <a href="#ChildMovedAndReplacedFromOtherContainment.oldParent"><code>oldParent</code></a>'s <a href="#ChildMovedAndReplacedFromOtherContainment.oldContainment"><code>oldContainment</code></a> at <a href="#ChildMovedAndReplacedFromOtherContainment.oldIndex"><code>oldIndex</code></a>) has replaced the <a href="#existing-nodes">existing</a> <a href="#ChildMovedAndReplacedFromOtherContainment.replacedChild"><code>replacedChild</code></a> inside <a href="#ChildMovedAndReplacedFromOtherContainment.newParent"><code>newParent</code></a>'s <a href="#ChildMovedAndReplacedFromOtherContainment.newContainment"><code>newContainment</code></a> at <a href="#ChildMovedAndReplacedFromOtherContainment.newIndex"><code>newIndex</code></a>.
<a href="#ChildMovedAndReplacedFromOtherContainment.replacedChild"><code>replacedChild</code></a>, and all its <a href="#ChildMovedAndReplacedFromOtherContainment.replacedDescendants"><code>replacedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, have been deleted.</p>
</div>
<div class="paragraph">
<p>All other children inside <a href="#ChildMovedAndReplacedFromOtherContainment.oldParent"><code>oldParent</code></a>'s <a href="#ChildMovedAndReplacedFromOtherContainment.oldContainment"><code>oldContainment</code></a> with index &gt; <a href="#ChildMovedAndReplacedFromOtherContainment.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<p>No other children inside <a href="#ChildMovedAndReplacedFromOtherContainment.newParent"><code>newParent</code></a>'s <a href="#ChildMovedAndReplacedFromOtherContainment.newContainment"><code>newContainment</code></a> have been moved.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildMovedAndReplacedFromOtherContainment</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.newParent"></a>newParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.newContainment"></a>newContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.oldParent"></a>oldParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.oldContainment"></a>oldContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.replacedChild"></a>replacedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.replacedDescendants"></a>replacedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainment.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveAndReplaceChildFromOtherContainment">Move child from other containment and replace existing child</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ChildMovedAndReplacedFromOtherContainmentInSameParent">5.7.5.8. Child moved from other containment in same parent and replaced existing child</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.movedChild"><code>movedChild</code></a> (previously inside <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.parent"><code>parent</code></a>'s <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.oldContainment"><code>oldContainment</code></a> at <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.oldIndex"><code>oldIndex</code></a>) has replaced the <a href="#existing-nodes">existing</a> <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.replacedChild"><code>replacedChild</code></a> inside <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.parent"><code>parent</code></a>'s <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> at <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.newIndex"><code>newIndex</code></a>.
<a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.replacedChild"><code>replacedChild</code></a>, and all its <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.replacedDescendants"><code>replacedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, have been deleted.</p>
</div>
<div class="paragraph">
<p>All other children inside <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.parent"><code>parent</code></a>'s <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.oldContainment"><code>oldContainment</code></a> with index &gt; <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<p>No other children inside <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.parent"><code>parent</code></a>'s <a href="#ChildMovedAndReplacedFromOtherContainmentInSameParent.newContainment"><code>newContainment</code></a> have been moved.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildMovedAndReplacedFromOtherContainmentInSameParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.newContainment"></a>newContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.oldContainment"></a>oldContainment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.replacedChild"></a>replacedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.replacedDescendants"></a>replacedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedFromOtherContainmentInSameParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveAndReplaceChildFromOtherContainmentInSameParent">Move child from other containment in same parent and replace existing child</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ChildMovedAndReplacedInSameContainment">5.7.5.9. Child moved in same containment and replaced existing child</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#ChildMovedAndReplacedInSameContainment.movedChild"><code>movedChild</code></a> (previously inside <a href="#ChildMovedAndReplacedInSameContainment.parent"><code>parent</code></a>'s <a href="#ChildMovedAndReplacedInSameContainment.containment"><code>containment</code></a> at <a href="#ChildMovedAndReplacedInSameContainment.oldIndex"><code>oldIndex</code></a>) has replaced the <a href="#existing-nodes">existing</a> <a href="#ChildMovedAndReplacedInSameContainment.replacedChild"><code>replacedChild</code></a> inside <a href="#ChildMovedAndReplacedInSameContainment.parent"><code>parent</code></a>'s <a href="#ChildMovedAndReplacedInSameContainment.containment"><code>containment</code></a> at <a href="#ChildMovedAndReplacedInSameContainment.newIndex"><code>newIndex</code></a>.
<a href="#ChildMovedAndReplacedInSameContainment.replacedChild"><code>replacedChild</code></a>, and all its <a href="#ChildMovedAndReplacedInSameContainment.replacedDescendants"><code>replacedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, have been deleted.</p>
</div>
<div class="paragraph">
<p>If <a href="#ChildMovedAndReplacedInSameContainment.oldIndex"><code>oldIndex</code></a> &lt; <a href="#ChildMovedAndReplacedInSameContainment.newIndex"><code>newIndex</code></a>: All other children inside <a href="#ChildMovedAndReplacedInSameContainment.parent"><code>parent</code></a>'s <a href="#ChildMovedAndReplacedInSameContainment.containment"><code>containment</code></a> with previous index &gt; <a href="#ChildMovedAndReplacedInSameContainment.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.
Example:<br>
<code>oldIndex=3</code>: <code>A[0] B[1] C[2] <strong>X[3]</strong> D[4] E[5] F[6] G[7]</code> &#8594;<br>
<code>newIndex=5</code>: <code>A[0] B[1] C[2] <em>D[3] E[4]</em> <strong>X[5]</strong> <em>G[6]</em></code></p>
</div>
<div class="paragraph">
<p>If <a href="#ChildMovedAndReplacedInSameContainment.oldIndex"><code>oldIndex</code></a> &gt; <a href="#ChildMovedAndReplacedInSameContainment.newIndex"><code>newIndex</code></a>: All other children inside <a href="#ChildMovedAndReplacedInSameContainment.parent"><code>parent</code></a>'s <a href="#ChildMovedAndReplacedInSameContainment.containment"><code>containment</code></a> with previous index &gt;= <a href="#ChildMovedAndReplacedInSameContainment.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.
Example:<br>
<code>oldIndex=4</code>: <code>A[0] B[1] C[2] D[3] <strong>X[4]</strong> E[5] F[6]</code> &#8594;<br>
<code>newIndex=1</code>: <code>A[0] <strong>X[1]</strong> C[2] D[3] <em>E[4] F[5]</em></code></p>
</div>
<div class="paragraph">
<p><a href="#ChildMovedAndReplacedInSameContainment.oldIndex"><code>oldIndex</code></a> MUST NOT be equal to <a href="#ChildMovedAndReplacedInSameContainment.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ChildMovedAndReplacedInSameContainment</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.movedChild"></a>movedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.containment"></a>containment
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.replacedChild"></a>replacedChild
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.replacedDescendants"></a>replacedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ChildMovedAndReplacedInSameContainment.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveAndReplaceChildInSameContainment">Move child in same containment and replace existing child</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="evnt-annotations">5.7.6. Annotations</h4>
<div class="sect4">
<h5 id="evnt-AnnotationAdded">5.7.6.1. Annotation added</h5>
<div class="paragraph">
<p><a href="#new-nodes">New node</a> <a href="#AnnotationAdded.newAnnotation"><code>newAnnotation</code></a> has been added to <a href="#AnnotationAdded.parent"><code>parent</code></a>'s annotations at <a href="#AnnotationAdded.index"><code>index</code></a>.</p>
</div>
<div class="paragraph">
<p>All other annotations inside <a href="#AnnotationAdded.parent"><code>parent</code></a>'s annotations with index &gt;= <a href="#AnnotationAdded.index"><code>index</code></a> have been moved to next higher index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AnnotationAdded</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AnnotationAdded.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationAdded.newAnnotation"></a>newAnnotation
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree that formed the new annotation.
The <em>anchor node</em> MUST contain the <a href="#AnnotationAdded.parent"><code>parent</code></a> as <em>parent</em>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_40" title="View footnote.">40</a>]</sup>
All nodes in that subtree MUST be <a href="#new-nodes">new nodes</a>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_47" title="View footnote.">47</a>]</sup></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationAdded.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationAdded.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationAdded.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationAdded.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationAdded.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-AddAnnotation">Add annotation</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-AnnotationDeleted">5.7.6.2. Annotation deleted</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#AnnotationDeleted.deletedAnnotation"><code>deletedAnnotation</code></a>, and all its <a href="#AnnotationDeleted.deletedDescendants"><code>deletedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, have been deleted from <a href="#AnnotationDeleted.parent"><code>parent</code></a>'s annotations at <a href="#AnnotationDeleted.index"><code>index</code></a>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_48" title="View footnote.">48</a>]</sup>
All other annotations inside <a href="#AnnotationDeleted.parent"><code>parent</code></a>'s annotations with index &gt; <a href="#AnnotationDeleted.index"><code>index</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AnnotationDeleted</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AnnotationDeleted.deletedAnnotation"></a>deletedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationDeleted.deletedDescendants"></a>deletedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationDeleted.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationDeleted.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationDeleted.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationDeleted.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationDeleted.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-DeleteAnnotation">Delete annotation</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-AnnotationReplaced">5.7.6.3. Annotation replaced</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#AnnotationReplaced.replacedAnnotation"><code>replacedAnnotation</code></a>, and all its <a href="#AnnotationReplaced.replacedDescendants"><code>replacedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, inside <a href="#AnnotationReplaced.parent"><code>parent</code></a>'s annotations at <a href="#AnnotationReplaced.index"><code>index</code></a> has been replaced with <a href="#new-nodes">new</a> or <a href="#reused-nodes">reused</a> node <a href="#AnnotationReplaced.newAnnotation"><code>newAnnotation</code></a>.</p>
</div>
<div class="paragraph">
<p><a href="#AnnotationReplaced.replacedAnnotation"><code>replacedAnnotation</code></a>, and all its descendants, have been deleted.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AnnotationReplaced</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.newAnnotation"></a>newAnnotation
</td>
<td class="hdlist2">
<p><a href="#singleChunkType">single chunk</a>
Subtree that formed the new annotation.
The <em>anchor node</em> MUST contain the <a href="#ReplaceAnnotation.newAnnotation"><code>newAnnotation</code></a> as <em>parent</em>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_40" title="View footnote.">40</a>]</sup>
All nodes in that subtree MUST either be <a href="#new-nodes">new nodes</a> or <a href="#reused-nodes">reused nodes</a>.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_47" title="View footnote.">47</a>]</sup></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.replacedAnnotation"></a>replacedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.replacedDescendants"></a>replacedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.split"></a>split?
</td>
<td class="hdlist2">
<p><a href="#splitFlagType">SplitFlag</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationReplaced.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-ReplaceAnnotation">Replace annotation</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-AnnotationMovedFromOtherParent">5.7.6.4. Annotation moved from other parent</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#AnnotationMovedFromOtherParent.movedAnnotation"><code>movedAnnotation</code></a> (previously inside <a href="#AnnotationMovedFromOtherParent.oldParent"><code>oldParent</code></a>'s annotations at <a href="#AnnotationMovedFromOtherParent.oldIndex"><code>oldIndex</code></a>) has been moved
inside <a href="#AnnotationMovedFromOtherParent.newParent"><code>newParent</code></a>'s annotations at <a href="#AnnotationMovedFromOtherParent.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<p>All other annotations inside <a href="#AnnotationMovedFromOtherParent.oldParent"><code>oldParent</code></a>'s annotations with index &gt; <a href="#AnnotationMovedFromOtherParent.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<p>All other annotations inside <a href="#AnnotationMovedFromOtherParent.newParent"><code>newParent</code></a>'s annotations with index &gt;= <a href="#AnnotationMovedFromOtherParent.newIndex"><code>newIndex</code></a> have been moved to next higher index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AnnotationMovedFromOtherParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedFromOtherParent.newParent"></a>newParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedFromOtherParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedFromOtherParent.movedAnnotation"></a>movedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedFromOtherParent.oldParent"></a>oldParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedFromOtherParent.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedFromOtherParent.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedFromOtherParent.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedFromOtherParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveAnnotationFromOtherParent">Move annotation from other parent</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-AnnotationMovedInSameParent">5.7.6.5. Annotation moved in same parent</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#AnnotationMovedInSameParent.movedAnnotation"><code>movedAnnotation</code></a> (previously inside <a href="#AnnotationMovedInSameParent.parent"><code>parent</code></a>'s annotations at <a href="#AnnotationMovedInSameParent.oldIndex"><code>oldIndex</code></a>) has been moved inside <a href="#AnnotationMovedInSameParent.parent"><code>parent</code></a>'s annotations at <a href="#AnnotationMovedInSameParent.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<p>If <a href="#AnnotationMovedInSameParent.oldIndex"><code>oldIndex</code></a> &lt; <a href="#AnnotationMovedInSameParent.newIndex"><code>newIndex</code></a>: All other annotations inside <a href="#AnnotationMovedInSameParent.parent"><code>parent</code></a>'s annotations with previous index &gt; <a href="#AnnotationMovedInSameParent.oldIndex"><code>oldIndex</code></a> and previous index &#8656; <a href="#AnnotationMovedInSameParent.newIndex"><code>newIndex</code></a> have been moved to next lower index.
Example:<br>
<code>oldIndex=3</code>: <code>A[0] B[1] C[2] <strong>X[3]</strong> D[4] E[5] F[6]</code> &#8594;<br>
<code>newIndex=5</code>: <code>A[0] B[1] C[2] <em>D[3] E[4]</em> <strong>X[5]</strong> F[6]</code></p>
</div>
<div class="paragraph">
<p>If <a href="#AnnotationMovedInSameParent.oldIndex"><code>oldIndex</code></a> &gt; <a href="#AnnotationMovedInSameParent.newIndex"><code>newIndex</code></a>: All other annotations inside <a href="#AnnotationMovedInSameParent.parent"><code>parent</code></a>'s annotations with previous index &gt;= <a href="#AnnotationMovedInSameParent.newIndex"><code>newIndex</code></a> and previous index &lt; <a href="#AnnotationMovedInSameParent.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.
Example:<br>
<code>oldIndex=3</code>: <code>A[0] B[1] C[2] <strong>X[3]</strong> D[4] E[5] F[6]</code> &#8594;<br>
<code>newIndex=1</code>: <code>A[0] <strong>X[1]</strong> <em>B[2] C[3]</em> D[4] E[5] F[6]</code></p>
</div>
<div class="paragraph">
<p><a href="#AnnotationMovedInSameParent.oldIndex"><code>oldIndex</code></a> MUST NOT be equal to <a href="#AnnotationMovedInSameParent.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AnnotationMovedInSameParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedInSameParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedInSameParent.movedAnnotation"></a>movedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedInSameParent.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedInSameParent.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedInSameParent.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedInSameParent.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedInSameParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveAnnotationInSameParent">Move annotation in same parent</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-AnnotationMovedAndReplacedFromOtherParent">5.7.6.6. Annotation moved from other parent and replaced existing annotation</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#AnnotationMovedAndReplacedFromOtherParent.movedAnnotation"><code>movedAnnotation</code></a> (previously inside <a href="#AnnotationMovedAndReplacedFromOtherParent.oldParent"><code>oldParent</code></a>'s annotations at <a href="#AnnotationMovedAndReplacedFromOtherParent.oldIndex"><code>oldIndex</code></a>) has replaced the <a href="#existing-nodes">existing</a> <a href="#AnnotationMovedAndReplacedFromOtherParent.replacedAnnotation"><code>replacedAnnotation</code></a> inside <a href="#AnnotationMovedAndReplacedFromOtherParent.newParent"><code>newParent</code></a>'s annotations at <a href="#AnnotationMovedAndReplacedFromOtherParent.newIndex"><code>newIndex</code></a>.
<a href="#AnnotationMovedAndReplacedFromOtherParent.replacedAnnotation"><code>replacedAnnotation</code></a>, and all its <a href="#AnnotationMovedAndReplacedFromOtherParent.replacedDescendants"><code>replacedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, have been deleted.</p>
</div>
<div class="paragraph">
<p>All other annotations inside <a href="#AnnotationMovedAndReplacedFromOtherParent.oldParent"><code>oldParent</code></a>'s annotations with index &gt; <a href="#AnnotationMovedAndReplacedFromOtherParent.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<p>No other annotations inside <a href="#AnnotationMovedAndReplacedFromOtherParent.newParent"><code>newParent</code></a>'s annotations have been moved.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AnnotationMovedAndReplacedFromOtherParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.newParent"></a>newParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.movedAnnotation"></a>movedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.oldParent"></a>oldParent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.replacedAnnotation"></a>replacedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.replacedDescendants"></a>replacedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedFromOtherParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveAndReplaceAnnotationFromOtherParent">Move annotation from other parent and replace existing annotation</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-AnnotationMovedAndReplacedInSameParent">5.7.6.7. Annotation moved in same parent and replaced existing annotation</h5>
<div class="paragraph">
<p><a href="#existing-nodes">Existing node</a> <a href="#AnnotationMovedAndReplacedInSameParent.movedAnnotation"><code>movedAnnotation</code></a> (previously inside <a href="#AnnotationMovedAndReplacedInSameParent.parent"><code>parent</code></a>'s annotations at <a href="#AnnotationMovedAndReplacedInSameParent.oldIndex"><code>oldIndex</code></a>) has replaced the <a href="#existing-nodes">existing</a> <a href="#AnnotationMovedAndReplacedInSameParent.replacedAnnotation"><code>replacedAnnotation</code></a> inside <a href="#AnnotationMovedAndReplacedInSameParent.parent"><code>parent</code></a>'s annotations at <a href="#AnnotationMovedAndReplacedInSameParent.newIndex"><code>newIndex</code></a>.
<a href="#AnnotationMovedAndReplacedInSameParent.replacedAnnotation"><code>replacedAnnotation</code></a>, and all its <a href="#AnnotationMovedAndReplacedInSameParent.replacedDescendants"><code>replacedDescendants</code></a><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_46" title="View footnote.">46</a>]</sup>, have been deleted.</p>
</div>
<div class="paragraph">
<p>If <a href="#AnnotationMovedAndReplacedInSameParent.oldIndex"><code>oldIndex</code></a> &lt; <a href="#AnnotationMovedAndReplacedInSameParent.newIndex"><code>newIndex</code></a>: All other annotations inside <a href="#AnnotationMovedAndReplacedInSameParent.parent"><code>parent</code></a>'s annotations with previous index &gt; <a href="#AnnotationMovedAndReplacedInSameParent.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.
Example:<br>
<code>oldIndex=3</code>: <code>A[0] B[1] C[2] <strong>X[3]</strong> D[4] E[5] F[6] G[7]</code> &#8594;<br>
<code>newIndex=5</code>: <code>A[0] B[1] C[2] <em>D[3] E[4]</em> <strong>X[5]</strong> <em>G[6]</em></code></p>
</div>
<div class="paragraph">
<p>If <a href="#AnnotationMovedAndReplacedInSameParent.oldIndex"><code>oldIndex</code></a> &gt; <a href="#AnnotationMovedAndReplacedInSameParent.newIndex"><code>newIndex</code></a>: All other annotations inside <a href="#AnnotationMovedAndReplacedInSameParent.parent"><code>parent</code></a>'s annotations with previous index &gt;= <a href="#AnnotationMovedAndReplacedInSameParent.oldIndex"><code>oldIndex</code></a> have been moved to next lower index.
Example:<br>
<code>oldIndex=4</code>: <code>A[0] B[1] C[2] D[3] <strong>X[4]</strong> E[5] F[6]</code> &#8594;<br>
<code>newIndex=1</code>: <code>A[0] <strong>X[1]</strong> C[2] D[3] <em>E[4] F[5]</em></code></p>
</div>
<div class="paragraph">
<p><a href="#AnnotationMovedAndReplacedInSameParent.oldIndex"><code>oldIndex</code></a> MUST NOT be equal to <a href="#AnnotationMovedAndReplacedInSameParent.newIndex"><code>newIndex</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>AnnotationMovedAndReplacedInSameParent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.newIndex"></a>newIndex
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.movedAnnotation"></a>movedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.oldIndex"></a>oldIndex
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.replacedAnnotation"></a>replacedAnnotation
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.replacedDescendants"></a>replacedDescendants
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="AnnotationMovedAndReplacedInSameParent.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-MoveAndReplaceAnnotationInSameParent">Move annotation in same parent and replace existing annotation</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="evnt-references">5.7.7. References</h4>
<div class="sect4">
<h5 id="evnt-ReferenceAdded">5.7.7.1. Reference added</h5>
<div class="paragraph">
<p>Reference with <a href="#ReferenceAdded.newReference"><code>newReference</code></a>/<a href="#ReferenceAdded.newResolveInfo"><code>newResolveInfo</code></a> has been added to <a href="#ReferenceAdded.parent"><code>parent</code></a>'s <a href="#ReferenceAdded.reference"><code>reference</code></a> at <a href="#ReferenceAdded.index"><code>index</code></a>.
All other entries inside <a href="#ReferenceAdded.parent"><code>parent</code></a>'s <a href="#ReferenceAdded.reference"><code>reference</code></a> with index &gt;= <a href="#ReferenceAdded.index"><code>index</code></a> have been moved to next higher index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ReferenceAdded</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ReferenceAdded.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceAdded.reference"></a>reference
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceAdded.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceAdded.newReference"></a>newReference
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceAdded.newResolveInfo"></a>newResolveInfo
</td>
<td class="hdlist2">
<p><a href="#resolveInfoType">ResolveInfo</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceAdded.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceAdded.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceAdded.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-AddReference">Add reference</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ReferenceDeleted">5.7.7.2. Reference deleted</h5>
<div class="paragraph">
<p>Existing reference with <a href="#ReferenceDeleted.deletedReference"><code>deletedReference</code></a>/<a href="#ReferenceDeleted.deletedResolveInfo"><code>deletedResolveInfo</code></a> has been deleted from <a href="#ReferenceDeleted.parent"><code>parent</code></a>'s <a href="#ReferenceDeleted.reference"><code>reference</code></a> at <a href="#ReferenceDeleted.index"><code>index</code></a>.
All other entries inside <a href="#ReferenceDeleted.parent"><code>parent</code></a>'s <a href="#ReferenceDeleted.reference"><code>reference</code></a> with index &gt; <a href="#ReferenceDeleted.index"><code>index</code></a> have been moved to next lower index.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ReferenceDeleted</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ReferenceDeleted.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceDeleted.reference"></a>reference
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceDeleted.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceDeleted.deletedReference"></a>deletedReference
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceDeleted.deletedResolveInfo"></a>deletedResolveInfo
</td>
<td class="hdlist2">
<p><a href="#resolveInfoType">ResolveInfo</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceDeleted.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceDeleted.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceDeleted.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-DeleteReference">Delete reference</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ReferenceChanged">5.7.7.3. Reference changed</h5>
<div class="paragraph">
<p>Existing reference with <a href="#ReferenceChanged.oldReference"><code>oldReference</code></a>/<a href="#ReferenceChanged.oldResolveInfo"><code>oldResolveInfo</code></a> inside <a href="#ReferenceChanged.parent"><code>parent</code></a>'s annotations at <a href="#ReferenceChanged.index"><code>index</code></a> has been replaced with <a href="#ReferenceChanged.newReference"><code>newReference</code></a>/<a href="#ReferenceChanged.newResolveInfo"><code>newResolveInfo</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ReferenceChanged</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.parent"></a>parent
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.reference"></a>reference
</td>
<td class="hdlist2">
<p><a href="#metaPointerType">MetaPointer</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.index"></a>index
</td>
<td class="hdlist2">
<p><a href="#indexType">Index</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.newReference"></a>newReference
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.newResolveInfo"></a>newResolveInfo
</td>
<td class="hdlist2">
<p><a href="#resolveInfoType">ResolveInfo</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.oldReference"></a>oldReference
</td>
<td class="hdlist2">
<p><a href="#targetNodeType">TargetNode</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.oldResolveInfo"></a>oldResolveInfo
</td>
<td class="hdlist2">
<p><a href="#resolveInfoType">ResolveInfo</a>?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="ReferenceChanged.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-ChangeReference">Change reference</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="evnt-miscellaneous">5.7.8. Miscellaneous</h4>
<div class="sect4">
<h5 id="evnt-CompositeEvent">5.7.8.1. Composite</h5>
<div class="paragraph">
<p>The events in <a href="#CompositeEvent.parts"><code>parts</code></a> have happened in the given order.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_42" title="View footnote.">42</a>]</sup></p>
</div>
<div class="paragraph">
<p>Composite events don&#8217;t mention origin commands on their own; they are only mentioned in each part.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup>
We can nest composite events arbitrarily.<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_44" title="View footnote.">44</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>CompositeEvent</code> <sup class="footnote">[<a id="_footnoteref_49" class="footnote" href="#_footnotedef_49" title="View footnote.">49</a>]</sup></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="CompositeEvent.parts"></a>parts
</td>
<td class="hdlist2">
<p><a href="#eventType">Event</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="CompositeEvent.protocolMessages"></a>protocolMessages
</td>
<td class="hdlist2">
<p><a href="#protocolMessagesType">[protocolMessagesType]</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><a href="#cmd-CompositeCommand">Composite</a></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-NoOp">5.7.8.2. No-op</h5>
<div class="paragraph">
<p>Nothing happened as result of one or more command(s).<sup class="footnote" id="_footnote_org314">[<a id="_footnoteref_50" class="footnote" href="#_footnotedef_50" title="View footnote.">50</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>NoOp</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="NoOp.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="NoOp.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="NoOp.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><em>none</em></p>
</div>
</div>
<div class="sect4">
<h5 id="evnt-ErrorEvent">5.7.8.3. ErrorEvent</h5>
<div class="paragraph">
<p>Repository couldn&#8217;t handle one or more command(s).<sup class="footnote" id="_footnote_org316">[<a id="_footnoteref_51" class="footnote" href="#_footnotedef_51" title="View footnote.">51</a>]</sup><sup class="footnoteref">[<a class="footnote" href="#_footnotedef_34" title="View footnote.">34</a>]</sup></p>
</div>
<div class="paragraph">
<p>The repository MAY send an error event to only one participation.<sup class="footnote" id="_footnote_org379">[<a id="_footnoteref_52" class="footnote" href="#_footnotedef_52" title="View footnote.">52</a>]</sup></p>
</div>
<div class="paragraph">
<p>See also <a href="#qry-ErrorResponse">Error response</a>.</p>
</div>
<div class="paragraph">
<div class="title">Technical name</div>
<p><code>ErrorEvent</code></p>
</div>
<div class="hdlist">
<div class="title">Parameters</div>
<table>
<tr>
<td class="hdlist1">
<a id="Error.errorCode"></a>errorCode
</td>
<td class="hdlist2">
<p><code>String</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Error.message"></a>message
</td>
<td class="hdlist2">
<p><code>String</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Error.originCommands"></a>originCommands
</td>
<td class="hdlist2">
<p><a href="#commandSourceType">CommandSource</a>[]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Error.sequenceNumber"></a>sequenceNumber
</td>
<td class="hdlist2">
<p><a href="#event-sequence-number">event sequence number</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="Error.additionalInfos"></a>additionalInfos
</td>
<td class="hdlist2">
<p><a href="#additionalInfosType">additionalInfos</a></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Related command</div>
<p><em>none</em></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deltaJsonSchema">Appendix A: Delta JSON Schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The LionWeb <a href="delta.schema.json">delta JSON Schema</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://lionweb.io/delta.schema.json",
  "title": "LionWeb Delta Protocol",
  "description": "Version: 0",
  "type": "object",
  "anyOf": [
    {
      "$ref": "#/$defs/QueryRequests"
    },
    {
      "$ref": "#/$defs/QueryResponses"
    },
    {
      "$ref": "#/$defs/Commands"
    },
    {
      "$ref": "#/$defs/Events"
    }
  ],
  "$defs": {
    "id": {
      "type": "string",
      "minLength": 1,
      "pattern": "^[a-zA-Z0-9_-]+$"
    },
    "deltaProtocolVersion": {
      "enum": [
        "2026.1"
      ]
    },
    "key": {
      "$ref": "#/$defs/id"
    },
    "version": {
      "type": "string",
      "minLength": 1
    },
    "metaPointer": {
      "type": "object",
      "properties": {
        "language": {
          "$ref": "#/$defs/key"
        },
        "version": {
          "$ref": "#/$defs/version"
        },
        "key": {
          "$ref": "#/$defs/key"
        }
      },
      "required": [
        "language",
        "version",
        "key"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "depthLimit": {
      "type": "integer",
      "minimum": 0
    },
    "split": {
      "type": "boolean"
    },
    "continuedChunkCompleted": {
      "type": "boolean"
    },
    "continuedChunkSequenceNumber": {
      "type": "integer",
      "minimum": 0
    },
    "DeltaSerializationChunk": {
      "type": "object",
      "properties": {
        "nodes": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedNode"
          },
          "uniqueItems": true
        }
      },
      "required": [
        "nodes"
      ],
      "additionalProperties": false,
      "minProperties": 1,
      "maxProperties": 1
    },
    "SerializedNode": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/$defs/targetNode"
        },
        "classifier": {
          "$ref": "#/$defs/metaPointer"
        },
        "properties": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedProperty"
          }
        },
        "containments": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedContainment"
          }
        },
        "references": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedReference"
          }
        },
        "annotations": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/id"
          },
          "uniqueItems": true
        },
        "parent": {
          "oneOf": [
            {
              "$ref": "#/$defs/id"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "id",
        "classifier",
        "properties",
        "containments",
        "references",
        "annotations",
        "parent"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "SerializedProperty": {
      "type": "object",
      "properties": {
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "value": {
          "oneOf": [
            {
              "$ref": "#/$defs/propertyValue"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "property",
        "value"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "SerializedContainment": {
      "type": "object",
      "properties": {
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "children": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/id"
          },
          "uniqueItems": true
        }
      },
      "required": [
        "containment",
        "children"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "SerializedReference": {
      "type": "object",
      "properties": {
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "targets": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SerializedReferenceTarget"
          }
        }
      },
      "required": [
        "reference",
        "targets"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "SerializedReferenceTarget": {
      "type": "object",
      "properties": {
        "resolveInfo": {
          "$ref": "#/$defs/optionalResolveInfo"
        },
        "reference": {
          "$ref": "#/$defs/optionalTargetNode"
        }
      },
      "required": [
        "resolveInfo",
        "reference"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "queryId": {
      "$ref": "#/$defs/id"
    },
    "commandId": {
      "$ref": "#/$defs/id"
    },
    "commandSource": {
      "type": "object",
      "properties": {
        "participationId": {
          "$ref": "#/$defs/participationId"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        }
      },
      "required": [
        "participationId",
        "commandId"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "commandSources": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/commandSource"
      },
      "uniqueItems": true
    },
    "participationId": {
      "$ref": "#/$defs/id"
    },
    "repositoryId": {
      "$ref": "#/$defs/id"
    },
    "clientId": {
      "$ref": "#/$defs/id"
    },
    "targetNode": {
      "$ref": "#/$defs/id"
    },
    "optionalTargetNode": {
      "oneOf": [
        {
          "$ref": "#/$defs/targetNode"
        },
        {
          "type": "null"
        }
      ]
    },
    "targetNodes": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/targetNode"
      },
      "uniqueItems": true
    },
    "resolveInfo": {
      "type": "string"
    },
    "optionalResolveInfo": {
      "oneOf": [
        {
          "$ref": "#/$defs/resolveInfo"
        },
        {
          "type": "null"
        }
      ]
    },
    "eventSequenceNumber": {
      "type": "integer",
      "minimum": 0
    },
    "propertyValue": {
      "type": "string"
    },
    "index": {
      "type": "integer",
      "minimum": 0
    },
    "additionalInfoKind": {
      "$ref": "#/$defs/id"
    },
    "errorCode": {
      "$ref": "#/$defs/id"
    },
    "additionalInfoDataKey": {
      "$ref": "#/$defs/id"
    },
    "additionalInfos": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/AdditionalInfo"
      }
    },
    "AdditionalInfo": {
      "properties": {
        "kind": {
          "$ref": "#/$defs/additionalInfoKind"
        },
        "distribute": {
          "$ref": "#/$defs/additionalInfoDistribute"
        },
        "message": {
          "type": "string"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/AdditionalInfoData"
          }
        }
      },
      "required": [
        "kind",
        "message",
        "data"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 4
    },
    "additionalInfoDistribute": {
      "type": "boolean",
      "default": false
    },
    "AdditionalInfoData": {
      "properties": {
        "key": {
          "$ref": "#/$defs/additionalInfoDataKey"
        },
        "value": {
          "type": "string"
        }
      },
      "required": [
        "key",
        "value"
      ],
      "additionalProperties": false,
      "minProperties": 2,
      "maxProperties": 2
    },
    "QueryRequests": {
      "anyOf": [
        {
          "$ref": "#/$defs/SubscribeToChangingPartitionsRequest"
        },
        {
          "$ref": "#/$defs/InformAboutChangingPartitionsRequest"
        },
        {
          "$ref": "#/$defs/SubscribeToPartitionContentsRequest"
        },
        {
          "$ref": "#/$defs/UnsubscribeFromPartitionContentsRequest"
        },
        {
          "$ref": "#/$defs/SignOnRequest"
        },
        {
          "$ref": "#/$defs/SignOffRequest"
        },
        {
          "$ref": "#/$defs/ReconnectRequest"
        },
        {
          "$ref": "#/$defs/GetAvailableIdsRequest"
        },
        {
          "$ref": "#/$defs/ListPartitionsRequest"
        },
        {
          "$ref": "#/$defs/ListAndSubscribePartitionsRequest"
        }
      ]
    },
    "QueryResponses": {
      "anyOf": [
        {
          "$ref": "#/$defs/SubscribeToChangingPartitionsResponse"
        },
        {
          "$ref": "#/$defs/InformAboutChangingPartitionsResponse"
        },
        {
          "$ref": "#/$defs/SubscribeToPartitionContentsResponse"
        },
        {
          "$ref": "#/$defs/UnsubscribeFromPartitionContentsResponse"
        },
        {
          "$ref": "#/$defs/SignOnResponse"
        },
        {
          "$ref": "#/$defs/SignOffResponse"
        },
        {
          "$ref": "#/$defs/ReconnectResponse"
        },
        {
          "$ref": "#/$defs/GetAvailableIdsResponse"
        },
        {
          "$ref": "#/$defs/ListPartitionsResponse"
        },
        {
          "$ref": "#/$defs/ListAndSubscribePartitionsResponse"
        },
        {
          "$ref": "#/$defs/ErrorResponse"
        },
        {
          "$ref": "#/$defs/ChunkedQueryResponse"
        }
      ]
    },
    "SubscribeToChangingPartitionsRequest": {
      "properties": {
        "messageKind": {
          "const": "SubscribeToChangingPartitionsRequest"
        },
        "creation": {
          "type": "boolean"
        },
        "deletion": {
          "type": "boolean"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "creation",
        "deletion",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 5
    },
    "SubscribeToChangingPartitionsResponse": {
      "properties": {
        "messageKind": {
          "const": "SubscribeToChangingPartitionsResponse"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "InformAboutChangingPartitionsRequest": {
      "properties": {
        "messageKind": {
          "const": "InformAboutChangingPartitionsRequest"
        },
        "creation": {
          "type": "boolean"
        },
        "deletion": {
          "type": "boolean"
        },
        "depthLimit": {
          "$ref": "#/$defs/depthLimit"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "creation",
        "deletion",
        "depthLimit",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "InformAboutChangingPartitionsResponse": {
      "properties": {
        "messageKind": {
          "const": "InformAboutChangingPartitionsResponse"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "SubscribeToPartitionContentsRequest": {
      "properties": {
        "messageKind": {
          "const": "SubscribeToPartitionContentsRequest"
        },
        "partition": {
          "$ref": "#/$defs/targetNode"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "partition",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "SubscribeToPartitionContentsResponse": {
      "properties": {
        "messageKind": {
          "const": "SubscribeToPartitionContentsResponse"
        },
        "contents": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "contents",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "UnsubscribeFromPartitionContentsRequest": {
      "properties": {
        "messageKind": {
          "const": "UnsubscribeFromPartitionContentsRequest"
        },
        "partition": {
          "$ref": "#/$defs/targetNode"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "partition",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "UnsubscribeFromPartitionContentsResponse": {
      "properties": {
        "messageKind": {
          "const": "UnsubscribeFromPartitionContentsResponse"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "SignOnRequest": {
      "properties": {
        "messageKind": {
          "const": "SignOnRequest"
        },
        "deltaProtocolVersion": {
          "$ref": "#/$defs/deltaProtocolVersion"
        },
        "clientId": {
          "$ref": "#/$defs/clientId"
        },
        "repositoryId": {
          "$ref": "#/$defs/repositoryId"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "deltaProtocolVersion",
        "clientId",
        "repositoryId",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "SignOnResponse": {
      "properties": {
        "messageKind": {
          "const": "SignOnResponse"
        },
        "participationId": {
          "$ref": "#/$defs/participationId"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "participationId",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "SignOffRequest": {
      "properties": {
        "messageKind": {
          "const": "SignOffRequest"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "SignOffResponse": {
      "properties": {
        "messageKind": {
          "const": "SignOffResponse"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "ReconnectRequest": {
      "properties": {
        "messageKind": {
          "const": "ReconnectRequest"
        },
        "participationId": {
          "$ref": "#/$defs/participationId"
        },
        "lastReceivedSequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "participationId",
        "lastReceivedSequenceNumber",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 5
    },
    "ReconnectResponse": {
      "properties": {
        "messageKind": {
          "const": "ReconnectResponse"
        },
        "lastSentSequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "lastSentSequenceNumber",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "GetAvailableIdsRequest": {
      "properties": {
        "messageKind": {
          "const": "GetAvailableIdsRequest"
        },
        "count": {
          "type": "integer",
          "minimum": 0
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "count",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "GetAvailableIdsResponse": {
      "properties": {
        "messageKind": {
          "const": "GetAvailableIdsResponse"
        },
        "ids": {
          "$ref": "#/$defs/targetNodes"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "ids",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "ListPartitionsRequest": {
      "properties": {
        "messageKind": {
          "const": "ListPartitionsRequest"
        },
        "depthLimit": {
          "$ref": "#/$defs/depthLimit"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "depthLimit",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "ListPartitionsResponse": {
      "properties": {
        "messageKind": {
          "const": "ListPartitionsResponse"
        },
        "partitions": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "partitions",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "ListAndSubscribePartitionsRequest": {
      "properties": {
        "messageKind": {
          "const": "ListAndSubscribePartitionsRequest"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "ListAndSubscribePartitionsResponse": {
      "properties": {
        "messageKind": {
          "const": "ListAndSubscribePartitionsResponse"
        },
        "partitions": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "partitions",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "ErrorResponse": {
      "properties": {
        "messageKind": {
          "const": "ErrorResponse"
        },
        "errorCode": {
          "$ref": "#/$defs/errorCode"
        },
        "message": {
          "type": "string"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "errorCode",
        "message",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 5
    },
    "ChunkedQueryResponse": {
      "properties": {
        "messageKind": {
          "const": "ChunkedQueryResponse"
        },
        "chunk": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "continuedChunkCompleted": {
          "$ref": "#/$defs/continuedChunkCompleted"
        },
        "continuedChunkSequenceNumber": {
          "$ref": "#/$defs/continuedChunkSequenceNumber"
        },
        "queryId": {
          "$ref": "#/$defs/queryId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "continuedChunkCompleted",
        "continuedChunkSequenceNumber",
        "queryId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "Commands": {
      "anyOf": [
        {
          "$ref": "#/$defs/AddPartition"
        },
        {
          "$ref": "#/$defs/DeletePartition"
        },
        {
          "$ref": "#/$defs/ChangeClassifier"
        },
        {
          "$ref": "#/$defs/AddProperty"
        },
        {
          "$ref": "#/$defs/DeleteProperty"
        },
        {
          "$ref": "#/$defs/ChangeProperty"
        },
        {
          "$ref": "#/$defs/AddChild"
        },
        {
          "$ref": "#/$defs/DeleteChild"
        },
        {
          "$ref": "#/$defs/ReplaceChild"
        },
        {
          "$ref": "#/$defs/MoveChildFromOtherContainment"
        },
        {
          "$ref": "#/$defs/MoveChildFromOtherContainmentInSameParent"
        },
        {
          "$ref": "#/$defs/MoveChildInSameContainment"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceChildFromOtherContainment"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceChildFromOtherContainmentInSameParent"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceChildInSameContainment"
        },
        {
          "$ref": "#/$defs/AddAnnotation"
        },
        {
          "$ref": "#/$defs/DeleteAnnotation"
        },
        {
          "$ref": "#/$defs/ReplaceAnnotation"
        },
        {
          "$ref": "#/$defs/MoveAnnotationFromOtherParent"
        },
        {
          "$ref": "#/$defs/MoveAnnotationInSameParent"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceAnnotationFromOtherParent"
        },
        {
          "$ref": "#/$defs/MoveAndReplaceAnnotationInSameParent"
        },
        {
          "$ref": "#/$defs/AddReference"
        },
        {
          "$ref": "#/$defs/DeleteReference"
        },
        {
          "$ref": "#/$defs/ChangeReference"
        },
        {
          "$ref": "#/$defs/CompositeCommand"
        },
        {
          "$ref": "#/$defs/ChunkedCommand"
        }
      ]
    },
    "AddPartition": {
      "properties": {
        "messageKind": {
          "const": "AddPartition"
        },
        "newPartition": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newPartition",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 5
    },
    "DeletePartition": {
      "properties": {
        "messageKind": {
          "const": "DeletePartition"
        },
        "deletedPartition": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "deletedPartition",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "ChangeClassifier": {
      "properties": {
        "messageKind": {
          "const": "ChangeClassifier"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "newClassifier": {
          "$ref": "#/$defs/metaPointer"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "node",
        "newClassifier",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 5
    },
    "AddProperty": {
      "properties": {
        "messageKind": {
          "const": "AddProperty"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "newValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "newValue",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "DeleteProperty": {
      "properties": {
        "messageKind": {
          "const": "DeleteProperty"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 5
    },
    "ChangeProperty": {
      "properties": {
        "messageKind": {
          "const": "ChangeProperty"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "newValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "newValue",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "AddChild": {
      "properties": {
        "messageKind": {
          "const": "AddChild"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newChild": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newChild",
        "containment",
        "index",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "DeleteChild": {
      "properties": {
        "messageKind": {
          "const": "DeleteChild"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "containment",
        "index",
        "deletedChild",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "ReplaceChild": {
      "properties": {
        "messageKind": {
          "const": "ReplaceChild"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newChild": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newChild",
        "containment",
        "index",
        "replacedChild",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "MoveChildFromOtherContainment": {
      "properties": {
        "messageKind": {
          "const": "MoveChildFromOtherContainment"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newContainment",
        "newIndex",
        "movedChild",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "MoveChildFromOtherContainmentInSameParent": {
      "properties": {
        "messageKind": {
          "const": "MoveChildFromOtherContainmentInSameParent"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newContainment",
        "newIndex",
        "movedChild",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "MoveChildInSameContainment": {
      "properties": {
        "messageKind": {
          "const": "MoveChildInSameContainment"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedChild",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 5
    },
    "MoveAndReplaceChildFromOtherContainment": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceChildFromOtherContainment"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newContainment",
        "newIndex",
        "replacedChild",
        "movedChild",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 8
    },
    "MoveAndReplaceChildFromOtherContainmentInSameParent": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceChildFromOtherContainmentInSameParent"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newContainment",
        "newIndex",
        "replacedChild",
        "movedChild",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "MoveAndReplaceChildInSameContainment": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceChildInSameContainment"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "replacedChild",
        "movedChild",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "AddAnnotation": {
      "properties": {
        "messageKind": {
          "const": "AddAnnotation"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newAnnotation": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newAnnotation",
        "index",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 7
    },
    "DeleteAnnotation": {
      "properties": {
        "messageKind": {
          "const": "DeleteAnnotation"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "index",
        "deletedAnnotation",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "ReplaceAnnotation": {
      "properties": {
        "messageKind": {
          "const": "ReplaceAnnotation"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newAnnotation": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newAnnotation",
        "index",
        "replacedAnnotation",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "MoveAnnotationFromOtherParent": {
      "properties": {
        "messageKind": {
          "const": "MoveAnnotationFromOtherParent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newIndex",
        "movedAnnotation",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "MoveAnnotationInSameParent": {
      "properties": {
        "messageKind": {
          "const": "MoveAnnotationInSameParent"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedAnnotation",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 5
    },
    "MoveAndReplaceAnnotationFromOtherParent": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceAnnotationFromOtherParent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newIndex",
        "replacedAnnotation",
        "movedAnnotation",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "MoveAndReplaceAnnotationInSameParent": {
      "properties": {
        "messageKind": {
          "const": "MoveAndReplaceAnnotationInSameParent"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "replacedAnnotation",
        "movedAnnotation",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "AddReference": {
      "properties": {
        "messageKind": {
          "const": "AddReference"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newReference": {
          "$ref": "#/$defs/targetNode"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 8
    },
    "DeleteReference": {
      "properties": {
        "messageKind": {
          "const": "DeleteReference"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedReference": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 8
    },
    "ChangeReference": {
      "properties": {
        "messageKind": {
          "const": "ChangeReference"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "oldReference": {
          "$ref": "#/$defs/targetNode"
        },
        "oldResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "newReference": {
          "$ref": "#/$defs/targetNode"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 10
    },
    "CompositeCommand": {
      "properties": {
        "messageKind": {
          "const": "CompositeCommand"
        },
        "parts": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Commands"
          }
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "parts",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "ChunkedCommand": {
      "properties": {
        "messageKind": {
          "const": "ChunkedCommand"
        },
        "chunk": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "continuedChunkCompleted": {
          "$ref": "#/$defs/continuedChunkCompleted"
        },
        "continuedChunkSequenceNumber": {
          "$ref": "#/$defs/continuedChunkSequenceNumber"
        },
        "commandId": {
          "$ref": "#/$defs/commandId"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "chunk",
        "continuedChunkCompleted",
        "continuedChunkSequenceNumber",
        "commandId",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "Events": {
      "anyOf": [
        {
          "$ref": "#/$defs/PartitionAdded"
        },
        {
          "$ref": "#/$defs/PartitionDeleted"
        },
        {
          "$ref": "#/$defs/ClassifierChanged"
        },
        {
          "$ref": "#/$defs/PropertyAdded"
        },
        {
          "$ref": "#/$defs/PropertyDeleted"
        },
        {
          "$ref": "#/$defs/PropertyChanged"
        },
        {
          "$ref": "#/$defs/ChildAdded"
        },
        {
          "$ref": "#/$defs/ChildDeleted"
        },
        {
          "$ref": "#/$defs/ChildReplaced"
        },
        {
          "$ref": "#/$defs/ChildMovedFromOtherContainment"
        },
        {
          "$ref": "#/$defs/ChildMovedFromOtherContainmentInSameParent"
        },
        {
          "$ref": "#/$defs/ChildMovedInSameContainment"
        },
        {
          "$ref": "#/$defs/ChildMovedAndReplacedFromOtherContainment"
        },
        {
          "$ref": "#/$defs/ChildMovedAndReplacedFromOtherContainmentInSameParent"
        },
        {
          "$ref": "#/$defs/ChildMovedAndReplacedInSameContainment"
        },
        {
          "$ref": "#/$defs/AnnotationAdded"
        },
        {
          "$ref": "#/$defs/AnnotationDeleted"
        },
        {
          "$ref": "#/$defs/AnnotationReplaced"
        },
        {
          "$ref": "#/$defs/AnnotationMovedFromOtherParent"
        },
        {
          "$ref": "#/$defs/AnnotationMovedInSameParent"
        },
        {
          "$ref": "#/$defs/AnnotationMovedAndReplacedFromOtherParent"
        },
        {
          "$ref": "#/$defs/AnnotationMovedAndReplacedInSameParent"
        },
        {
          "$ref": "#/$defs/ReferenceAdded"
        },
        {
          "$ref": "#/$defs/ReferenceDeleted"
        },
        {
          "$ref": "#/$defs/ReferenceChanged"
        },
        {
          "$ref": "#/$defs/NoOpEvent"
        },
        {
          "$ref": "#/$defs/CompositeEvent"
        },
        {
          "$ref": "#/$defs/ErrorEvent"
        },
        {
          "$ref": "#/$defs/ChunkedEvent"
        }
      ]
    },
    "PartitionAdded": {
      "properties": {
        "messageKind": {
          "const": "PartitionAdded"
        },
        "newPartition": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newPartition",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 5,
      "maxProperties": 6
    },
    "PartitionDeleted": {
      "properties": {
        "messageKind": {
          "const": "PartitionDeleted"
        },
        "deletedPartition": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "deletedPartition",
        "deletedDescendants",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "ClassifierChanged": {
      "properties": {
        "messageKind": {
          "const": "ClassifierChanged"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "newClassifier": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldClassifier": {
          "$ref": "#/$defs/metaPointer"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "node",
        "newClassifier",
        "oldClassifier",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "PropertyAdded": {
      "properties": {
        "messageKind": {
          "const": "PropertyAdded"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "newValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "newValue",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "PropertyDeleted": {
      "properties": {
        "messageKind": {
          "const": "PropertyDeleted"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "oldValue",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    },
    "PropertyChanged": {
      "properties": {
        "messageKind": {
          "const": "PropertyChanged"
        },
        "node": {
          "$ref": "#/$defs/targetNode"
        },
        "property": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "newValue": {
          "$ref": "#/$defs/propertyValue"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "node",
        "property",
        "oldValue",
        "newValue",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 8
    },
    "ChildAdded": {
      "properties": {
        "messageKind": {
          "const": "ChildAdded"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newChild": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newChild",
        "containment",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 9
    },
    "ChildDeleted": {
      "properties": {
        "messageKind": {
          "const": "ChildDeleted"
        },
        "deletedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "deletedChild",
        "deletedDescendants",
        "parent",
        "containment",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 9
    },
    "ChildReplaced": {
      "properties": {
        "messageKind": {
          "const": "ChildReplaced"
        },
        "newChild": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newChild",
        "replacedChild",
        "replacedDescendants",
        "parent",
        "containment",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 11
    },
    "ChildMovedFromOtherContainment": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedFromOtherContainment"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newContainment",
        "newIndex",
        "movedChild",
        "oldParent",
        "oldContainment",
        "oldIndex",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 11,
      "maxProperties": 11
    },
    "ChildMovedFromOtherContainmentInSameParent": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedFromOtherContainmentInSameParent"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newContainment",
        "newIndex",
        "movedChild",
        "parent",
        "oldContainment",
        "oldIndex",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 10
    },
    "ChildMovedInSameContainment": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedInSameContainment"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedChild",
        "parent",
        "containment",
        "oldIndex",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 9
    },
    "ChildMovedAndReplacedFromOtherContainment": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedAndReplacedFromOtherContainment"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newContainment",
        "newIndex",
        "movedChild",
        "oldParent",
        "oldContainment",
        "oldIndex",
        "replacedChild",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 13,
      "maxProperties": 13
    },
    "ChildMovedAndReplacedFromOtherContainmentInSameParent": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedAndReplacedFromOtherContainmentInSameParent"
        },
        "newContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldContainment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newContainment",
        "newIndex",
        "movedChild",
        "parent",
        "oldContainment",
        "oldIndex",
        "replacedChild",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 12,
      "maxProperties": 12
    },
    "ChildMovedAndReplacedInSameContainment": {
      "properties": {
        "messageKind": {
          "const": "ChildMovedAndReplacedInSameContainment"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "containment": {
          "$ref": "#/$defs/metaPointer"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedChild": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedChild",
        "parent",
        "containment",
        "oldIndex",
        "replacedChild",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 11,
      "maxProperties": 11
    },
    "AnnotationAdded": {
      "properties": {
        "messageKind": {
          "const": "AnnotationAdded"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "newAnnotation": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "newAnnotation",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 8
    },
    "AnnotationDeleted": {
      "properties": {
        "messageKind": {
          "const": "AnnotationDeleted"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "deletedAnnotation",
        "deletedDescendants",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 8
    },
    "AnnotationReplaced": {
      "properties": {
        "messageKind": {
          "const": "AnnotationReplaced"
        },
        "newAnnotation": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "split": {
          "$ref": "#/$defs/split"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newAnnotation",
        "replacedAnnotation",
        "replacedDescendants",
        "parent",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 10
    },
    "AnnotationMovedFromOtherParent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationMovedFromOtherParent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newIndex",
        "movedAnnotation",
        "oldParent",
        "oldIndex",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 9,
      "maxProperties": 9
    },
    "AnnotationMovedInSameParent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationMovedInSameParent"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedAnnotation",
        "parent",
        "oldIndex",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 8,
      "maxProperties": 8
    },
    "AnnotationMovedAndReplacedFromOtherParent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationMovedAndReplacedFromOtherParent"
        },
        "newParent": {
          "$ref": "#/$defs/targetNode"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "oldParent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newParent",
        "newIndex",
        "movedAnnotation",
        "oldParent",
        "oldIndex",
        "replacedAnnotation",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 11,
      "maxProperties": 11
    },
    "AnnotationMovedAndReplacedInSameParent": {
      "properties": {
        "messageKind": {
          "const": "AnnotationMovedAndReplacedInSameParent"
        },
        "newIndex": {
          "$ref": "#/$defs/index"
        },
        "movedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "oldIndex": {
          "$ref": "#/$defs/index"
        },
        "replacedAnnotation": {
          "$ref": "#/$defs/targetNode"
        },
        "replacedDescendants": {
          "$ref": "#/$defs/targetNodes"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "newIndex",
        "movedAnnotation",
        "parent",
        "oldIndex",
        "replacedAnnotation",
        "replacedDescendants",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 10,
      "maxProperties": 10
    },
    "ReferenceAdded": {
      "properties": {
        "messageKind": {
          "const": "ReferenceAdded"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newReference": {
          "$ref": "#/$defs/targetNode"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 9
    },
    "ReferenceDeleted": {
      "properties": {
        "messageKind": {
          "const": "ReferenceDeleted"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "deletedReference": {
          "$ref": "#/$defs/targetNode"
        },
        "deletedResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 9
    },
    "ReferenceChanged": {
      "properties": {
        "messageKind": {
          "const": "ReferenceChanged"
        },
        "parent": {
          "$ref": "#/$defs/targetNode"
        },
        "reference": {
          "$ref": "#/$defs/metaPointer"
        },
        "index": {
          "$ref": "#/$defs/index"
        },
        "newReference": {
          "$ref": "#/$defs/targetNode"
        },
        "newResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "oldReference": {
          "$ref": "#/$defs/targetNode"
        },
        "oldResolveInfo": {
          "$ref": "#/$defs/resolveInfo"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parent",
        "reference",
        "index",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 11
    },
    "CompositeEvent": {
      "properties": {
        "messageKind": {
          "const": "CompositeEvent"
        },
        "parts": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Events"
          }
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "parts",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 3,
      "maxProperties": 3
    },
    "NoOpEvent": {
      "properties": {
        "messageKind": {
          "const": "NoOpEvent"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 4,
      "maxProperties": 4
    },
    "ErrorEvent": {
      "properties": {
        "messageKind": {
          "const": "ErrorEvent"
        },
        "errorCode": {
          "$ref": "#/$defs/errorCode"
        },
        "message": {
          "type": "string"
        },
        "originCommands": {
          "$ref": "#/$defs/commandSources"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "errorCode",
        "message",
        "originCommands",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 6,
      "maxProperties": 6
    },
    "ChunkedEvent": {
      "properties": {
        "messageKind": {
          "const": "ChunkedEvent"
        },
        "chunk": {
          "$ref": "#/$defs/DeltaSerializationChunk"
        },
        "continuedChunkCompleted": {
          "$ref": "#/$defs/continuedChunkCompleted"
        },
        "continuedChunkSequenceNumber": {
          "$ref": "#/$defs/continuedChunkSequenceNumber"
        },
        "chunkedEventSequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "sequenceNumber": {
          "$ref": "#/$defs/eventSequenceNumber"
        },
        "additionalInfos": {
          "$ref": "#/$defs/additionalInfos"
        }
      },
      "required": [
        "messageKind",
        "chunk",
        "continuedChunkCompleted",
        "continuedChunkSequenceNumber",
        "chunkedEventSequenceNumber",
        "sequenceNumber",
        "additionalInfos"
      ],
      "additionalProperties": false,
      "minProperties": 7,
      "maxProperties": 7
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="https://github.com/LionWeb-io/specification/issues/337">Define Delta Participation (was: Session) #337</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://en.wikipedia.org/wiki/Command_Query_Responsibility_Segregation" class="bare">https://en.wikipedia.org/wiki/Command_Query_Responsibility_Segregation</a>
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. <a href="https://github.com/LionWeb-io/specification/issues/291">Do we separate basic model sync ("delta") from updates on changes ("notification") a la CQRS? #291</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://github.com/LionWeb-io/specification/issues/350">Is participation handling a query or something else? #350</a>
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. <a href="https://github.com/LionWeb-io/specification/issues/298">Repo must tell client if command applied successfully #298</a>
</div>
<div class="footnote" id="_footnotedef_6">
<a href="#_footnoteref_6">6</a>. <a href="https://github.com/LionWeb-io/specification/issues/306">Each event must list all command ids it results from #306</a>
</div>
<div class="footnote" id="_footnotedef_7">
<a href="#_footnoteref_7">7</a>. <a href="https://github.com/LionWeb-io/specification/issues/299">Repo must send all updates to all clients #299</a>
</div>
<div class="footnote" id="_footnotedef_8">
<a href="#_footnoteref_8">8</a>. <a href="https://github.com/LionWeb-io/specification/issues/339">Repository takes the final decision on any change to its contents #339</a>
</div>
<div class="footnote" id="_footnotedef_9">
<a href="#_footnoteref_9">9</a>. <a href="https://github.com/LionWeb-io/specification/issues/297">Repository doesn&#8217;t maintain an understanding of the state of a client&#8217;s model #297</a>
</div>
<div class="footnote" id="_footnotedef_10">
<a href="#_footnoteref_10">10</a>. <a href="https://github.com/LionWeb-io/specification/issues/341">Should we have an event sequence number? #341</a>
</div>
<div class="footnote" id="_footnotedef_11">
<a href="#_footnoteref_11">11</a>. <a href="https://github.com/LionWeb-io/specification/issues/317">How fine-grained do we want to split up commands? #317</a>
</div>
<div class="footnote" id="_footnotedef_12">
<a href="#_footnoteref_12">12</a>. <a href="https://github.com/LionWeb-io/specification/issues/329">How fine-grained do we want reference commands? #329</a>
</div>
<div class="footnote" id="_footnotedef_13">
<a href="#_footnoteref_13">13</a>. <a href="https://github.com/LionWeb-io/specification/issues/431">Refactor and Simplify Reference Delta&#8217;s #431</a>
</div>
<div class="footnote" id="_footnotedef_14">
<a href="#_footnoteref_14">14</a>. <a href="https://github.com/LionWeb-io/specification/issues/321">Moving a child between parents, replacing a child at the destination #321</a>
</div>
<div class="footnote" id="_footnotedef_15">
<a href="#_footnoteref_15">15</a>. <a href="https://github.com/LionWeb-io/specification/issues/401">Clarifying terms "repository" vs. "server" vs. "forest" #401</a>
</div>
<div class="footnote" id="_footnotedef_16">
<a href="#_footnoteref_16">16</a>. <a href="https://github.com/LionWeb-io/specification/issues/429">Assumed connection properties of default delta serialization #429</a>
</div>
<div class="footnote" id="_footnotedef_17">
<a href="#_footnoteref_17">17</a>. <a href="https://websockets.spec.whatwg.org/" class="bare">https://websockets.spec.whatwg.org/</a>
</div>
<div class="footnote" id="_footnotedef_18">
<a href="#_footnoteref_18">18</a>. <a href="https://github.com/LionWeb-io/specification/issues/428">How do LW specs relate to specific bindings / implementations #428</a>
</div>
<div class="footnote" id="_footnotedef_19">
<a href="#_footnoteref_19">19</a>. <a href="https://github.com/LionWeb-io/specification/issues/349">Can a client ask the repo if the participation is still alive? #349</a>
</div>
<div class="footnote" id="_footnotedef_20">
<a href="#_footnoteref_20">20</a>. <a href="https://github.com/LionWeb-io/specification/issues/343">Scope of event sequence number #343</a>
</div>
<div class="footnote" id="_footnotedef_21">
<a href="#_footnoteref_21">21</a>. <a href="https://github.com/LionWeb-io/specification/issues/269">How to specifiy subscription scope? #269</a>
</div>
<div class="footnote" id="_footnotedef_22">
<a href="#_footnoteref_22">22</a>. <a href="https://github.com/LionWeb-io/specification/issues/352">Can a client change a node it is not subscribed to? #352</a>
</div>
<div class="footnote" id="_footnotedef_23">
<a href="#_footnoteref_23">23</a>. <a href="https://github.com/LionWeb-io/specification/issues/305">Each command has a unique id #305</a>
</div>
<div class="footnote" id="_footnotedef_24">
<a href="#_footnoteref_24">24</a>. <a href="https://github.com/LionWeb-io/specification/issues/423">Do we need a dedicated eventId? #423</a>
</div>
<div class="footnote" id="_footnotedef_25">
<a href="#_footnoteref_25">25</a>. <a href="https://github.com/LionWeb-io/specification/issues/425">Provide partition contents only on explicit request #425</a>
</div>
<div class="footnote" id="_footnotedef_26">
<a href="#_footnoteref_26">26</a>. <a href="https://github.com/LionWeb-io/specification/issues/331">Do we allow additional data on events? #331</a>
</div>
<div class="footnote" id="_footnotedef_27">
<a href="#_footnoteref_27">27</a>. <a href="https://github.com/LionWeb-io/specification/issues/332">Do we allow additional data on commands? #332</a>
</div>
<div class="footnote" id="_footnotedef_28">
<a href="#_footnoteref_28">28</a>. <a href="https://github.com/LionWeb-io/specification/issues/430">Rename + unify ProtocolMessage? #430</a>
</div>
<div class="footnote" id="_footnotedef_29">
<a href="#_footnoteref_29">29</a>. <a href="https://github.com/LionWeb-io/specification/issues/427">Clarify use of "?" for parameters in specification #427</a>
</div>
<div class="footnote" id="_footnotedef_30">
<a href="#_footnoteref_30">30</a>. <a href="https://github.com/LionWeb-io/specification/issues/402">Representation of empty protocol messages part of delta messages #402</a>
</div>
<div class="footnote" id="_footnotedef_31">
<a href="#_footnoteref_31">31</a>. <a href="https://github.com/LionWeb-io/specification/issues/358">Does DeltaSerializationChunk have the same format as bulk SerializationChunk? #358</a>
</div>
<div class="footnote" id="_footnotedef_32">
<a href="#_footnoteref_32">32</a>. <a href="https://github.com/LionWeb-io/specification/issues/327">Do we allow to add more than one node per AddChild command? #327</a>
</div>
<div class="footnote" id="_footnotedef_33">
<a href="#_footnoteref_33">33</a>. <a href="https://github.com/LionWeb-io/specification/issues/422">Clarify semantics of Replace (with new content) commands #422</a>
</div>
<div class="footnote" id="_footnotedef_34">
<a href="#_footnoteref_34">34</a>. <a href="https://github.com/LionWeb-io/specification/issues/405">Introduce ErrorResponse #405</a>
</div>
<div class="footnote" id="_footnotedef_35">
<a href="#_footnoteref_35">35</a>. <a href="https://github.com/LionWeb-io/specification/issues/270">Can a client change its subscription scope during a connection? #270</a>
</div>
<div class="footnote" id="_footnotedef_36">
<a href="#_footnoteref_36">36</a>. <a href="https://github.com/LionWeb-io/specification/issues/344">Do we have a "end Participation" / "sign-off" API? #344</a>
</div>
<div class="footnote" id="_footnotedef_37">
<a href="#_footnoteref_37">37</a>. <a href="https://github.com/LionWeb-io/specification/issues/354">Reconnect query: Report invalid participation by error or by `participationValid` flag? #354</a>
</div>
<div class="footnote" id="_footnotedef_38">
<a href="#_footnoteref_38">38</a>. <a href="https://github.com/LionWeb-io/specification/issues/361">Do we want `listPartitions` query in delta? #361</a>
</div>
<div class="footnote" id="_footnotedef_39">
<a href="#_footnoteref_39">39</a>. <a href="https://github.com/LionWeb-io/specification/issues/285">Deleting a node does not touch existing references to that node #285</a>
</div>
<div class="footnote" id="_footnotedef_40">
<a href="#_footnoteref_40">40</a>. <a href="https://github.com/LionWeb-io/specification/issues/357">How to mark added node in DeltaSerializationChunk? #357</a>
</div>
<div class="footnote" id="_footnotedef_41">
<a href="#_footnoteref_41">41</a>. <a href="https://github.com/LionWeb-io/specification/issues/371">Potential issues with delete&lt;child/reference/&#8230;&#8203;&gt; commands #371</a>
</div>
<div class="footnote" id="_footnotedef_42">
<a href="#_footnoteref_42">42</a>. <a href="https://github.com/LionWeb-io/specification/issues/281">Delta needs to support composite commands / events #281</a>
</div>
<div class="footnote" id="_footnotedef_43">
<a href="#_footnoteref_43">43</a>. <a href="https://github.com/LionWeb-io/specification/issues/353">Does a composite command have its own commandId? #353</a>
</div>
<div class="footnote" id="_footnotedef_44">
<a href="#_footnoteref_44">44</a>. <a href="https://github.com/LionWeb-io/specification/issues/360">Can we nest composite commands / events? #360</a>
</div>
<div class="footnote" id="_footnotedef_45">
<a href="#_footnoteref_45">45</a>. This command is the only one to have a <code>Command</code> suffix, which is necessary to distinguish it from its <a href="#evnt-CompositeEvent"><code>CompositeEvent</code></a> counterpart. All other commands can be distinguished from their event counterparts by looking at whether the technical name reads as an imperative (add child  for commands), or in past perfect tense (child [has been] added  for events).
</div>
<div class="footnote" id="_footnotedef_46">
<a href="#_footnoteref_46">46</a>. <a href="https://github.com/LionWeb-io/specification/issues/370">What type and contents should the "deletedChild" property of the ChildDeleted event have #370</a>
</div>
<div class="footnote" id="_footnotedef_47">
<a href="#_footnoteref_47">47</a>. <a href="https://github.com/LionWeb-io/specification/issues/326">If we add a subtree, do we emit one add per node or only one for the (added) root node of the tree? #326</a>
</div>
<div class="footnote" id="_footnotedef_48">
<a href="#_footnoteref_48">48</a>. <a href="https://github.com/LionWeb-io/specification/issues/286">If we remove a node via delta protocol, do we also need to send events for all descendants? #286</a>
</div>
<div class="footnote" id="_footnotedef_49">
<a href="#_footnoteref_49">49</a>. This event is the only one to have a <code>Event</code> suffix, which is necessary to distinguish it from its <a href="#cmd-CompositeCommand"><code>CompositeCommand</code></a> counterpart. All other events can be distinguished from their command counterparts by looking at whether the technical name reads as an imperative (add child  for commands), or in past perfect tense (child [has been] added  for events). (The <a href="#evnt-NoOp"><code>NoOp</code></a> and <a href="#evnt-ErrorEvent"><code>Error</code></a> don&#8217;t have command counterparts.)
</div>
<div class="footnote" id="_footnotedef_50">
<a href="#_footnoteref_50">50</a>. <a href="https://github.com/LionWeb-io/specification/issues/314">How to report a command has completely been discarded, without any resulting event? #314</a>
</div>
<div class="footnote" id="_footnotedef_51">
<a href="#_footnoteref_51">51</a>. <a href="https://github.com/LionWeb-io/specification/issues/316">Repository error event #316</a>
</div>
<div class="footnote" id="_footnotedef_52">
<a href="#_footnoteref_52">52</a>. <a href="https://github.com/LionWeb-io/specification/issues/379">Do we broadcast ErrorEvent to everybody or only the originating client? #379</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2026-02-20 14:57:01 UTC
</div>
</div>
</body>
</html>